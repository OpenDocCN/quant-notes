# 【数据分析之量化案例】五天学会python金融量化数据分析 - P9：day02-03 df大杀器之索引&切片~1 - 计算机老油条 - BV14VBCYqEcn

![](img/c3cc0d20a6a1706e7bc6991905db27fb_0.png)

看一下这个data frame的一个索引跟切片一个操作，OK吧好，那么首先的话，这个data frame它是一个二维的数据结构是吧，那么咱们之前所学的NIKE呢，也是一个二维的数据结构。

那你说这个data frame，二维的数据结构和NIKE2维的数据结构，的索引和切片一样，还是不一样的对吧，那如果我们初步去分析的话，应该是一样的吧对吧，但是你要知道啊。

这个nip跟serious是两种不同形式的数据结构，虽然它们的维度是一样的，但是它们是两种不同的数据结构吧，那么所以说他们的索引和切片一定是有不同的，一定是有区别的。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_2.png)

OK吧，区别还有很大啊，还很大，那我们就来单独看一下这个data frame。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_4.png)

它的索引怎么去啊，实现啊，首先在这的话我们先去创建一个set frame吧，好数据源我们由一个NIKE给它生成吧，random点，random int ok吧，好从60~100吧，然后呢size是一个。

比如说是一个这个这个这个这个这个八行啊，八行四列，OK吧，那么在这我们单独指定一下它的列索引吧，OK吧，列索引啊，columns等于ABCDOK吧，行索引，因为有八行是吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_6.png)

我们的行索引就不指定了，我们在这就指定一下我们的列索引为显示的，而我们的行索引是隐式的吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_8.png)

OK吧，那么现在这块的话我们就有了一个data frame，那么接下来看一下它的一个索引操作，首先在这儿看一下DF，我中括号一个零，OK吧，中号一个零，那么中括号零我们这取的是D0行呢。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_10.png)

还是D0列呢，对不对，不知道，但是我们可以试一下吧，走看现在这返回的结果是一个KERA啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_12.png)

Kera，那么key error所表示的含义，就是说我们这放的索引放错了，是不是你会发现这不能放零了，是不是为啥不能放零了呢，好那么这块我们再改一下啊，换成一个什么呢，A走A放A是不是可以啊对吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_14.png)

放A是OK的啊，那所以你会发现那在我们的这个data frame当中。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_16.png)

直接在中括号当中放索引，放的是不是列索引啊对吧，在这放置的是列索引，这个是不是取列呀是吧，取单列吧，取单列啊，那这有一个注意事项，如果啊DF就是date frame吧，对吧，它的缩写就是DF啊。

data frame如果有显示的什么的，显示的这个列索引啊，有显示的索引吧，形成索引啊，那么我们再通过索引机制取机制啊，那么通过索点机制取，行或者列的时候只可以使用什么呢，显示索引吧。

对吧就不能用隐式索引了，OK吧，不能用隐式了啊，你想用隐式索引怎么办，也有一个方式啊，有一个方式啊，那么在这那如果你非得用隐式索引怎么办呢，DF点i lock中括号一个零走看一下，那这一块的话。

咱们是不是就用了一个什么呀，隐式的一个索引对吧，但是这取的并不是一列，而是一行，对不对，一行啊，那这个我们稍后再进行一个补充啊，我们非得想通过隐式索引取列也是可以的啊，也是可以的。

只不过那种机制我们稍后再说啊，所以说这块啊，如果我们在date form当中有了显示作用的话，那么意味着咱们尽量用显示索引去取值，OK吧，因为显示索引的可能性比较强是吧好，那在这我们看一下。

那能不能取多，能不能取多列呢，能不能取多列呢，看一下我取一列，这返回的是不是serious对吧，所以说咱们的data frame是由serious组成的，DF中括号我再加一个中括号，写一个A写一个C走。

你这取的是多列对吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_18.png)

那取的是AC这两列，那AC这两列就组成了一个新的data frame吧对吧，这是取，取多列，OK吧好那现在取单列和取多列，我们都会了，都想取行怎么办对吧，这取取首先我们取一个单行吧，单行对吧。

怎么取行呢，DF中号，这如果放一个零或放一个A是吧，这表示的一定是取的是列，是不是对吧，当然这放零是不行啊，是不是只能放显示的内存呀是吧，你取行怎么办，这需要加上一个什么dr lock或者i lock。

OK吧，我这儿放一个什么呢，比如说我这写一个i log吧，好这我就写一个零走，你看这取的是单行对吧，单号啊，然后的话我们再来看一下，那取多行怎么办，取多少，逗号就是DF，应该是点儿i lock。

中号再加一个中号，写个035可以吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_20.png)

走你这儿取的是不是035，这三行OK吧，所以说我们想取行的话，这一定要加上lock和i lock，OK吧，好那么这个lock跟i lock的区别啊。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_22.png)

这个i lock啊，我们知道它的作用了吧，那么除了有i lock还有什么呢，还有lock，我们就来写一下lock和i lock的一个区别啊，这个I表示的是integer的意思。

integer是不是整形啊，那所以说这个i lock后边啊，i lock i lock需要这个放的这个索引，一定是我们的隐式索引啊，它表示的是什么呀，表示是通过隐式索引。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_24.png)

行对不对，lock呢，lock是通过什么呢，显示索引取行。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_26.png)

OK吧，那目前咱们的这组数据是不是没有显示的。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_28.png)

行索引，是不是只有隐式的行索引，那这我只能用i lock，那我把它换成lock。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_30.png)

行不行，找你这就报错了，看一下这换lock啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_32.png)

换lock的话，这你看这块的话，它没有报错，是不是取出的还是第零行对吧，那我这加lock或i lock是不是取行是不是都可以啊，没有报错啊，取行都可以啊，那如果哈是这为什么没报错呢。

是因为我没有什么没有我们显示作用吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_34.png)

如果我们原始数据有显示的行索引。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_36.png)

你这用这个用ALLOCK去取显示的行索引就不行了，对吧，那这我们可以做一个测试啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_38.png)

做一个测试，你比如说啊，比如说我们这儿又用i lock跟lock做个测试好，在这的话我们还可以干什么呢，在这的话我们还可以去取一个什么呢，看这样的写法啊，DF点ALLOCK好，用一下逗号的值。

比如说我前面哈用一个零，后边呢用一个三，这是啥意思呢，来看一下走这儿取的是不是第零行。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_40.png)

第三列的值啊对吧，这个逗号左边是行，逗号边是列吧，对不对，那我这用的是不是i lock对吧，i lock跟的应该是我们的影视索引吧，那比如说我在这我原始的数据有没有显示索引，有吧。

是不是列式显示索引啊对吧，我把它改成显示索引。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_42.png)

再试一下走，是不是变成了value error了是吧，因为我这用的是i lock，你跟的一定得是隐式作业吧，不能有显示作业八，如果有的话，是不是就报错了，对不对，好这块的话是我们取什么取。

取单个元素OK吧，所以说在这啊我就写成一个什么，写成一个一或写成二，OK没问题吧，再试一下lock df点lock，Lock，是不是只能跟我们的这个显示索引跟隐式索引，行不行，试一下走，是不是报错了。

那只能跟显示尊严啊，那么我们是不是原数据列有显示尊严啊，这换成一个A没问题吧对吧，所以说从这再次印证了我们的lock，跟的是显示索引，而我们的ALLOCK跟的是隐式索引吧对吧，这是取单个元素。

那能不能取多个元素呢，取多个元素可以怎么取呢，DFDR我们就用一下i lock吧，是不是跟我们的隐私呀对吧，比如说我想取出啊，取出这个135这三行当中啊，第三行当中第二列的值走依次取出三个值啊。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_44.png)

是不是。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_46.png)

135这三行二列所对应这个值分别是78，93和66。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_48.png)

对不对，这是取多个元素吧对吧，那这个是咱们data frame。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_50.png)

它所对应的一个索引的一个操作吧对吧，所以啊那切片再次来看一下。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_52.png)

那切片的话更加的特殊了啊，来看一下，那首先啊首先在这我们想切谁呢。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_54.png)

想切一下行吧，怎么切行呢，DF中括号好，这写一个零冒号二走，你这儿取出的是不是前两行，那就是说中画里边直接放索引，放的是不是列索引啊。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_56.png)

那如果是放切片，放的是不是行切片，对不对，好，这是在切行，是不是，那我想切列怎么办，切列啊，切列系列的话就是DF我必须得跟上什么呀，lock或者i lock，OK吧，那在这的话得加上逗号的，是逗号。

左边是不是行行，我不切列呢。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_58.png)

我想切出前两列走，看这切的是不是前两列，OK吧，这个用的是不是i log呀，那如果把i lock改成lock行不行，走报错了，为啥呢，lock后边跟的一定是显示索引吧对吧，所以这是i lock啊。

I lock，那这样的话就可以把列提出来了吧，对吧，把列提出来了啊，那在这的话就是我们所演示的，就是我们的data frame的索引跟切片的操作。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_60.png)

你看你会发现它跟我们的这个nap数组，是一点都不一样啊对吧，一点都不一样，所以说你需要单独的分别去记，我们的NIKE的索引跟切片的机制，再单独的去记我们data frame索引跟切片的机制吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_62.png)

OK吧，所以说你会发现那在我们的这个什么呢。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_64.png)

data frame或者是在我们的series当中，如果我们给其设定了显示索引之后，隐式索引还存在吗，一定是存在的。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_66.png)

如果不存在，咱们在这通过i lock就取不出来值了吧是吧，所以说即使你给我们的series，给我们的data frame设定了显示索引，那么我们的隐式索引依然还是存在的。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_68.png)

OK吧好那这块的话咱们就把这个是我们的。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_70.png)

所以跟切片的机制，我们在这呢去总结一下，OK吧，总结一下好，总结这个data data frame的索引和切片的操作。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_72.png)

首先啊首先先来看一下我们的这个索引吧对吧，索引首先，所以第一个DF，我中括号，这里边放的是一定得是我们的列索引啊是吧，列索引啊，这个是不是取单列舞曲列呀，那取多列就把这个call6是吧。

给他换成一个列表吧，里边是不是放多个列啊，对吧，那你取行怎么办，DF取行的话可以用我们的lock或者i lock吧，如果用lock啊，这里边啊，这里边放的应该是我们的什么呀，显示作用吧，对吧好。

这里边就放index，这是在取行吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_74.png)

续航对不对，看对比一下，我们一开始通过索引取行的时候。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_76.png)

是不是通过我们的这个什么呀，是不是通过我们的这个lock或i lock取的行啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_78.png)

对不对，取第零行是不是啊，好这是取号，是不是还有一个取元素啊对吧，全元素是d f d r lock或者i lock吧，左边是我们的什么呀，行索引吧对吧，右边是我们的列索引嘛，是不是都得是隐式的呀。

如果用显示就把i lock换成lock，是不是就可以了，那是不是取元素啊，元素这个是索引的操作吧对吧，再看一下它切片，这个操作切片啊，好首先DF中括号，如果中括号里边直接放切片。

放的是不是我们的行切片对吧，index1切到index3，这个是不是在切行，七行对吧，你想切列怎么办，DF是不是得加上lock或者什么的，i lock后边跟上逗号的机制啊对吧，左边是行，咱们不切吧对吧。

右边是列，是不是咱先要切啊，call61接到call63，放的是不是我们影视的这个列索引啊对吧，如果是不用ALLOCK，用的是lock，这就放的是显示的列索引吧对吧，这个是不是在切系列。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_80.png)

OK吧，这块是我们对索引跟切片一个总结，你需要单独的去记它的相关的形式吧，OK吧好那么接下来在这看一下data frame的运算啊。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_82.png)

运算运算其实这块的话咱们可以不讲。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_84.png)

为啥呢，因为它的运算啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_86.png)

它的运算同series啊，同series运算是一样的，那我们知道series的运算，我们是说，所以与之一致的元素，才能够进行加减乘除运算吧，那么data frame也是一样的，OK吧。

你比如说我们data frame想加上另一个data frame，我们就得看相关的data frame的元素，它的行列索引是否一样，如果行列索引是一样的，可以进行相加。

如果只要有一个行索引或者一个列索引不一样。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_88.png)

那么就不空，是不是就可以了对吧，同serious一样啊，这我们就不演示了。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_90.png)

OK吧，那接下来咱们就来看一个练习啊，看一个练习啊，首先我们需要有什么呢，有一个期中和期末的成绩表，可以吧好那在这的话我们就来看一下吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_92.png)

我们就用谁呢。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_94.png)

就用它充当我们的成绩表，可以吧，好用它去充当咱们的成绩表。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_96.png)

好，现在DF啊，DF这个是我们的成绩表，比如说在这呢有一个期中，其中等于什么等于DF，OK吧好然后的话有个期末啊，期末期末的话它也应该是我们假如啊。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_98.png)

在这我们就用期中啊，期中充当期末呗，对吧，我就说我们这DF既能作为期中，又能作为期末，OK吧啊好，这个就是期末也等于DF吧，现在我的体重跟期末是不是都有了，看一下啊，其中这期末是吧。

然后期中呢不是都有了。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_100.png)

对不对，那接下来咱们就以此来看一下啊，要干什么，那就是说我说我们说需要让期中加期末，求出什么呢，求出这个期中期末的平均值吧对吧，那这么怎怎么求呢，是不是其中加上期末对吧。

是不是这两个date分可以相加啊，不拿到一个300的值啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_102.png)

不让它除以二就得到均值了，是不是对吧，这是不是我们的期中期末的平均值。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_104.png)

OK吧，好下一个需求。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_106.png)

我们说啊，张三期中考试数学发现作弊需要记为零分。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_108.png)

首先咱们是不是找到张三的张三的期中考试啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_110.png)

对吧，首先其中好打印一下张三的数学，发现作弊了，是把张三的数学改成零啊对吧，这咋改呢，首先你是不是得取元素，把元素取出来啊对吧，这怎么取DR我们就用下lock吧对吧。

因为我们这是不是就有行列的显示作用啊对吧，我要取出的是某一行的某一列啊，是不是数学这一行当中的什么。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_112.png)

张三这一列找取出是150。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_114.png)

150，是不是好给他改成零，是不是就可以了，再看一下体重走张三的数学被改为零了吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_116.png)

对不对好，然后的话我们说李四举报张三有功。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_118.png)

将李四的所有成绩加100，OK吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_120.png)

将李四所有的成绩加100写一下啊，这个是将张三的数学成绩修改为零，对吧好，这个需求就是说将，加李四的所有成绩不是加上100啊，这怎么求呢，首先是不是将李四所有的乘以加100。

我能不能先把李四直接列举出来，DF取李四节列怎么取啊，是不是直接中号。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_122.png)

这里边放李四，是不是取出李四这列了是吧，不然后让他加等于个100行不行，so那完事之后的话，我们来这看一下，看一下谁呢，哎应该是我们用，我们应该用其中是不是，写一下啊，重新写一下，这应该是我们期中吧。

不是期中乘以表啊，不是DF好，在这先取出谁，是不是先取出李四啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_124.png)

李四对吧，好让他是不是加等于一个100，再看下其中走。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_126.png)

你看李四的乘积是不是都加100了是吧，为什么这剩200了。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_128.png)

那是因为我们之前是不是用DF加过一次了，对吧，好先混一下啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_130.png)

再看一下扫乘100了吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_132.png)

为啥，因为我重新把这组代码执行了一遍，是不是重新生成了一个data frame吧对吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_134.png)

那在这的话我们就将李四所有的重新加100，你看现在通过李四作为索引取出的，是不是第一列不取出的serious，是不是将series加100，是不是将serious的每一个元素加100，原来是0+100。

是不是乘100了。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_136.png)

对吧好说，后来老师发现有一道题出错了对吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_138.png)

为了安抚学生的成绩，每个学生的科目都加十分，那在这不在这看一下。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_140.png)

是不是其中是不是所有学生的提问时间，是不是所有的分数加100。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_142.png)

是不是加等于100，是不是让DF啊，DF啊，加等于十，就是说让DF当中的每一个什么呢，元素的值都加上十吧，看一下有没有相加走，是不是加了对吧好，这是说将所有学生的成绩加十。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_144.png)

OK吧，那这个简单的案例就用来巩固了一下。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_146.png)

咱们的索引和切片的操作是吧，虽然这没有用到切片。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_148.png)

但是我们在后续的案例当中，还会用到我们切片的机制，OK吧好。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_150.png)

那这个就是我们的索引跟切片相关的一个操作，OK吧，那接下来的话，这还有一个比较重要的一个在data frame当中，常用的操作，就是说将我们的时间类型进行一个转换，你比如说咱们这举个例子哈。

首先我有一个DF吧，DF啊，它等于data frame，好，数据源，数据源，数据源的话，我就这样去写吧，限一个字典OK吧，好结果是我们time是不是时间对吧，时间我这有这么几个时间啊。

分别是2010年10月10号，2010年2011年，这个11月20号，然后还有一个是2020年的呃，1月10号OK吧，那现在的话我这有这么几个值啊，好然后呢下边是什么，下边是我们的type温度吧。

温度啊，温度分别是30啊啊这个33℃啊，然后是31℃，然后是30℃，OK吧，现在我们看一下这个什么的，看一下DC啊。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_152.png)

嗯改成字符串啊，字符串类型，对吧，整数没有这么表示的吧对吧，等于字符串啊，看一下，那现在的话我们看一下，现在有一个两行三列的啊，三三行两列的一个data frame吧对吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_154.png)

那在这块的话，首先我们看一下那time这一列是什么类型的呀，那在这我们看一下我们想要去干什么呢，查看time列的类型怎么查看呢，首先是不是把time这列取出来呀。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_156.png)

DF中号先取出什么呢，取出tab接列走这列取出了吧对吧，类型是什么，可以点d type一下吧，是不是O类型啊，O不就是字符串类型吗对吧，那接下来我们想干什么呢，将time列的数据类型转换成时间序列类型。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_158.png)

时序列类型，那这怎么去做呢，好这的话咱们就通过调一个叫做to date time。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_160.png)

操作进行执行啊，那怎么去调呢，首先在这的话我们需要in，需要在这import导一下pandas，还给它起个别名叫做pd，OK吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_162.png)

那下次我们看到pd表示的就是pandas这样的，一个模块的名称吧，是吧，pd点叫做to杠data time，这里边放谁呢，就放我们的索引就可以了，OK吧，放索引，那放谁呢。

是不是想将time这一列转成时间类型啊，好取出谁呢，是不是取出咱们com这电OK吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_164.png)

那走执行，你看现在给我返回的是一组series吧对吧，这组serious，就是说将原始的这一列字符串的类型，转成了时间序列类型，那怎么办，我可以啊，可以将这个转换之后的结果，再次的赋值给什么呢。

time这列吧，然后我看一下DF走。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_166.png)

那DF看到time这一列就被我重新覆盖了吧，覆盖成什么类型的呢，看一下有没有转换成功，df time好点。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_168.png)

2D type走，看现在这返回的就不是O了吧，而是一个什么呢，M8它所表示的是一个时间区域的类型，OK吧，看到吗，是不是date time，六四啊，不是时间序列类型对吧。

那通过一个to date time，就可以将我们原始数据的某一行或某一列。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_170.png)

给它转换成时间序列类型吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_172.png)

OK吧好那这是第一个操作，第二个操作咱们可以干什么呢。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_174.png)

将某一列作为原数据的行索引看下，现在这啊我们想将time列作为原数据的行索引。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_176.png)

OK吧，看原始数据当中time这一列啊，它是单独的一列吧，我们想要把列作为行索引，你看原始的行索引是不是012隐式的行索引，啊对吧，012是没有可读性的，我就想把时间作为原数据的行存怎么办。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_178.png)

那在这的话需要调一下什么呢，这个叫做set杠index这样的操作。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_180.png)

第2set杠index ok吧。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_182.png)

那需要传什么参数呢，打开帮助文档看一下，首先需要传一个什么呀，case吧，Case，就是说我们需要将哪一列，作为原数据的行索引吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_184.png)

不需要将time这列作为原数据的行索引啊，走看一下，当我们执行之后，看一下这所返回的是一个新的data frame吧，这个新的data frame当中有没有tab接力了，没有了。

你看这所显示的是不是行索引啊，这指的是索引了，就不再是列了，现在唯一的列就是我们type对吧，就是我们tap啊，那现在这块返回的是一个新的data frame吧对吧。



![](img/c3cc0d20a6a1706e7bc6991905db27fb_186.png)

那原始的DF没有被改变，是不是只不过是set杠，index给我返回来一个新的DF版，如果你想把这个改变啊，改变作用到原始数据，当时怎么办，这块有一个叫做in place参数，给它设置一个true。

是不是替代啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_188.png)

就是说将这个操作替代回原数据找没有返回吧，但是这个原始的DF走。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_190.png)

会发现它已经被改变了吧对吧，它已经被改变了啊。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_192.png)

那么这些就是我们被套free当中相关的基础操作，OK吧，那么这组操作当中，它的索引和切片是我们的重中之重，所以说在下一小节，咱们就通过相关其他的案例。

来对我们data frame的索引和切片进行一个巩固，OK吧好。

![](img/c3cc0d20a6a1706e7bc6991905db27fb_194.png)