# Pandas基础（一） - P1 - Crypto小白书 - BV1qH4y1K7yg

Sorry，大家好，这里是加密小白书，那今天呢我们来给大家介绍一下pandas school，这是一个非常强大的数据处理和分析工具，它能够帮助你轻松的入门数据的操作和分析。

首先我们来讲一下如何安装pandas库，就像我们之前安装任何一个Python库一样，我们可以去到anaconda，那至少anaconda以后找到它对应的环境，去到那个terminal。

在terminal中呢我们输入这段代码，pip install pandas啊，就可以完成PNAS下载了，如果网络不好的话，可以多试几次，那这个我们就不多讲了，比较简单。

接下来我们看一下pandas的基本操作，我们来看一下如何导入数据，然后在这段代码中呢，我们使用read csv数据，来导入一个CSV格式的数据。



![](img/3f264276c362d5a9a2adc13982b847a6_1.png)

并将其转化为data frame，给大家看一下我们这次用到的CSV文件，那这个CSV文件呢，它是我们下载了一个BTC的K线数据啊，它是5分钟K线第一行，这些文字代表的意思分别是时间戳。

它对应的是具体的一个时间点，以及5分钟的开盘价格，5分钟的最高价格，5分钟的最低价格和5分钟的收盘价格，以及啊交易量。



![](img/3f264276c362d5a9a2adc13982b847a6_3.png)

这些其实都很好理解，如果有不懂的话，大家可以去搜一下K线数据啊，去了解一下这相关的基础知识，K那么再回到现在我们这段代码，我们通过这段代码pd点VCSV读取了啊，我们储存在这个位置上的cs文件数据。

然后将它导入赋值给DF这个数据类型，那第二是什么呢，它的全称是data frame，就是Python中最常用的一个数据结构啊，类似于一个excel文件，大家可以把它简单理解成一个excel表格。

有行有列，然后有每一个单元格，我们给大家print一下这个数据。

![](img/3f264276c362d5a9a2adc13982b847a6_5.png)

![](img/3f264276c362d5a9a2adc13982b847a6_6.png)

OK可以看到啊，目前我们这个data frame的样子是这样的，列名称有啊T啊，Open high low close volume。



![](img/3f264276c362d5a9a2adc13982b847a6_8.png)

然后他有99行，接下来我们可以使用一些方法。

![](img/3f264276c362d5a9a2adc13982b847a6_10.png)

来查看数据的基本信息啊，并使用print来查看啊。

![](img/3f264276c362d5a9a2adc13982b847a6_12.png)

导入的数据结果好，这一步的话我们是通过panda的一个two daytime，这个方法是把啊，ts这一列的数据转化为了日期时间格式，我们可以在这里看一下，如果不理解的话，这个时间戳实在是不太。

User friendly，我们不知道它到底是什么含义，那我们可以把它复制过来，把TIMESTM复制过来，然后将其转化为日期时间格式，也就是我们平常最常用的年月日时间运行一下。



![](img/3f264276c362d5a9a2adc13982b847a6_14.png)

OK运行结果可以看到，也就是说这个time stamp，它转化为日期时间格式以后，显示的时间就是2024年1月29号。



![](img/3f264276c362d5a9a2adc13982b847a6_16.png)

早上08：43：20，所以这就是我们这一行代码。

![](img/3f264276c362d5a9a2adc13982b847a6_18.png)

就是将这一列格式全部转化为日期时间格式。

![](img/3f264276c362d5a9a2adc13982b847a6_20.png)

可以看到现在转换之后呢。

![](img/3f264276c362d5a9a2adc13982b847a6_22.png)

time stem就非常的友好，接下来我们可以通过一些方法来卡。

![](img/3f264276c362d5a9a2adc13982b847a6_24.png)

查看数据的基本信息，比如说我们通过shape函数来查看，导入数据的data frame有多少行，多少列。



![](img/3f264276c362d5a9a2adc13982b847a6_26.png)

好可以看到目前是输出了一个元组，100逗号七代表的意思。

![](img/3f264276c362d5a9a2adc13982b847a6_28.png)

这个data frame有100行，有七列，我们还可以使用COLIN属性来输出每一行的列名。

![](img/3f264276c362d5a9a2adc13982b847a6_30.png)

![](img/3f264276c362d5a9a2adc13982b847a6_31.png)

可以看到我们哦有七列分别名字是零，time stamp open等等等等，那我们可以用一个for循环输出每个列名。



![](img/3f264276c362d5a9a2adc13982b847a6_33.png)

那么同样的，我们也可以使用index属性来输出每一行的名字。

![](img/3f264276c362d5a9a2adc13982b847a6_35.png)

OK他输出了一个等差数列，也就是从零开始啊，步长为1~100为止，01~100，这样我们可以用一个for循环来遍历一下。



![](img/3f264276c362d5a9a2adc13982b847a6_37.png)

![](img/3f264276c362d5a9a2adc13982b847a6_38.png)

零到99一共100个数，如果我们拿到一个data frame，然后它数据非常多，但我们想要查看其中固定的几行，我们可以使用sample属性，比如说我们举三行来看看。



![](img/3f264276c362d5a9a2adc13982b847a6_40.png)

可以看到它是随机取了三行，分别是第17行，第七行，第十行，再介绍一个非常方便的函数，让我们对每一列数据有直观的感受。



![](img/3f264276c362d5a9a2adc13982b847a6_42.png)

describe函数统计每一列的各项数据，包括平均值最小值，25分位数，50分位数，75分位数，最大值，标准差等等，这个函数呢非常方便，让我们对每一列的数据有一个非常直观的感受。

它只会对数字类型的列有效，好，接下来我们来介绍一下如何选取指定的行和列，我们可以根据列名选取，比如说我们想要选取open这一列的数据，那我们可以通过DNF中括号加上命名。



![](img/3f264276c362d5a9a2adc13982b847a6_44.png)

可以看到，我们单独把open开盘价这一列给取出来了，同样的如果想要选取多列的话，只需要在中括号中包含更多的列名，比如我们包含了time stamp和close这两列的名称，那我们就会选取两列的数据。



![](img/3f264276c362d5a9a2adc13982b847a6_46.png)

接下来我们介绍一下，如何使用lock和IO方法来选取指定的行和列。

![](img/3f264276c362d5a9a2adc13982b847a6_48.png)

那log的方法是通过标签名进行选取，而i lock方法呢是通过位置进行选取。

![](img/3f264276c362d5a9a2adc13982b847a6_50.png)

那lock跟i log的区别，那么通过一个例子就可以很好的解释，比如说我们想要选取41985。0，这个价格数据，Log，方法是通过每一行第一个和每一列，第一个名称来定位的。

也就是说我们可以通过print data frame lock，每一行第一个数据二和每列第一个数据。

![](img/3f264276c362d5a9a2adc13982b847a6_52.png)

这里是open来选取指定的数据，输出为41985。0，那通过i lock是怎么选择呢，i lock就是我们通过位置索引。



![](img/3f264276c362d5a9a2adc13982b847a6_54.png)

它对应的是012，第二行和012第二列，那就是第二行，第二列。

![](img/3f264276c362d5a9a2adc13982b847a6_56.png)

这样来索引，通过这个例子，大家可以很好的理解lock和unlock的区别，大家可以看看这个代码代表的含义，行方面呢他选取了所有的行列，一方面呢从open到low。



![](img/3f264276c362d5a9a2adc13982b847a6_58.png)

这几列应该是有1233列，也就是说这一块这一块数据从这里到这里。

![](img/3f264276c362d5a9a2adc13982b847a6_60.png)

我们可以看看是不是这样的，对所有行open dol。

![](img/3f264276c362d5a9a2adc13982b847a6_62.png)

那同样的操作如何通过IOC实现，其实很简单。

![](img/3f264276c362d5a9a2adc13982b847a6_64.png)

也是选举所有的行，以及从第二列到第四列。

![](img/3f264276c362d5a9a2adc13982b847a6_66.png)

也就是钱包后不包到第五列，所有的数据点击运行。

![](img/3f264276c362d5a9a2adc13982b847a6_68.png)

选取的结果是一模一样的，这样的话，大家就学会了如何通过IOCK和lock，这两个不同方法，殊途同归，选取相同的数据，这两个操作在我们未来的数据处理中呢，也是非常非常的常见。



![](img/3f264276c362d5a9a2adc13982b847a6_70.png)