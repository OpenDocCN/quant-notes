# 【比刷剧还爽！】这太完整了！量化交易和python金融分析实战课程，全程干货无废话 入门到精通一步到位！（数据挖掘分析／大数据／可视化／投资／金融／股票／算法） - P83：87. 25.26.凸问题的等价变换，营养食谱问题，线性分数规划，二次规划，QCQP，回(Av526664194,P25) - AI算法-溜溜 - BV1iC411n7XN

好我们我们再来看一下，就是刚刚有个同学就问了，就是如果我把这里这个，我把这个约束就直接改成这个Z大于零的话，那么这两个问题不就直接等价了吗，对吧，我们已经推导完了，这的确是没错的，的确的确是这样的。

就是你上面这个问题的最优解啊，上面这个问题最优解啊，就实际上的确是跟下面这个问题是等价的，跟这个Z大于零的这样一个问题是等价的，但是呢是这样的一个情况，就是我们一般来说写的这个标准形式。

就是一个Z要大于等于零对吧，这是我们之前讲过的这样一个形式，就是一般是大于等于号，不是大于号，而这里呢对于这个问题来说呢，它有一个很有意思的一个性质，就是当你把这个Z大于零改成Z大于等于零呢。

它两个问题还是增加了，这就是我们要下面要证明的这样一个，第三个情况，就是如果当Z等于零的时候啊，当Z等于零的时候，他们两个问题还是等价的，那么我们来看一看对于这个Z等于零的时候，还有一个什么样的情况呢。

好对于Z等于零星光底下的话，我们就没法去构造了，我们现在没有办法去构造这样一个东西，但是呢我们做这样一件事情，就是我们假设啊，因为我们知道这样一个原来这个问题，P0这个问题它的可行解。

它的可行解集不是空集，所以呢我一定可以找到一个X0，这样一个这样一个解，它是原来这个P0这个问题它的可行解对吧，我一定可以找到这样X0，那么下面呢我们要来说明一件事情，就是如果它是一个可行解的话。

那么另外一个解呢也是它的可行解，假设这个XYZ是在P1中是可行的，而且这个Z是等于零，那么我可以这么去构造一个X，这个X就是X0加上TY对吧，他是这个P0这个问题的一个可行解，和P1这个问题的可行解。

它的一个组合就是X2等于X0加上TY的，那么这个T呢是任意的，大于等于零的这样一个实数，也就是说啊我如果满足这样一个条件的话，如果满足这样条件，那么假设我还能去找到这样一个，找到这样一个可行解。

对于P0是个可行解，那么我一定可以找出来一条什么东西呢，这一条线吧，对这一条这条直线嘛对吧，这个方向就是Y7点呢是X0，然后呢这个这个长度的是这保险，这应该是个射线，应该是个射线啊。

这个这个T呢就是我的这样一个距离了，是个长度了，如果这样一个点是它的可行解的话，那么我可以找到这样一条射线，整条射线都是它的可行解，我们来看看是不是这样的。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_1.png)

好首先呢我的这样一个。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_3.png)

首先我的这样一个Y和Z它是这样一个问题，它的可行解它是这样一个问题的可行解，那么我来看一看啊，就是这样一个这样一个问题，我把这个Y给Y和Z给带进去，首先我的这个Z等于零嘛对吧。

所以我的JY是要小于等于零的。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_5.png)

同时呢我的这个av呢是要等于零的。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_7.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_8.png)

另外呢这个E和Y的内积呢，它必须要是等于一的，如果我的这样一个YZ是这个问题的可行解。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_10.png)

而且Z等于零的话，那么他一定满足这个性质，没错吧，好另外呢。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_12.png)

我再来看一看，我这么构造了一个新的X这一点，这是这是X这条射线了，它是不是也是原来这个问题，这个P0这个问题的可行解，我们来验证一下它的这三个要求，就是这个这个不等式的要求对吧。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_14.png)

不等式约束这样一个等式约束，还有这样一个不等式约束，是不是都是满足的，首先呢这个GX呢我把它给分开。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_16.png)

分成这个GX01个T乘以G乘以Y。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_18.png)

那么我知道这个GX0。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_20.png)

GX零一定是小于等于H的吧，因为X0是原来这个问题的可行解吗，它一定是小于等于H的，那么GY呢GY是小于等于零的。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_22.png)

那么任意的这个T呢，它一定也是小于等于零的吧，对吧啊，应该是这个RT g y呀，对于Z的T对吧，这个TGY一定是小于等于零的吧。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_24.png)

所以这个一定是小于等于H的，好第一条满足了吧。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_26.png)

好我们再来看看第二条，ax呢是等于ax0加上TAY的，我们来看这个ax0是等于B的对吧。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_28.png)

那么AY呢是等于零的，所以这个呢一定是等于B的，第二个条件呢又满足了。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_30.png)

还有这个第三个条件。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_32.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_33.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_34.png)

那第三个条件，那么第三个条件里面呢，前面这一部分呢。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_36.png)

前面这部分它是大于零的吧。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_38.png)

好那么后面这部分呢它是大于等于T的，我们就知道这个T是大于等于零了，所以这条呢一定是一定是大于零的，一个是大于零，一个是大于，一个是大于等于零，所以它们之和一定是大于零吧，好那么这条又满足了。

也就是说呢我如果能够有这样的XYZ呃，如果有这样的X0YZ。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_40.png)

我一定可以去找到这一条射线，这X这样一条射线使得这样一些所有的解，所有的X都都是这个P0这个问题的最优解啊。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_42.png)

都是它的可行解，好，既然这个射线上所有的点都是它的可行解。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_44.png)

那么我来取一个特殊的一点。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_46.png)

我来取一个特殊的特殊的点呢，来算一下它的函数值，因为我的最终目的是要找到这样一个点。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_48.png)

它的点的函数值是跟底下这个问题，它的函数值是一样的吧，这是我最终的目的好，那么首先呢我来对于任意的X来算一下，这里我也就是把这个把这边F0X，它的定义给带进去了。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_50.png)

我可以得到这样一个式子，这里呢我走到这一步啊，有的同学可能已经领会到我要做什么事情了。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_52.png)

这里我要取一个极限，对不对，我为什么要做做做上一条这样的一个射线呢，确实因为我要取个极限。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_54.png)

我要找到这个射线上的某一点，这个这一点呢就能够使得它的这个函数值，刚好是跟它的函数值是一样的，它的函数是什么。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_56.png)

是什么东西呢，就是就是C的转置乘以Y，因为我知道这个Z等于零对吧，我要使得找到某一个找到某个T，这个T呢所对应的这样一个函数值。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_58.png)

就刚好是等于C的转置乘以Y，那么哪个T满足这样一个要求。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_60.png)

哪个T满足这样一个要求，我们看这个我要求的。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_62.png)

我需要的东西就是个C对吧，所以我需要把一些很讨厌的东西把它给扔掉，就这个这个这个这个CDEF把它给扔掉，对不对，那么我很显然我就把这个既给取成无穷大嘛，对吧好，我把我如果把这个T取成无穷大的话。

那么现在我知道这个这个地方是什么东西呢，这个E的转置乘以Y是等于一的，所以它的这个分母它的分母应该是无穷大对吧，它的分母应该是无穷大的好，那么相对来说这两个东西就是无穷小量了，我的X就已经不再有关系了。

就完全是无穷小量了，因为我的X是个给定的值好，所以呢这个时候呢，我就可以把它的分母写成一个T，那么我底下是一个无穷大，上面我哪里去找一个无穷大呢，就显然只有这一项吧对吧，所以很显然。

它的极限就应该是等于是等于这个C的转置，乘以Y的，这就是我们要的结果，有没有问题没有问题吧，为什么你们再来回顾一下这个，虽然来回顾一下这个取极限的这个事情，这个你们大一学过吧，任何一个别的东西。

任何一个别的东西都是没有影响的对吧，为什么，因为中间有一个极大的一个量，两个主导的项，就是这个这个T这一项只有他们才是主导项，特别的像你全都可以忽略了，有没有问题没有吧，还有问题啊。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_64.png)

就这样了，就是，你们自己去理解一下。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_66.png)

好讲完这个线性规划，所谓的线性规划，实际上也就是一个一个所谓叫一次规划。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_68.png)

它是个疑似的问题，那么下面呢我们要讲另外一种图变化。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_70.png)

它是它是一种二次的问题，二次规划问题，这类问题呢也是非常重要的问题，我们来看看它的形式是什么样子的。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_72.png)

好一个二次规划呢可以写成这样的形式，首先呢它的这个目标函数是一个二次函数。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_74.png)

但是呢我要满足一个条件，就是这个S函数它应该是个凸函数，那么一个二次函数，它在什么情况底下是个凸函数呢，基本上在一起，p shell是什么，要半正定嘛，就不必认定它可以是半正定的对吧。

它是一个这样一个半正定的，这样一个这样一个矩阵好，另外呢它的这个约束啊，不等式约束和这个等式约束啊都是仿射的，也就是说，如果一个问题的目标函数是一个二次的，是一个二次的凸的函数。

同时它的约束呢都是仿射的，不管是等式约束还是不等式约束，都是反射的，那么这个问题就称为叫二次规划的问题，好这个这个形式非常简单，这个形式非常简单，但是呢实际上它的这个应用是非常广的。

那么我们之前画过这个这个线性规划问题，它的等高线对吧，我们画过它的解集和它的等高线，那么对于一个二次规划问题的话，我们也可以去画一下，首先呢我们的这样一个约束的集合，仍然是一个多面体。

所以我还是可以去画一个多面体出来，好假设呢还是还是原来这个样子，那么我们在一个二维的情况下，在二维的情况下，如果我们的这样一个目标函数，这里面这个P是一个是个正定的，这样一个矩阵的话。

也就是说这个问题是一个是一个很标准的一个，二次问题，而不是一个线性问题的话，那么我的这个目标函数等高线是个什么样的呢，应该是一系列的一系列的椭圆对吧，是不是一系列的椭圆呢，当然我这个画的不是特别好啊。

它的间距应该是越来越密的吧，间距是越来越密的，因为我要保证它是凸的函数嘛，好那么这个问题它的最优解在什么地方呢，这个问题它的自由解在什么地方呢，在这点上吧，好，为什么是这一点呢。

我们还是可以用一下这个一阶条件来看一下，也就是说呢我对于这个集合里面，对于这个P这个集合里面任意的一个Y我去，我去做一下这个Y和X之间的这个，这个这个方向，另外呢，我在我在对他去求一下这个这个这个梯度。

他的梯度方向应该是这个方向，它的梯度方向应该是这个方向，他的夹角一定是小于90度的，这是一定的，那么我的问题来了，就是对于这样一个二次规划问题的话，他是不是跟线性规划问题一样。

它的自由值它的最优解一定是在边缘上，或者说至少有一点是在这个，至少有一点是在这样一个顶点上面的，是不是这样的，是不是这样的呢，不一定吧，我来举个例子啊，我举个店的例子，也就是说我的这样一个P这个集合。

P这个集合，它包括了原来这个没有约束的二次函数，它的最小值点，那么很显然在这样一个问题里面，在这样一个新的有约束问题里面，它的最小值点应该还是这一点吧，也就是说在这个问题里面呢。

它的自由解释在这个集合的内部了，在这个约束的内部了，这就是为什么二次规划比，跟这个一次规划不一样的地方，跟这个线性规划不一样的地方，就是因为它的这个自由解，不光是可以出现在边缘上面。

它它它可以出现在这样一个集合的内部，对于线性规划问题，永远它的最优解，永远不可能出现在这样一个集合的内部的，这个就是两个规划之间的一个很大的区别。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_76.png)

好那么有同学可能就会问了，就是你讲这个讲一下这个二次规划这个问题，它的这个目标函数呢是一个。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_78.png)

它的目标函数是高次的，但是它的约束呢全部都是线性的，我们知道如果这个目标函数，如果这个约束啊里面那个不等式约束，如果它是一个，如果它是一个二次函数的话，如果它也是这样一个to的二次函数的话。

实际上它也仍然是一个图，也仍然是一个图问题吧，这个人是个图问题吧，那么这个问题为什么不叫二次规划呢，为什么我们要求二次规划，一定要是它的约束全部都是线性的呢，就是因为这样一种二次规划。

就是约束里面也含有二次项的这样一个规划，我们有另外一个名字。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_80.png)

它有一个很长一个名字，叫做二次约束的二次规划，这个名字很长。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_82.png)

但是一定要注意一点，它不是二次规划的一个特例，它跟二次规划是个不一样的地方，只有这样一个东西才叫二次规划，那么这个东西有个名字啊，这个英文名字很长，一般呢我们就把它称为叫QCQP，二次约束的二次规划好。

它的形式就是这样的，非常简单，实际上非常简单，就是我把这个二次括号里面的，这样一些不等式的约束，我把这个不等式约束改成二次函数的形式，就仍然保证它还是个凸函数，这这个名字。

实际上实际上跟这个问题描述的非常好了，首先我的这个等式约束呢还是一个等式约束，还是一个仿射的，同时呢，我的这样一个不等式约束呢，是一个就是所谓叫二次约束的二次，这个二次约束实际上指的是二次的不等式约束。

另外呢我的这样一个目标函数本身呢，它是个二次规划，是个是个二次的函数，所以这个问题就叫做QCQP这样一个问题，这个问题在实际当中也是很常见的。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_84.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_85.png)

同样的呢我们还是对于这样一个问题，去画一下它的等高线。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_87.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_88.png)

这是这个目标函数本身的等高线。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_90.png)

那么下面呢为了这个简单起见呢，我还是来画一下它的这个约束里面，我不带这样一些等式约束的，因为对于一个对于一个这一个，这一个两个变量的问题的话，对于这样一个二维的问题的话呢。

如果你有这个等式约束就太简单了，这一个等式约束就足以把你变成一条线了，那么我们来只考虑一下。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_92.png)

这样如果我有一个这样一个不等式约束，它会什么样子的。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_94.png)

如果我有一个不等式约束，而且是个二次不等式约束的话，我出来的集合应该是个椭圆吧对吧。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_96.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_97.png)

比如说我这里有一个这样的一个椭圆，那么。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_99.png)

这个集合呢就是我们的约束的集合。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_101.png)

我们把它称为叫C，我们的自由解呢肯定就在这么一点上了。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_103.png)

对吧好，这个是非常好理解的，你在这边去做条切线，这个切线呢跟这里，跟这里面任意的找个Y和这一点的这个连线，它的内积一定是大于等于零的。



![](img/87cd93a11b81cf18a90c6ecae15fec9f_105.png)

我们来看一看这样一个QCQP这样一个问题。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_107.png)

它的性质是不是比这个二次规划，好像更糟糕一点啊对吧，二次化这个问题呢，就是你好歹你还能找到一些比较特殊的一些点，比如说这些顶点的那些点，但是呢对于这样一个QCQP这个问题啊，这本身就是一个圆圆的东西。

你找到一个顶点了，所以呢对于这个QCQP的问题，它的求解实际上它会稍微更复杂一点，就是在同等的情况下，它它会显得更加复杂一点，但至于这些问题我们怎么去解，我们就不多讲，我们下面来举几个具体的例子来讲讲。

这个我们在这个实际当中会碰到哪些的，QP问题，或者是QCQP的问题。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_109.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_110.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_111.png)

![](img/87cd93a11b81cf18a90c6ecae15fec9f_112.png)

我们举个例子就是一个带噪声的一个测量系统。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_114.png)

这个测量系统叫做B等于ax加E这个形式，我相信很多同学应该都已经很熟悉了，就是我的X呢是一个是一个向量，是我要测量的这样一个向量，那么在测的时候呢，我是怎么测的呢，我是要通过一个测量矩阵X去测的。

测量矩阵A去测的，但是呢这个测完之后啊，还有一些测量噪声E，那么我的测量值呢就是B是等于AX加E的，我的任务就是我如果知道这个B，知道这个A同时我也知道这边有个干扰，但是我不知道这个干扰是多大。

那么我怎么去把这个X给找出来，这是个标准的一个信号恢复的问题吧，非常标准的问题，我相信很多同学都已经很熟悉了，那么如果我给你一个问题，你可以怎么去做恢复呢，最简单的是叫什么东西啊，叫最小二乘吧。

这个名字你们应该都知道了，我知道一个A和B我想找出来带X，那么我就要使得它的这样一个二模是最小的，使得这样一个东西是最小的，那么我们有讲过这个这个函数，我如果加上一个平方的话。

实际上是不改变最优解的吧对吧好，那么这个式子是什么意思呢，这个式子的意思，实际上也就是说，把我的这样一个报了这样一个测量方程呢，我把它稍微改写一下，啊写成这样一个形式，就是要使得我的这个误差的平方。

和我的二模的平方，不就是我的这个这个B减B减去X2模的平方，不就等于这个E的二模的平方吗，就是我的误差的平方和要最小，这个这样一个准则，就是所谓的叫最小而成的准则，这就是所谓最小而成的准则了。

那么这个问题是什么问题啊，这个目标函数是个什么样的函数，是个二次函数吧对吧，我们可以看看他是个什么样的二次函数，他是这样一个二次函数，是这样一个二次函数能不能从这个式子写出来。

这样一个式子能不能从这个式子写出，这个式子可以写出来吧，他的二模实际上就是它，你对它本身去做个内机嘛，对于他和他和他自己去做个内基好，那么我的问题就是这个函数它是一个，它是个二次的吗，是S的吧。

因为这边有X吗，这里这里有这里有个X，这里有个X吗，那么它是一个凸的问题吗，也就是说这个含这个A的转置乘以A，它是一个半正定矩阵吗，他一定是半真地对吧对吧，他一定是半真地的好，所以说这个问题本身呢。

它是一个无约束的一个Q币问题，是无约束的二次规划问题，而且呢尤其是如果当你的这个A的转置乘以A，不光是不光是半正定，它是正定的话，如果他是个正定矩阵的话，也就是说如果他是个可逆的矩阵的话。

我是可以求出来一个显示的最优解的，好可以写出来，这个式子非常简单，这个你们都会吧，我怎么去求个最优解，去对它去做，求一下他的一阶偏导吧，我要使得它的一阶偏导等于零就可以了。

那么它的一阶偏导等于零的这一点，实际上就是可以实际上就是什么样一点呢，就是这个它的一阶派等于零的这一点，实际上就是这个A的转置，就这样一点了对吧，那么既然这个A的转置乘以A是一个正定矩阵。

也就是一个它是一个可逆矩阵，那么你自然就可以对它去求个逆，把它给乘到这边来，那么这个解呢就是我们这样一个最优解了，这这这就是我们的这样一个最小成绩嗯，好这个问题太简单，我们把这个问题稍微搞得复杂一点。

因为实际当中呢我们这样一个信号，这个信号X你不光有一个这样一个测量方程，很多时候我们还知道一些先验的知识吧对吧，比如说我知道这个X呢，假设我知道这个X是个稀疏的，也就是说我知道他的这个X里面。

它的非零元素的数目非常非常少，它的非零元素的数目非常非常少，那么我就可以把这个问题变成这样一个问题，我已经有了一个测量方程了，那么我前面这样一个最好神的形式，就描述的就是我对于这个测量方程的信赖程度。

后面这样一个零分数呢，零分数是用来描述它的这个非零元素的数目的，我知道它尽可能小，所以我要极好啊，他对不对好，那么这个拉姆达林的权重呢，就描述的就是我对于这个这个先验知识，他的信赖程度是什么样子的。

所以这个问题呢就是一个，我加上一个稀疏的先验知识的这样一个，最好的问题了，见过这样一个形式吗，有同学见过吧，好那个，但是实际上的实际当中啊，这个问题是个不好的问题，因为这个目标函数里面。

这一项是一个非凸的函数，这函数是一个非凸函数，它是一个非常不好的一个函数，所以呢我们讲过这个零分数是非凸函数吧，好那我们以前也讲过，就是我对他可以去做个凸的近似吧，我就可以把它定成X的一半数。

我去做一个这样这样一个近似，那么我做这个优化问题之后，我就可以得到一个一个，首先呢它在一定程度上，它是满足这样一个测量方程的，同时呢，我又我又再加上一个线性知识，就是我要使得这个X要是稀疏的。

这个兰姆达一呢，就是来调节这样一个稀疏的程度了，是这样一个参数，这个问题呢有个名字，这个问题啊叫做一范数规范化的，最好成问题就是有这个所谓的规范化，就是后面加上这一项了，这是个一范数规范化的最小值问题。

好这个问题呢它有一个等价的形式，我们看这个问题是什么问题，大家能看出来这个问题是个是个最小二乘问题，是一个二次的问题，是一次的问题，是还是一个不是什么都不是的一个问题，首先它是个凸问题吧，这里是凸的。

这里也是凸的，而且这个拉姆达一啊，我知道它是非负的，它是个非负加权和，所以说呢这个地方这个问题新的问题，它是一个非凸的，它是一个凸的问题，其次呢这个问题呢它是一个，其次这个问题它是一个二次规划的问题。

它本质上是个二次规划问题，你们可以讲你可以有哪些同学可以讲清楚，这个问题是个二次规划问题，你能不能写成这个形式，可以写成上面那样一个形式吗，好像不行是吧，好像还不行吧，那么不行的原因在哪里呢。

不在于前面这些，前面这一项我已经写成了一个，写成一个阵容二次的形式了，关键问题在于这一项对吧，我这个绝对值这一项啊，在我的二次规划里面是不允许出现的，那么我怎么把这个绝对值对象给消掉呢。

有没有什么好办法，有什么办法可以把这个绝对值这一项给消掉，好这里我就要教你们一个非常重要的技巧，你们一定要记住这个技巧，同样的我还是把X分成两部分，一部分叫X正，一部分叫X负，这个事情我们之前做过吧。

我们上节课做过吧，好我们上节课讲的是啊，对于一个线性规划的问题，你这么一分你是可以得到一个等价的变换的，你你是可以得到一个等价的问题的，这里还有另外一个结论，就是对于这样一个二次规划问题。

你这么一分同样的可以去得到一个等价的问题，好我们来看一看，这么分完之后可以得到一个什么结果，我可以得到这样两项好，第一项呢是没有问题的，第一项是一个关于X正和X负，的一个二次的问题吧，这是个二次问题。

那么第二项呢他仍然还是有个绝对值存在的，在这个地方呢，即使有这个绝对值存在，也是没有任何影响的，为什么呢，因为这个地方啊，它实际上它是等价于，等价于这样的东西，这什么东西呢。

就是我我将这个X正中间所有的元素去求个和，另外呢再乘一个拉姆达一，我再加上这个拉姆达一，实际上这个X负中间所有的元素去求不可，另外我再加个约束，再加上这样一个非负的约束，好。

那么现在我的命题就是这个问题和这个问题，它是等价的，可以想象一下这个事情吗，为什么它是等价的呢，这个你们可以自己去证明一下，当然也是有很多线程证明，你们自己可以去可以找到的，这个基本数是这样的啊。

就是首先呢我的这个X啊可以分成两部分，绝对值这东西很讨厌对吧，绝对值讨厌的地方在哪里呢，就是他中间有有正的地，有正的东西，有负的东西，那么我就把它给分成两块，一部分呢就是这个正的元素给放在一起。

另外一部分就是这个负的元素给分在一起，所以呢我就可以去构造出来，这个X是等于X正减去X负，同时我保证这个X正和X负，全部都要是大于等于零的好，那么我再把它给带进去，那么既然我知道这个它它是等于这个的。

这个X的X的一番数，就是X的绝对值的和，是等于X正的减去X负的绝对值，得这样一个和，那我要知道这个它的绝对值，X正减去X负的绝对值是等于X正的绝对值，加上X负的绝对值吧，好另外呢。

这个X正的绝对值和X5的绝对值，就是等于他们所有元素的求和，因为它们两者都是都是非负的嘛，它们两者都是非负的，所以呢它就是等价于这样一个式子的，但就是这样一个式子，能不能理解你们自己回去证明一下好吧。

这是一个很重要很重要的一个技巧，就是对于这个线性规划问题和，这个二次规划问题啊，是这个极其有用的一个技巧，你可以把原来一个看起来很奇怪的一个问题，就是一个一个非光滑的一个问题。

原来这个问题是不是一个非光滑的一个问题啊，对吧，这里这个地方是不可是不可求导的吗，但是对于这个新的问题的话，他是个可求导的一个问题了，只不过就是说你在这个边缘上面，你是你是不要去求导就可以了。

这是一个极其有用的一个技巧，一定要学会，我怎么把一个，原来一个看起来比较复杂的一个问题，给拆成一个规模大一点的，给弄成一个规模大一点的，但是更简单的一个问题，好这个你们先别管他到底是不是等价的。

这个你们自己去证明，那么下面我们来看一看这个这个问题啊，它本身它是个什么问题呢，这个问题本身它的目标函数是一个，它的目标函数是个什么样子的，是一个二次的吧，它是一个这个这个问题本身，它的目标函数是一个。

关于X正和X负的一个二次函数，这是二次函数，因为前面是一个二次的吗，后面这个地方是个一次的嘛，所以它一定是个二次函数，它的约束呢是它的约束是非负的，约束X正和X负都一样，是非负的。

所以这个问题本身它是个二次规划的问题，这个题本身它是二次规划的问题，好是不是还有疑惑，有没有疑惑好没有，以后我就接着讲啊，刚刚我们讲了一个概念，实际上是统计里面一个很重要的概念，叫做一范式。

规范化的最小二乘，还有个名字叫做老素，看另外一个叫做老素，这是一个很有名的一个，一个一个算一个一个形式吧，一个一个优化的指标，那么下面呢我们要讲的一个东西叫做二函数，规范化的最小程。

那么这个拉苏这个东西出现的比较晚，实际上是到96年左右才出现的。

![](img/87cd93a11b81cf18a90c6ecae15fec9f_116.png)

但是这个概念呢很早就出现了，它有另外一个名字叫做领回归，叫做领回归，这也是统计里面一个非常重要的概念，那这个是什么意思呢，我们刚刚讲的这个先验知识，就是我知道这个X是个稀疏的，也就是X这个向量啊。

它是一个有中间有很多的磷元素，有很多的磷元素的这样一个向量，那么现在呢我如果有另外一个先验知识，我知道这个X啊，我不知道他是不是稀疏的，但是我知道这个X呢它的这个元素啊，它的这个它的值的差别不是特别大。

这个X中间的这个这个这个元素的它的幅度啊，它是类似的，好这个X中间元素的幅度类似，可以用什么东西来描述呢，我们讲如果一个向量，如果一个向量，它中间所有元素的幅度都是类似的，而且呢这个向量本身的求和。

这个向量百分之和是一定的，那么我实际上是不是就是说，要使得它的这个它的二函数要尽可能的小啊，是不是要使得这个向量的二范数要进行等效啊，对吧，因为如果你的这个，如果你中间有某个元素非常大的话。

那么这样一个分量，他一定会对我的这样一个，一定会对我的二范数的贡献会非常大吧，一定会有一个很大的贡献，所以呢就会使得我的这样一个二范数，要要会比较大，那么既然它的幅度都是比较类似的话。

那么整个这样一个向量的二范数，一定要一定要比较小的，一定要比较小的，所以呢我们也可以类似的去写出来，一个跟这个一范式规范化的，最好成类似的一种形式，就叫所谓的叫二分二范式规划的一个重要程。

我可以写成这样一个形式，其中的兰姆达二是一个大于等于零的，这样一个数，这两个形式之间的差别非常小吧，一个是一个X的，这边是个X1范数，这边是X2范数，这边这个一分数表示的是这个X，我要我要让它比较稀疏。

我要让它又比较又又比较少的非零元素，这边这个二函数呢，就我要使得这个X的幅度变化要比较小，它为什么叫领回归呢，为什么叫领回归啊，就是比如说原来啊假设我的这样一个最好生，估计我可以得到这样一个估计。

我得到这样一个估计，是这个向量X中间的不同的元素，它的值是多大，这样一个东西，但是呢这个估计呢他有个问题，就是这个中间差别太大了，有些知识显得太离谱了一点，那么如果我知道这个X，它的幅度是比较类似的话。

那么我可以怎么去做呢，我就让他们都变得比较平均一点，也就是把这个比较高的这个领啊，把它给降下来了，我要把这个高的领吧给降下来，然后把这个比较低的这样一些领呢，把它给升上去，就这样一个形式。

我要让那个让一些大的一些东西呢，让它变得尽可能的小稍微小一点，然后要让那个小东西稍微大一点，让它对整个能量的贡献稍微大一点，这就是我们所谓的这个领回归的含义，就是把原来这个原来这样的形状。

把它稍微变一点，这也是统计里面很重要的一个概念，好那么这个问题是什么问题，我们看看这个问题是个什么样的问题，这是一个是不是一个二次规划，是个二次规划吧，一定是个二次规划吧，好那么第二个问题就是。

如果这个兰达二是大于零的话，那么这个二次规划里面，这个二次函数它是不是一定是一个凸的函数啊，抱歉，他是不是一定，它的这个二次项是不一定是正定矩阵，二次项是不一定是正定矩阵呢，是的吧。

好因为这个二次项的中间呢它的这个系数啊，前面是前面的贡献是A的转置乘以A，它是一个它是个半正定的一个矩阵，但是后面我有一个我有一个这样一项正向，我只要在那个二大于零的情况下。

一定会使得我的整个的矩阵变成一个正定的吧，好所以也就是说这个这个这个问题啊，如果当拉姆达二不等于零的话，当蓝莓二代理的话，他一定是一个非常标准的这样一个，二次规划的问题，好我们再来稍微扩展一点点。

把这个问题稍微变一下，这里呢我写出来另外一个等价的形式，就是这个问题，它的等价的形式就是它可以写成这样的东西，我原来这个问题里面呢，它是一个二函数加上一个二函数的形式，那么首先呢我就把这个前面这一项。

把它给留下来，就是把我的这个最好而成的这一项给留下来，作为我的目标函数，另外呢我后面这个地方，我不是本来是个拉姆达二乘以，X2分数这一项吗，X2范数平方这一项吗，那么我把这个东西给改掉。

给改成这样的东西啊，改成一个让X的二范数，二范数平方要小于等于C的，这个C的也是个大于等于零的数，好现在我有一个等价的一个描述，就是我对于Z的拉姆达二大于等于零的话，我一定可以找到一个C的。

我一定可以找到一个C的，使得这两个问题的最优解是一样的，这是另外一个命题，可以理解吗，就动一下脑子，你们其实可以想象一下，为什么会这样呢，这是可以想象出来的，但是至于它在理论上为什么会这样呢。

这个以后我们讲到这个对偶性条件的时候，我们会讲到的，这就是我们为什么要研究这样一些，比较复杂的理论原因，就这样的，它可以帮助我们，我们来解决很多疑惑，我们再来看看这个问题是什么问题，这个问题是什么问题。

目标函数是一个是一个QP对吧，是个二次规划，那么底下这个约束呢是一个QC，是一个二次约束，所以它本身呢它是个QCQP的问题，所以我们来看一看对于很多实际当中的例子啊，我们是可以找出来一些相应的这样一些。

这样一些QC的问题，这样二次规划问题，还有这样一些QCQP的问题的好，下节课呢我们还会再讲另外一个例子，就我们会另外再讲一个这个QQQQ的例子，这是一个非常著名的一个例子。

