# 2024年金融大神老师讲解量化金融分析师.AQF—量化金融基础知识（完整版课程） - P24：+威❤hhh427501  了解获取全套课程《Python编程》06_Python基本数据类型_列表和元组 - 量化沿前 - BV1ar421K7Mo

好接下来我们来看列表list，那列表的创建是使用方括号来创建，用逗号分隔元素，列表中的元素类型可以不同，它支持数字字符串列表，所谓嵌套等，也就是说嗯列表中的元素可以是数字，也可以是字符串，也可以是列表。

那其实也可以是其他的对象，那我们看一下这个例子，我们这里呢有一个列表，然后它里面呢是有三个元素，我们看一下它是用这个呃用括号来创建的，然后它里面是有三个元素，第一个元素呢是一就是一个数字。

然后第二个元素是A是一个字符串，然后第三个元素是一二，是一个列表，那这个其实是一个列表的嵌套，好那我们看一下那列表的话，那它就是这样的一个列表，那注意一下它不是四个元素啊，它后面这个一二这个小列表。

是整个它一个整体是一个元素，所以它这个元呃大的列表的话一共是三个元素，好，接下来我们看一下列表的索引和切片，和字符串一样，列表同样可以被索引和截取，也就是索引和切片了。

列表被截取后返回一个包含所需元素的新列表，与字符串不一样的是，列表中的元素是可以改变的，嗯那因为列表是一个序列类型嘛，那序列的话就可以进行索引和切片，那基本的格式和字符串也是一样的。

那字符在教字符串的时候，我们是不是说哎如果说这个字这是一个字符串，那我们对字符串进行索引的话，那我们就是用一个in括号，然后里面写上我们要索引的这个序号，或者说切片的话，就是I到J。

AI到J使用冒号隔开，那列表的话也是一样的，那列表的话我们首先写这个列表的名称，然后后面呢加一个音括号，如果是索引的话，就是I那如果是切片的话，就是I到J那切片的话LLJ也是左闭右开，我们来看一下。

那首先我们看一下索引，那索引第零个就是第零个元素，那我们看一下第零个元素是什么，就是一那它就是一，那一的话就是倒数第一个，那就是这个一二就是这一二整个呃列表好，那如果说我们要学呃。

选取这个嵌套列表中这个小列表中的元素，那我们可以怎么做呢，那我们可以首先把这个小列表给选出来，哎就是这一块的话，其实就是把这个小的列表给索引出来了，然后接下来我们再对这个小列表，来进行一个索引。

这这个就叫做嵌套列表取值，也就是我们首先呢是把这个嵌套在里面的列表，取出来，然后再在这里面取值，那现在这个呃这块的话就是上面这个一二，然后一二的第零个元素就是一，那这个就是一好。

那列表的切片和字符串一样，那从这个冒号二的意思，就是从最左边一个元素开始，然后到第二个为止，那第二个取不到，那我们也可以进行一个验证，就是它的长度是J减I嘛，那J减I的话就是两个元素。

所以我们取出来是两个元素，那就是从最左边开始取两个元素好，那我们取出来是1A那接下来这个list0等于二，那是不是就是把这个二赋值给list的第零个元素，那这那我们之前在字符串的时候。

是不是发现这个操作是不可以的呀，那因为字符串是一个不可变的数据类型，我们是不可以改变字符串里面元素的，那但是列表是可以的，列表是可以通过赋值来更新列表元素，比如说我们把这个列表的第零个元素改成二。

那现在的话这个列表就变成了2A12，那第一个元素零呃，第一个元素一就被我们改成了二好，那接下来我们看一下列表的运算符，那这个话和字符串也是一样嗯，那我们还首先看一下现在列表。

这个list已经变成了2A12，那，嗯那列表的加法是表示列表的拼接，比如说我们这里有123+456，这样两个列表，那我们把它加起来的话，就是123456，好列表的乘法是列表重复。

那123×3就是嗯把它重复写三次好，那一是不是在list里面呢，那有因为我们看到这个list现在是2A12，注意一下，现在是2A12，那有的同学说了，哎一确实是在list里面呀，那这里面不是有个例一吗。

哎这就不对了，因为一的因为这个一是在这个小的列表里面的，这个小的列表才是大的列表，才是这个list的元素，那这个list的元素是什么，是2A和E2，那其实一是不在的。

所以如果我们运行这个e in list的话，它是false不在，那只有当我们用list-1，那list-1是什么，是这个小列表对吧，那我们那我们如果说想看看这个一，是不是在这个小列表里面的时候。

这个时候才是出，这个是要注意一下的，就是嵌套在这个列表里面的列表中的元素，不是这个大列表的元素，好接下来我们看一下怎么来修改列表，因为列表是一个可变元素嘛，那呃因为列表是一个可变数据类型嘛。

那我们看一看怎么来修改列表，首先更新列表元素，那么上面是不是给大家演示过了，直接用赋值的方法就可以更新，比如说现在的这个list呃，这个列表呢是123，现在我们把这个列表的最后一个元素改成一二。

也就是用一二这个列表赋值给list-1这个元素，那现在的话我们就是把这个三把它改成了一二，那我们现在看一下现在历史是什么东西哦，现在历史就变成了1212，那这个原来的这个三就被变成了一二好，这个是更新。

那我们也可以在列表中增加元素，那增加列表元素主要有这样三种方法，append extend和insert，那append a呢是在列表的末尾添加一个对象，extend是将某序列中的元素。

依次添加到原列表中，insert是在列表指定位置添加元素，那其中append和extend是大家需要重点区分的，就这两个，可能很多同学在开始学的时候就容易搞混淆，那pen的话就是非常简单。

就直接在列表的末尾添加一个元素，比如说我们现在有123这样的一个列表，那还有一个列表是456，那如果说我们用123点append，点append456的话，我们能得到一个什么东西呢。

那其实我们就是把这个456这个整体，这个列表作为一个元素，添加到原来的列表后面去，那这样子的话我们得到的就是123，然后整个456，然后它们整个是一个列表好，所以这样子的话。

我们其实得到的是一个有四个元素的列表，但是如果是extend是什么，是什么样子呢，比如说这个以123，然后点extend，然后456，那他是怎么操作的呢，那他是把这个后面这个序列中的元素，依次拿出来。

也就是首先呢我们把四拿出来，把它放到这里面去，然后呢再把五拿出来，然后再添加到后面去，然后再把六拿出来，再添加到后面去，所以用extend的话，我们最终得到的就是123456哎，就是这样子的一个列表了。

那就是有六个元素的列表，所以这个是append和extend的区别，那insert的话就是在列表的指定位置添加元素，这前面两个的话就是在最后添加那一，insert的话就是在列表中的某一个位置。

比如说我想要在这个一后面添加一个元素，那就是用insert好，我们接下来看几个例子啊，那我们现在呢是有两个列表，第一个列表是close1，表示第一周的收盘价，然后close2呢是表示第二周的收盘价。

如果说我们用close一点append close2的话，我们可以得到一个什么样的结果好，那我们现在看到这个close1变成了十十。2，9。8，9。59。2，那这一块的话其实是close1。

原本的内容就是这块内容，那后面呢又有一个小的列表，那这个小的列表呢其实就是这个close2，它就是直接把这个close2作为一个整体，添加到了它的后面好，那如果说是这个extent呢。

我们看一下下面这个，那还是原来只有两个列表，那如果是close一点，Extend close2，那我们看一下close现在变成什么样子，我现在变成了十十。2，9。8，9。5，9。299。59。

那其实这一块的话，他们每一个元素都是平级的对吧，那这个前面几个呢就是原来close1的内容，然后后面的这个9。599。5，是这些全部都是close2的元素，那也就是我们在extend的时候。

我们把close2中的每一个元素，就是单独的添加到原来的close1里面去了，那这种形式的话其实是我们比较想要的嘛，因为第一周收盘价和第二周收盘价，按理来说是这样一个平级的关系。

那这个是可能是我们要想想要的，那有些同学可能就是嗯就是会错写成append，那这个是一个要需要注意的地方，也是考试考的非常多的一个地方，好最后一个是insert，是在列表的指定位置添加元素哦。

那我们可以用help函数来查看使用说明，那看看一下吧，好那insert的话是index object嗯，就是在这个index的前面来添加一个，来插入一个对象啊，比如说我们这里close一点。

insert e a也就是在这个，那这个的话这个就是对应的这个，然后index呢就是对应的这个一，然后object呢就是对应的这个A，那也就是说我们要在一这个呃，索引的前面添加一个A。

那我们那这个close1是什么，close1现在是现在是这个对吧，是这个列表，那我们要在索引一的前面添加一个A，那索引一在哪里呀，那这个是索引零对吧，那这个是索引一。

那我们要在这个索引一的前面添加一个A，那我们就是把这个A插到这个零和一之间，那其实就是A替代了原来这个E的位置，那那所以说这个他虽然说这里是before index，其实可以简单的理解为。

我们就是要把A插入在一这个位置，因为我们就是把原来这个位置上的，给拱到后面去了嘛，那他现在就是在这个位置上了，那么看一下他插入的结果是10A，那我们就正好是在一的位置好，这个是在列表中添加元素。

接下来呢我们添加之后，我们也要呃想要删除，那如何来删除列表的元素呢，我们可以使用remove pop和delete好，那这几个嗯，那这三种方法有哪些区别呢，我们先来看一下，那其中remove和pop呢。

这两种都是可以删除列表中的一个元素，那delete语句是可以删除一个，也可以删除多个，那这个是首先是第一个区别，那我们看一下remote，删除列表中某个值的第一个匹配项无返回值。

然后pop是删除指定位置的元素，默认删除最后一个元素，并将该元素返回，然后delete语句呢是删除指定元素，无返回值，可以通过切片删除多个元素，也可以删除变量，我们还是对照着例子来看一下。

因为我们直接来看定义的话就是比较抽象，那我们首先来看一下remove是怎么操作的，首先我们这里呢有一个列表是close，那如果说我们想要删掉这个列表中的，某一个元素的话，我们可以直接用remove。

然后remove里面呢就写我们要删掉的这个元素，比如说我们要把这个9。2给删掉，那我们直接就是点remove9。2哎，那这个样子的话，我们就是把9。2删掉了，还注意一下。

我们这里是删除列表中某个值的第一个匹配项，那我们这个列表中是不是有两个9。2，那这里有个9。2，这里有个9。2，那我们是删除这个值的第一个匹配项，那就是这个9。2，那我们把这个删掉了。

那后面这个还是在保留的，那如果说我们要把这两个9。2全部删掉的话，那我们就得remove两次，好这个是remove嗯，还是比较直观的，那第二个是pop，那pop呢是和上面的不一样了。

那pop是按照位置来扇的，这个上面其实是按照元素它本身来删的，就是我们要删什么元素，我们就删这个，我们就把这个嗯对象写在这个嗯参数的位置，那pop呢是按照它的位置或者说它的索引来删的。

默认的位置是一级最后一个元素，并将该并将删除的元素返回，那我们来看一下，那我们运行了之后，它现在有一个结果，结果是9。2，那这个9。2其实就是上面这个函数的返回值，那么看到它是返回了一个9。2。

说明我们是把这个9。2删掉，并且返回了，那我们现在可以看一下现在的close是什么，呃现在的close就是十十。2，9。5，哎那前面的9。2怎么没有了呢，是因为我们上面其实已经删掉了个9。2。

现在的现在的这个clothes已经变成这个了，那已经变成这个之后，我们在pop的话，就是把这个后最后的9。2给删掉了，所以我们现在close就变成这样三个元素，那pop除了可以删掉最后一个。

我们也可以指定删掉某一个位置，比如说我们再把这个运行一下，就是close，它现在又是五个元素了，那现在我们可以删掉pop1好，那现在是10。2，那返回10。2，说明我们就是删掉了10。2，这个元素。

那我们现在看一下close现在是什么，那现在就是19。2，9。5，9。2，就是把这个10。2给删掉了哦，那pop一个好处就是我们不需要知道嗯，就是我们要删除的东西是什么，就是就是有时候。

我们只是想删除某一个位置上的东西，但是我们并不知道这个位置上的东西，是什么东西，比就好比说我们在玩这个摸龟的游戏，那对面的小小伙伴把他的牌都是这样，背对着我来看的，那我想抽取中抽取其中的一张牌的时候。

我其实是按照位置来进行抽取的，对不对，那我其实是不在抽取出来之前，我是不知道这个牌面是什么的，那我们在抽取的时候，这个过程就是相当于pop什么东西，那这个中那这个pop的呃参数。

就是我们要抽取的这个牌的位置，那抽取牌之后，我们就要看看哎我们抽了哪一张牌了对吧，那抽了奶看一看抽了哪张牌，这个操作就可以看作是他返回的值，因为pop这个函数，它是会把删除的这个值返回给我们看的。

那我们就是看一看哎我们抽出来哪一张牌，那pop的结果就是呃被我们抽完了之后的牌，那这个牌被抽出来之后，那这个嗯这个小我们这个小伙伴手中的牌里面，不是就是少了这张牌了吗。

那这个就是pop的结果就是删掉了这个元素好，那我们可以用这个魔鬼的游戏，来进行一个比较形象的理解，那最后我们还可以用delete语句嗯来删除元素，那使用delete语句，我们可以删除指定位置的元素。

比如说我们可以删除close0，也就是删除close的第零个元素，那我们直接用delete，然后一个close索引的形式就可以了，那现在close已经是这个19。29。59。2了。

然后我们现在把这个第零个元素删掉，那我们就是把这个十删掉，那我们现在应该就是9。29。5，9。2好，那我们也可以通过切片来删除多个元素，那我们这边是删除2~4，我们还是用这原来的五个元素。

就是元素多一点的话，我们好删除，然后我们是删除2~4，也就是从二开始，然后到四结束呃，四部曲，那就是删除第二个位置和第三个位置的元素，那第二个位置是什么，012是9。2，那第三个位置是9。5。

那我们就把9。2和9。5删掉，那现在就是十十。2和9。2，好看一下，就十十。2，9。2，那那通过切片的话，然后加上delete语句，我们是可以同时删除多个元素，那delete语句呢还可以删除变量。

比如说我们要把这个close这个变量删掉，那我们可以用delete cloth，那现在这个close变量就没有了，如果说我们现在还要调取cloth的话，它就会报错，就变成name error。

就是name clothes is not defined，就没有这个变量，还有很多同学总是会碰到这样的问题，就是说什么什么is not defined，那那这个问题呢嗯主要是有两种原因。

那第一个原因就是你上面嗯，定义变量的那个代码没有运行，那没有运行的话，你这个变量其实是没有被创建的，那这个是第一个原因，那第二个原因就是你这个变量名打错了，这个也是一个非常容易嗯发生的问题。

你就是要看一看你这个变量名额有没有写正确，然后上面到底有没有创建，好这个是删除列表元素的三种方法，那remove呢和pop都是删除一个元素，remove就是直接删除这个元素本身。

我们把要删除的东西写在括号里面，那pop呢是按照位置来删除，那remove和pop还有一个区别，就是remove是没有返回值的，pop是会把我们删除的这个元素返回的好，最后呢还有一个delete语句。

delete语句是，其实还是按照列表的索引和切片来进行删除的，那他也是没有返回值的，就是直接进行了一个删除，好接下来我们来看一下列表函数和方法，那这里函数和方法函数。

我这里主要指的就是Python的内置函数，比如说length和max min，那length的话是可以计算列表长度，那什么叫列表长度呢，其实就是列表元素的个数。

然后max min就是计算列表的最大最小值，然后下面几个是列表的方法，那什么叫列表的方法呢，其实方法也是函数，只不过是定义在列表这个类中的函数，那大家可以简单的理解成呃，方法就是属于列表的嗯。

那比如说list点count，这个方法呢，是可以统计某一个元素在列表中出现的次数，那count就是计数的意思嘛，就是统计出现的次数，然后reverse就是呃相反就是对呃，反向列表中的元素。

就是把这个列表的顺序做了一个颠倒，然后sort呢就是对列表进行排序，然后copy是复制列表，那这些方法的话，其实我们直接看他的名字，就知道它到底是要干嘛用的嘛，我们来看一下。

下面有一个列表呢是1234445，那么用length的话就是看它有多少个元素，但是它是有七个元素，也就是列表长度为七，然后max的话就是它最大值是五，然后最小值是一，这些都很简单。

然后list点count4，那count4，就是说我们数一数这个列表中有多少个四，那我们数一数，那就是有三个，那reverse的话就是把它做一个反向，那就是544321，你就把它就是顺顺序倒过来。

然后sort的话就是进行一个排序嗯，就是123就从小到大排序，然后copy的话是复制，那如果说我们想要把一个列表进行复制的话，我们比如说我们现在list点copy，就是把这个原来的这个list。

把这个原来的这个变量给复制了一下，然后赋值给一个新的变量叫做list to，那现在这个list to呢就和list是长一样的诶，那他俩其实值是一样的，但是他俩是两个不一样的对象。

因为它其实是一个呃复制的对象，那大家可以理解成是一个副本，那如果说我们来修改副本的话，那个原来的对象是不会发生改变的，比如说我们这里list2点append a。

也就是我们在这个list2后面增加一个A的元素，那么现在看一下list2和list，那现在的话我们看到list2后面就有一个A，那list的话它是没有改变的，那如果说我们直接把这个list。

复制给一个新的列表的话，那么修改新列表也会改变原列表，那也就是如果我们直接把它进行相等的话，它们其实就是嗯同样一个对象，那我们直接把它append的话，他们两个就是都会在后面添加一个A。

所以说如果大家要对这个列表进行复制的话，一定要记得加上这个copy，否则的话你修改了呃，这个你复制的，你修改了这个的话，它原来的对象也会也会改变好，那这个是列表，那我们再来看一下列表，我们讲了哪些内容。

那首先列表的话是用方括号来创建的嗯，这个创建形式大家要清楚，然后是列表的索引和切片，那序列的索引和切片其实形式都是完全一样，就是我们首先写变量名，然后后面呢写一个硬括号。

应括号里面可以写上我们索引的这个序号，或者说是切片的这个序号，然后接下来是列表运算符，那列表运算符和一般的序列运算也是一样的，那加法是拼接，乘法是重复，然后成员运算符是看哪一个元素。

是不是在这个列表里面啊，注意一下这个嵌套列表的话，小列表中的元素是不嗯，是就是不属于大列表的元素，那接下来是列表修改，我们可以通过赋值的方法来更新列表元素。

那增加列表元素可以使用append extend和insert，那append就是在列表的最后增加一个对象，然后ex extend是将一个序列中的元素，依次添加到原来的这个列表中。

然后insert话是在某一个位置，指定的位置添加一个元素，然后接下来是删除列表元素，remove的话就是通过元素本身进行删除，pop的话就是通过它的位置来进行删除。

delete语句的话是通过索引或者切片来进行删除，列表的函数和方法，那length是计算列表长度，max min是计算列表最大最小值，count的话是计数，reverse是反向，SD是排序。

copy是复制，那当然列表还有其他很多方法，那我们如果大家想要查看列表，其他方法的话，也可以使用那个DIR，也就是用这个DIR，然后list那我们就可以看一看列表有哪些方法哦，那列表方法是有这一些。

然后大家如果想要查看这些列表，方法的说明文档的话，也可以使用help函数来查看好这个是列表的内容，接下来我们来看一下元组，那元组的话和列表非常类似，不同之处在于元组的元素不能修改。

元组是写在小括号里面的元素之间用逗号隔开，注意当元组中只包含一个元素时，需要在元素后面添加逗号，元素中的元素类型，元组中的元素类型也可以不相同，那元组的创建我们在上一节课已经讲过了。

就是用小括号来呃创建，比如说我们这里有stock，然后这里有一个小括号，里面是有四个元素，注意一下元素的，元组的元素也可以是多多种类型的，比如说这前面三个都是字符串，最后一个是数字，那这是可以的。

我们看一下type stock，那它是一个TUO，那注意一下它它是呃，虽然说我们这个元组是写在小括号里面的，这个小括号其实也是可以去掉的，比如说我们这里把小括号去掉，直接用逗号的话，不加嗯。

不加括号也是可以的，那我们看一下它的tap也是TUO，其实他们两个的话创建的是同样的东西，它们效果是一样的，也就是说这个元组，它其实它的核心是在于这个逗号，加不加括号都无所谓，当然当然为了可读性的话。

我们最好还是把这个括号给加上好，所以说如果呃元组中只有一个元素的话，需要在后面添加逗号，因为逗号才是元组的灵魂嘛，那如果说我们不加逗号的话，其实它就只是这个字符串，比如说我们这里不把这个逗号删掉。

我们看一下诶，stock的话，它就是string，所以这个小括号的话其实没有起到作用，它主要还是在这个逗号，我们看一下它就是突破，那添加了逗号之后，它才是一个元组，好，这个是元组的创建。

那接下来是元组的索引和切片，那这个太简单了，就是和呃其他序列类型是一模一样的，那索引的话就是用方括号，然后加上一个它的位置，比如说我们这里它的元元组是这样子的，然后我们可以通过下标来访问元组的元素。

那stock2的话就是第二个元素，012就是银行，那么就是银行，那我们也可以用呃，就是切片，切片的话就是从零开始，然后前面两从最左边的元素开始，前面两个元素就是0001和平安银行，那元组也是不可变。

数据类型不可以对其元素进行修改，那这个的话是和字符串是一样的，比如说我们想要把这个第二个元素修改成地产，可不可以呢，就我们把想把这个银行修改成地产，我们如果直接赋值的话。

他说是呃会报一个tai errol tuple，Tuple object does not support that assignment，也就是元组对象，他也是不可以更改它的元素的。

那这个是和字符串一样的，但是列表的话，就可以通过这样的方式来修改其中的元素，那这个是列表和字符串元组之间的区别嘶，那接下来是元组的运算符，那这个没什么好说的，还是和其他一样，那加法就是拼接。

比如说我们这里有两个元组，我们把它加起来，就是把它拼接起来，然后乘以三，就是把它重复三次，然后in和not in就是成员运算符，我们看一看某一个元素是不是在这个元组里面。

那我们看一看A是不是在突破一里面诶，那我们发现是在的，然后看看A是不是不在top2里面，那我们发现这个top2里面是没有A的，那它确实是不在top2里面的，所以这个也是true好，这个是呃这个运算符。

那接下来是元组的函数和方法，那元组的函数和方法不是很多，我们来看一下嗯，首先的话我们也可以通过粒子函数，将元组转化为列表，那这个这种的话就是呃转换数据类型，那我们之前也讲了，把它转换成嗯整数整数型。

我们是不是可以用int，然后转成浮点数，是不是float，然后转成什么呃，是字符，字符串，是不是用string，那我们也可以把元组转成列表，那我们就是用list这个函数，你就可以把一个元组转成列表。

那当然了，我们也可以把这个列表再转成元组啊，那这些的话，其实就是我们把这个数据类型的名称，作为一个函数的名称，然后就可以把其他的数据类型，转成这个数据类型，好我们这里的话就把它转成了列表。

然后这个突破的话就把它转成了一个元组，那count的话是也是可以对top中的元素进行计数，比如说我们来count银行有多少个，那其实只有一个啦，然后index的话是返回某一个值的索引值。

那比如说我们这里index银行就是返返回的是银行，它所在的位置，那我们看一下银行它在哪个位置，那这个是012，那银行所在的位置是不是二，那它返回的就是银行的索引，就是二好，这个是元组，那元组比较简单。

我们稍就是简单来看一下，那元组的创建是用小括号，那其实它的灵魂是在于这个逗号，逗号不能漏掉嗯，所以说元组的创建其实根本在于逗号，然后元组的索引和切片，这个没什么好说的，就是索引索引和切片，然后运算符啊。

这个还和以前一样，运算符那函数复合方法那一个是嗯这个技术，一个是index那元组的那元组的话，还有其他的一些方法，我们也可以通过DK来看，我们看看元组有哪些那元组哦，原组化其实就只有这两种方法。

所以说元组还是比较简单的，其实元组他用的最多的，其实还是在这个呃序列解包上，因为有时候我们这个函数是会就某一个函数，可是会有多个返回值，那多个返回值，我们可能就是想要赋值给多个变量。

那这时候赋值给多个变量的时候，就是用一个函数解包的写，就是用一个呃解包行赋值的形式嗯，比如说我们这里就是嗯解包赋值，大家还记不记得，就是AB我们同时给两个变量进行赋值，比如说我们赋值是15哎。

那这时候我们就是同时给这样两个变量，进行了一个赋值操作。

![](img/c91d816a7a45ec8b62f666fd0c7152af_1.png)

![](img/c91d816a7a45ec8b62f666fd0c7152af_2.png)