# 3个宝藏Python量化投资工具包-Pyfolio ／ PyPortfolioOpt ／ quantstats - P1 - 代码解析与论文精读 - BV1DS411A7wg

Hello，各位小伙伴们大家好，今天给大家分享三个Python量化学习包，首先第一个包呢就是PYFO6，这个包大家应该听过，这个包是目前来说功能是比较全的。



![](img/3601c6501e56d9799449e8fe3ed45dcf_1.png)

非常之多。

![](img/3601c6501e56d9799449e8fe3ed45dcf_3.png)

首先它可以实现什么功能呢，帮我们计算一些常见的量化策略的指标，包括年化收益率，累计收益率，年化波动率，下波频率，也就是说我们安装完这个包之后，只需要按照他指定的方式，指定代码方式。

就可以计算出来这些指标，并且可以产生这些图表，然后这个是累计收益率的图标，这个是那个投资组合的贝塔。

![](img/3601c6501e56d9799449e8fe3ed45dcf_5.png)

这个是夏普比率，这个是underwater plot。

![](img/3601c6501e56d9799449e8fe3ed45dcf_7.png)

这个应该是风险吧，嗯就可以生成这么多个图标。

![](img/3601c6501e56d9799449e8fe3ed45dcf_9.png)

然后这里面呢有一个有一个example，就是点击这个我们可以在JUPITER里面。

![](img/3601c6501e56d9799449e8fe3ed45dcf_11.png)

它有一个代码的一个示例，就是我们可以啊根据他这个代码来做一些展示，我们以这个为例啊，以一个单一股票的投资策略。



![](img/3601c6501e56d9799449e8fe3ed45dcf_13.png)

投资策略进行分析，下载的是这个FB这个代码，然后额这个股票的就是把这个股票的收益率，Stock return，把这个return呢输进这个里面。

然后这个py py follow里面有一个create returns，Tear sheet，调用这个函数之后就可以生成这么多个指标，非常的方便，只需要我们把我们的那个收益率序列输进去。

就可以生成这么多的指标，相当于这些都可以直接放在论文里面的，年化收益率，累计收益率，年化波动率，夏普比率，索提诺比率。



![](img/3601c6501e56d9799449e8fe3ed45dcf_15.png)

还有这个最大回撤，全部可以生产出来，然后这个还可以生成，这是什么东西，这是累计收益率，最后怎么是一个发财呢，看不懂这个是什么东西。



![](img/3601c6501e56d9799449e8fe3ed45dcf_17.png)

然后这是他的一个第一个例子。

![](img/3601c6501e56d9799449e8fe3ed45dcf_19.png)

这里面还有很多其他的例子，我们再看一个嗯farmer french，砝码三因子模型，看看他是怎么搞的。



![](img/3601c6501e56d9799449e8fe3ed45dcf_21.png)

Farmer french，然后嗯这个是把也是这个股票收益率。

![](img/3601c6501e56d9799449e8fe3ed45dcf_23.png)

然后绘制绘图。

![](img/3601c6501e56d9799449e8fe3ed45dcf_25.png)

额这个是八，这个是获得这个股票收益率，这个是FA french stock return，这是做了一个回归。



![](img/3601c6501e56d9799449e8fe3ed45dcf_27.png)

嗯把砝码三因子和这个股票收益率进行回归，然后这个是贝塔fama french。

![](img/3601c6501e56d9799449e8fe3ed45dcf_29.png)

单因因子的这个贝塔。

![](img/3601c6501e56d9799449e8fe3ed45dcf_31.png)

这个虽然看不懂，反正就是他做了那个法码法，三因子和股票收益率的一个策略，还有这个这是什么策略，我看一下。



![](img/3601c6501e56d9799449e8fe3ed45dcf_33.png)

这也是做了一个策略，好像还挺高级的啊，这是一个投资组合策略。

![](img/3601c6501e56d9799449e8fe3ed45dcf_35.png)

这是long and short。

![](img/3601c6501e56d9799449e8fe3ed45dcf_37.png)

这是就是只做多和做空，啊这个还挺牛的。

![](img/3601c6501e56d9799449e8fe3ed45dcf_39.png)

带带大家去发掘哈，就是在什么时候持有，在什么时候卖出。

![](img/3601c6501e56d9799449e8fe3ed45dcf_41.png)

我就没有细看我们想要什么样的代码，在他这个案例里面都有，大家可以直接去找他这个案例，然后编写对应的代码，这个这个包呢就是py for6，目前来说是星最多的就是5。55万颗星，5。5500颗星。



![](img/3601c6501e56d9799449e8fe3ed45dcf_43.png)

第二个包呢就是叫做py folio p t。

![](img/3601c6501e56d9799449e8fe3ed45dcf_45.png)

这个呢是做这个是做投资组合展示的，就是我们有了我们的那个投资策略，并且计算出来投资策略收益率之后，最后一步我们以我们就是最后一步。



![](img/3601c6501e56d9799449e8fe3ed45dcf_47.png)

可视化的套操作，就是用PYF6。

![](img/3601c6501e56d9799449e8fe3ed45dcf_49.png)

那么我们构建那个投资组合策略那个包。

![](img/3601c6501e56d9799449e8fe3ed45dcf_51.png)

就是py for p y portfolio p t。

![](img/3601c6501e56d9799449e8fe3ed45dcf_53.png)

就是这个是做优化的，这个是做可视化展示的。

![](img/3601c6501e56d9799449e8fe3ed45dcf_55.png)

它这个里面可以做哪些策略呢，首先可以看一下它这里面可以哎，做这个有效前沿，可以做这个嗯，可以做这个应该是可以做那个啊，这是计算那个权重的，我看一下哈，Long only put for6。

最大化下普比率，就是最大化下普比率的那个策略，我们可以看到呃，谷歌的权重是多少，苹果的权重是多少，然后就可以计算出来，那个就是这个包，是用来计算投资出和策略的权重的。



![](img/3601c6501e56d9799449e8fe3ed45dcf_57.png)

根据这个权重呢，然后就可以计算出绘制出一个有效前沿。

![](img/3601c6501e56d9799449e8fe3ed45dcf_59.png)

好这里面有很多个策略，我没有一一的去看，我今天呢只是做了一个展示，大家里面有很多功能，很多函数大家自己去看，我只是说呃，这个可以帮助我们辅助的做一些论文的基准，比如说我们用到了均值方差策略。

比如说我们遇到了最小方差策略，那么我们不会去编这些函数，其实我也不用我们去编，直接调用这个包，我们就可以生成这些函数的权重，是用来帮我们构造基准的。



![](img/3601c6501e56d9799449e8fe3ed45dcf_61.png)

第三个包呢叫做QUANTQU呃，States，这个叫这个叫这个包。

![](img/3601c6501e56d9799449e8fe3ed45dcf_63.png)

这个包呢和PYF6包是一样的，是做可视化的，我们计算完某一个策略之后，这个stock return，就是我们得到这个股票的收益率之后，比如说或者投资组合策略收益率之后，我们调用这个包。

然后哦就可以生成一系列的可视化图表，这个图表非常漂亮，就是不要不需要我们再去编了，它也能生成嗯，我们以这个为例，就是绘制这个股票收益率，股票收益率的一个图表。

就相当于是我们这个FACEBOOK它的股票的一个走势，有了这个股票收益率之后，我们还可以添加一个基准，就是这个是我们构造的投资组合策略收益率，这个是标普500收益率。

那么放在一起用这个report reports HTML就可以进行展示，这个线呢啊这个线就是benchmark，这个黄线就是BBENCHMARK，就是s spy标普500。

这个蓝线呢就是FACEBOOK那个啊那个收益率，它也可以生成一系列图，包括累计收益率，包括对数，累计对数收益率，包括波动率，还有这个什么分布，收益率的分布，最后它也有它也有一个这样的一个呃。

阅读收益率的热力图，在某一年哪个月份收益率最高，哪个月份收益率最低，还能生成一个相线图收益率的分布图，好今天给大家分享到这里，就是说嗯，咱们今天这节课分享了三个量化投资的Python包嗯。

一个包呢是用来算投资组合策略的，就是那个权重，另外两个包是做可视化的，一个叫做PYFO6。

![](img/3601c6501e56d9799449e8fe3ed45dcf_65.png)

就是这个包叫做PYFO6，这个目前来说它的星是最最多的。

![](img/3601c6501e56d9799449e8fe3ed45dcf_67.png)

有5500个星叫PYF6，然后另外一个包呢叫做qut states。

![](img/3601c6501e56d9799449e8fe3ed45dcf_69.png)

这个包这个包目前有4500颗星。

![](img/3601c6501e56d9799449e8fe3ed45dcf_71.png)

也非常多了，4500颗星也非常多了。

![](img/3601c6501e56d9799449e8fe3ed45dcf_73.png)

而这个而这个py portfolio p t呢，有4200颗星，或也有就是每一个每一个都是上千颗星。

![](img/3601c6501e56d9799449e8fe3ed45dcf_75.png)

非常的呃受欢迎了，就是目目前来说大家使用面非常广泛。

![](img/3601c6501e56d9799449e8fe3ed45dcf_77.png)

然后呢针对这个PYPYF6呢。

![](img/3601c6501e56d9799449e8fe3ed45dcf_79.png)

它这里面是没有给代码展示的。

![](img/3601c6501e56d9799449e8fe3ed45dcf_81.png)

真正的代码展示呢是在这个里面，就是什么talk bot preuf，六点进去，这个就会有一个列表，就会有一个列表，就会有这几个列表，而这几个列表呢分别对应的是不同的策略，这里面我也我也没去看。

我也没有一个个去看，大家可以去对照，想要哪个策略就可以执行哪个代码，稍后我会把这三个包呢放到视频正下方，大家可以自行的去查看，浏览和编辑好，今天就讲到这里，祝大家生活愉快。



![](img/3601c6501e56d9799449e8fe3ed45dcf_83.png)