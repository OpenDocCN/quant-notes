# CAPM的理解-资本资产定价模型-量化金融与机器学习-python-2024 - P1 - 背包2004 - BV1mJ4m1L7xL

我们来学习一下所谓的资本资产定价模型啊，这应该是投资里面的一个经典啊，经典理论，我们呃我们先学习一下这个经典经典理论啊，呃一开始学的时候，同学们都会有这个误解，就是会觉得诶。

定价模型是不是就去计算某个东西的价格啊，但实际上它并不是的啊，你可以看到啊，所谓的资本资产定价呢主要是要计算什么呢，计算资产的预期收益率的啊，这是这个它跟字面上的有有一个差异啊，有一个差异。

那为什么我们通常说的定价模型是是来计算呃，预期收益率呢，就是因为啊，预期收益率是价格的一个决定性的因素啊。



![](img/956b59633cd2ef747e4691679ae742f5_1.png)

它对于价格的估计是有非常重要的作用的。

![](img/956b59633cd2ef747e4691679ae742f5_3.png)

所以说我们通过通常都是通过计算。

![](img/956b59633cd2ef747e4691679ae742f5_5.png)

以预期收益率来去给一个资产去进行估价的啊，进行估价的，所以这是一个非常重要的一个啊，绕不开的一个因素啊，所以在金所以这里说在金融市场中，投资者根据资产的风险和预期的收益。



![](img/956b59633cd2ef747e4691679ae742f5_7.png)

来决定他愿意支付的价格啊，所以说资本资产定价模型里面，首要的任务就是计算资产的预期收益啊。

![](img/956b59633cd2ef747e4691679ae742f5_9.png)

这是这个事情啊，当然这里讲了具体讲了，为什么我们要计算一个资本的收益，因为它很多用有很多用处，首先呢他能做投资的决策的依据啊，做投资决策的依据，其实大家可以设想啊，就在投投资的时候呢，你需要什么呢。

对资产的潜在收益有一个合理的预期，有了这个预期的话呢，才可以其当前的价格相比较，判断是否值得买入啊，是否值得买入，呃这个其实不仅是这样，而且大家待会学习到其他的一些东西的时候，就就能知道。

因为我们其实有很多很简单的估值啊，用来估值的一些一些东西，比如说市盈率啊等等，这样一些非常简单的估值的方法，而这些估值的方法一个非常重要的一个输入量，就是啊就收益率啊，就收益率啊。

而且呢在这个逻辑里面啊，在这个逻辑里面，通常会认为像市盈率这样的一些估值，也跟估值有关的一些比率值可以进行外推的，什么意思呢，当你知道了，当你计算出了预期收益率，而且又有当前是当前股票的一个市盈率的话。

你可以用基于这个市盈率和基于预期收益率，给未来做一个股股票价格的估值，能理解吗啊这是一个简单的计算就能出来的啊，尽管这个估值有可能不靠谱，但是他至少他是有根据的啊，至少他是有根据的。

所以说啊预期收益率是可以很好的用来去比较，然后判断是否当前价格是否高估还是低估的。

![](img/956b59633cd2ef747e4691679ae742f5_11.png)

它是有这样的一套逻辑在里面，投资者在权衡不同资产是需要，比较备选和你现在的一个收益率，就是当你有了一个预期收益率的话，你是可以去和其他投资进行比较的啊，这种横向的比较，当然也可。

也也能够帮助你对确定对资产的一个选择。

![](img/956b59633cd2ef747e4691679ae742f5_13.png)

而且不仅是这个预期收益率，而且还能和实际收益率也能进行对比啊。

![](img/956b59633cd2ef747e4691679ae742f5_15.png)

和实际收益率进行对比，通过这种对比来进行正确的定价啊等等啊等等。

![](img/956b59633cd2ef747e4691679ae742f5_17.png)

好吧，这是为什么我们说资本资产定价需要。

![](img/956b59633cd2ef747e4691679ae742f5_19.png)

![](img/956b59633cd2ef747e4691679ae742f5_20.png)

第一是需要去计算预期收益率的一个原因，当然下面还有一些我们呃回头会有一些呃题目，大家可能会让让你让大家可以有更深刻的了解。



![](img/956b59633cd2ef747e4691679ae742f5_22.png)

好吧，我们来学习最基础的资本资产定价模型啊。

![](img/956b59633cd2ef747e4691679ae742f5_24.png)

也就是CAPM啊，这是一个开山之作，开山之作啊，投投资领域的那次拿了经济学的诺贝尔奖啊，就这个工作，但其实很简单，其实很简单，就这个公式啊。



![](img/956b59633cd2ef747e4691679ae742f5_26.png)

我觉得这个公式非常简单，首先大家在了解这个公式之前，先要了解它这些东西的意义啊，它的意义的一点就是什么呢，就是收益率两边都是收益率，当然两边的收益率呢都是要减去什么呢，减去无风险利率啊。

就减去一个保底的那个投资方案，减去保底的投资方案之后呢，剩下的这个剩下的这个收益率呢，他是这两者，他是认为是有一个非常好的一个正比关系，这是这个理论得到了这样一个结果。

而且他说这个结果是经过了严格的推导，当然他的推导推导确实是严格的，但是什么呢，假设一点都不严格啊，大家理解一点，就是投资学里面的推导毫无疑问都是很严格的，但是他的假设极其不严格，所以所以说才会。

才会让我们这样一个复杂的问题，以这样一个非常简单的公式形态来表示，啊我们先不管他的假设都不严格，我们看他这个结论就能看出来，你看啊他这样一个结论是什么呢，首先啊这个是整个市场的一个风险啊。

整个市场的一个预期收益，而呢，这个呢是你所你自己的那个投资组合，的一个预期收益啊，他认为呢，这两者是有一个很好的一个正比关系啊，这边是一个有有个非常好的一个正比关系。



![](img/956b59633cd2ef747e4691679ae742f5_28.png)

啊这是这个东西得到了这样一个结论，得到一个结论啊。

![](img/956b59633cd2ef747e4691679ae742f5_30.png)

在了解这个结论里面呢是呃要了解一些东西，首先是这里面最重要的是什么，就是个背的，有这个系数啊，就这个比例系数啊，这个比例系数啊，同学们可以看一下它具体是怎么算的，它实际上就是这个这个东西。

同学们是不是也很眼熟啊，是不是很眼熟，你看上面是什么，上面这个应该是组合投资和呃，整个市场投资市场的收益率，这是组合投资的收益率的一个什么对协方差，下面就是这个整个市场的一个风险，还记得吗。

就是他的风险啊，所以说从这里可以看到，这个东西肯定是和风险有很强的一个关系啊，有很强的一个关系，他在这里作为一个比例啊，这是呃这一点基于公司的一个感性的认识，首先呢它是一个比例系数。

并且它这个系数和风险有很强的一个关系啊，它反映的是什么呢，是你的这个东西的一个系统性风险系数啊，系统性风险系数，呃这是这一点，除此之外呢，同学们得了解这个东西的一些说法什么呢。

就是这个贝塔在这里称之为什么呢。

![](img/956b59633cd2ef747e4691679ae742f5_32.png)

![](img/956b59633cd2ef747e4691679ae742f5_33.png)

有没有讲到称之为是暴露，二楼都可以讲。

![](img/956b59633cd2ef747e4691679ae742f5_35.png)

没大家了解一下这里啊这个东西啊。

![](img/956b59633cd2ef747e4691679ae742f5_37.png)

我现在找不到，但是啊在这里这个系数通常称之为因子暴露度。

![](img/956b59633cd2ef747e4691679ae742f5_39.png)

而这个呢啊啊这个东西啊。

![](img/956b59633cd2ef747e4691679ae742f5_41.png)

称之为市场风险溢酬啊。

![](img/956b59633cd2ef747e4691679ae742f5_43.png)

称之为市场风险溢酬，呃，这是啥意思呢，我回去看一下啊，这是为风险投资组合Q，比无限风险利率高出的一个预期收益率，高出的部分是投资人在持有风险组合Q时，所承担的更多的风险，这是什么意思啊。



![](img/956b59633cd2ef747e4691679ae742f5_45.png)

首先这个东西啊，他认为这个东西代表的是一种市场风险，而这个风险呢大家注意一点，为什么叫做风险呢，大家理解一点，风险是什么，风险是呃呃，真实收益和我们的预期收益的差值，是不是方差吗，通常用方差。

这里他用这个东西来代表代表了某种风险啊。

![](img/956b59633cd2ef747e4691679ae742f5_47.png)

不是不能算是某种风险，应该是风险意识，为什么这么说呢。

![](img/956b59633cd2ef747e4691679ae742f5_49.png)

是这样的啊，他是这么这么理解的，就是当你要进行投资的时候啊，当你要进入这个市场的时候，这个市场啊，相比无风险，利率肯定是会有带来会有更大的风险，而这个更大的风险带来的是什么呢，也必然会带来收益率的增加。

能理解吗，也必就当你进入一个市场啊，你去这个市场里面去投资，那么你必然是会承担更多的风险，那么这个风险随之而来的，也必然会承担这个风险，相应的一个更高的回报，而这个东西是什么呢。

这个东西是指的你进入这个市场，你承担了风险之后所能获得的回报，能理解吗，所以这里称之为风险溢酬啊，这里称之为风险溢酬，这是为什么起这么个名字的意思啊，起这么个名字的意思。



![](img/956b59633cd2ef747e4691679ae742f5_51.png)

而这个系数呢就是指这个风险回报你能拿多少，或者说你。

![](img/956b59633cd2ef747e4691679ae742f5_53.png)

它的一个其实这个应该啊这个应该算是风险，这应该是风险一筹，这个反应的应该是系统的风险系数啊，风险系数这里啊这个是所谓的风险，意思是这里啊好吧，这大概就是这样一个理解。



![](img/956b59633cd2ef747e4691679ae742f5_55.png)

这样一个理解。

![](img/956b59633cd2ef747e4691679ae742f5_57.png)

我们了解一下这个里面的思想啊，这里面的思想，首先呃它本质上的思想是什么呢，投资者追求高收益，也规避风险，所以说这个模型认为投资者只关注投资整体，投资组合整体的预期收益和风险。



![](img/956b59633cd2ef747e4691679ae742f5_59.png)

并且存在风险溢酬率，无风险投资只能获得无风险利率，如果投资者承担了额外的系统风险。

![](img/956b59633cd2ef747e4691679ae742f5_61.png)

注意一下，他这里强调一下，这是不可分散的风险。

![](img/956b59633cd2ef747e4691679ae742f5_63.png)

什么叫不可分散呢，你看啊啊这里啊。

![](img/956b59633cd2ef747e4691679ae742f5_65.png)

这个东西是整个市场所固有的啊，所固有的是你再怎么分散也不能抵消的。

![](img/956b59633cd2ef747e4691679ae742f5_67.png)

这样这样一个部分啊，所以他认为这是属于不可分散的。

![](img/956b59633cd2ef747e4691679ae742f5_69.png)

而只有承担了这种不可分散的风险，才能获得相应的补偿，也就是所谓相应的一丑女，太能理解这个逻辑吗。

![](img/956b59633cd2ef747e4691679ae742f5_71.png)

啊呃在理解这个逻辑之前呢。

![](img/956b59633cd2ef747e4691679ae742f5_73.png)

大家要呃思考几个问题啊，其实待会儿我们还没有去做具体具体的运算。

![](img/956b59633cd2ef747e4691679ae742f5_75.png)

做具体运算，大家可能会更理解。

![](img/956b59633cd2ef747e4691679ae742f5_77.png)

包括下面这个公司啊，就对单个股票的其实是一样的，首先呢大家注意点，在这个公司里面，哪个是变量，哪个是不变量，大家大家要搞清楚吗，呃CAPM，他最后大家可以看到下面要做拟合的啊。



![](img/956b59633cd2ef747e4691679ae742f5_79.png)

这是根据历史啊，因为啊这个这个公式的系数。

![](img/956b59633cd2ef747e4691679ae742f5_81.png)

包括下面的这个系数啊，最终是要我们做礼盒的，最终怎么做礼盒呢，是需要去用某一个投资标的或者某一个股票，它的历史的收益，和这个股票所在大盘的历史收益，来放到这个里面，做拟合的大家懂吗。

拟合出来对于单个投资啊组合来说，或者单个股票来说，这个系数和这个系数啊，这些系数是一样的，大家能理解吗，什么是不一样的，这个不一样，风险一筹是一个变量，是一个变量，大家注意点啊。



![](img/956b59633cd2ef747e4691679ae742f5_83.png)

在这个公式里面，风险溢酬本质上是一个变量，而这个东西系数呢是一个不变量。

![](img/956b59633cd2ef747e4691679ae742f5_85.png)

是一个不变量，理解这个非常重要。

![](img/956b59633cd2ef747e4691679ae742f5_87.png)

理解这个非常重要，也就是什么呢。

![](img/956b59633cd2ef747e4691679ae742f5_89.png)

呃这个公式体现的是任何一只股票，只和这个这个东西有关，大家能理解吗，任何一只股票的收益率，只和整个大盘的这个收益率是有关系的，它和别的东西没任何关系，包括什么呢，包括这支股票本身的特性，他都不考虑的啊。

都不考虑的，因为他认为在这个市场上，所有的股票的预期收益率，只不过是围绕这个大盘的预期收益率，的一个一个普通分布啊，一个泊松分布，所以说啊从整体上来讲，任何一只股票只和这个东西有关啊，只和这个东西有关。

它无非就是这个东西乘上一个，就是每天都会变化的这个东西，乘以一个每个股票都不变的一个系数啊。

![](img/956b59633cd2ef747e4691679ae742f5_91.png)

不变的系数正是因为他这个公司代表了什么。

![](img/956b59633cd2ef747e4691679ae742f5_93.png)

代表了他不考虑任何别的，只考虑整个大盘，那么才有这个才有这么一个推论，就是说投资者只有承担系统风险。

![](img/956b59633cd2ef747e4691679ae742f5_95.png)

才能获得相应的风险补偿，才能够获得风险应酬率，大家能理解这个逻辑吗，就是我这个股票的收益率，它本质上就和大盘，就是就是大盘决定的，只不过会乘一个系数而已，和别的都没关系，这样的话呢他带来的一个推论啊。

一个推论就是说你尽量做组合投资，做组合投的目的是干嘛呢，是把一些非大盘的风险全部给归零，互相抵消掉，只只留下，因为我们处在这个市场啊，不能带风扇的这个系统性风险，只有你保留了。

你只有当你保留了所有的系统性风险，你才能够获得这个系统性风险所带来的，额外收益。

![](img/956b59633cd2ef747e4691679ae742f5_97.png)

这就是这个公式所所那个表达出来的一个意义。

![](img/956b59633cd2ef747e4691679ae742f5_99.png)

所表达出来的意义。

![](img/956b59633cd2ef747e4691679ae742f5_101.png)

它是非常啊，非常严格的啊，非常非常严格，就是非常理想化理想化，所以他这里一直讲的这个事情，只有系统风险才能够获得补偿，非系统风险，个股的一些风险你都没办法获得补偿，没办法获得额外的收益。

所以说个股的风险是要消除的，所以说组合投资是非常重要的啊，他是这样得到的，组合投资理论的最重要的一个基石，为什么要做组合投资，目的就是把非系统性风险给抵消掉，只保留系统性风险。

这样的话才能够让你的收益最大化，收益最大化。

![](img/956b59633cd2ef747e4691679ae742f5_103.png)

好吧啊，这应该是它的本身的一个。

![](img/956b59633cd2ef747e4691679ae742f5_105.png)

思想的最核心的地方啊，思想最核心的地方好了。

![](img/956b59633cd2ef747e4691679ae742f5_107.png)

有了这个的话，我们来来了解这个东西的一个进一步。

![](img/956b59633cd2ef747e4691679ae742f5_109.png)

进一步进一步是什么呢，大家看一下这个和之前的这个东西变了个啥。

![](img/956b59633cd2ef747e4691679ae742f5_111.png)

首先他多了两个系数，看见没有，首先有一个理解的不同。

![](img/956b59633cd2ef747e4691679ae742f5_113.png)

这里啊这里讲的是投资组合，而这里讲的是某一个个股，看到没有，对应的是某一个股，上面对应的是一个投资组合，投资组合，所以说这个公司呢，他是去会去体现个股的个性啊，个股的个性。

而在这里呢它引入了另外一些东西。

![](img/956b59633cd2ef747e4691679ae742f5_115.png)

一个是这个这个残差其实没那么重要，为什么呢，所有的线性拟合都会有残渣。

![](img/956b59633cd2ef747e4691679ae742f5_117.png)

总会有不完全相符的地方，关键是什么呢，除了团长以外。

![](img/956b59633cd2ef747e4691679ae742f5_119.png)

它还引入了这个常数项，相比，关键是相比上面这个简单的正比关系啊。

![](img/956b59633cd2ef747e4691679ae742f5_121.png)

这个人在这里引入了一个常数项。

![](img/956b59633cd2ef747e4691679ae742f5_123.png)

引入了一个常数项，就意味着什么呢，意味着它打破了他之前的一个设想，刚才老师讲过的。

![](img/956b59633cd2ef747e4691679ae742f5_125.png)

所有的收益只和系统性风险有关，你只有承担了系统性风险，你才能够获得补偿，但是问题是什么呢，就是这个人他觉得好像不是这么回事，有些时候我还有一些额外的不可解释的，系统性风险，不能用来解释的一些收益存在啊。

他他认为啊对于个股来说，还存在一些系统性风险所带来的收益。

![](img/956b59633cd2ef747e4691679ae742f5_127.png)

所不能解释的存在，他把这些存在呢，他都用这样一个常数来放进去了，首先这个阿尔法他认为是一个系数，它是对于单个股票来说，它是不怎么变的，它是像贝塔一样啊，不怎么变的啊，这里当然一样变的依然是这个东西啊。

只不过是多了这样一个，就在这在线性方程里面叫什么叫叫截距大，能理解吗啊多了这么一个结局，啊有了这个的话呢就可以做进一步的解释了啊，做进一步的解释。



![](img/956b59633cd2ef747e4691679ae742f5_129.png)

![](img/956b59633cd2ef747e4691679ae742f5_130.png)

啊如果说之前的贝塔，我们称之为对应系统性的一个风险系数。

![](img/956b59633cd2ef747e4691679ae742f5_132.png)

那么这里的阿尔法呢他认为是什么呢，我们可以看一下啊。

![](img/956b59633cd2ef747e4691679ae742f5_134.png)

这个阿尔法呢可以解释可以解释过去，过去顺序表示授予你胜过大盘的部分啊，就是这个阿尔法呀，它可以把它解释为什么呢，解释为胜过大盘的部分，为什么会胜过大盘呢，可能原因很复杂，可能是因为本身这个股票就好。

可能因为行业就好等等其他原因，就他它的存在啊，当它是一个正数的时候，当它是一个正数的时候，它的存在体现的是这个股票比大盘，整个大盘厉害的地方，好厉害的地方，有了这么一个词呢，它其实有很多用途。

一个是什么呢，这个值啊，它可以这个值的大小，正负是可以用来衡量基金经理的绩效，大家能理解这个吧，就是如果基金经理做了一个投资组合，然后他的投资组合最后的收益呢发现通过计算，发现这个2号挺大的。

阿尔法挺大的，什么什么意思呢，就是说这一部分的收益啊，是系统风险直接带过来的是吧，然后那么这一部分如果很大，那就说明你这个基金经理所管理的这个东西，是有胜过大盘的部分，那为什么胜过呢，那只最直接的解释。

就是说明这个基金经理比较牛逼，能理解吗，比较厉害，所以说这个值的大小，有时候可以用来衡量，衡量基金经理的一个绩效啊。



![](img/956b59633cd2ef747e4691679ae742f5_136.png)

绩效另外还有啊，还有一点，呃能不能找到阿尔法的一个超额收益。

![](img/956b59633cd2ef747e4691679ae742f5_138.png)

也是这个值啊，就引入了这个值的一个一个地方，什么意思呢。

![](img/956b59633cd2ef747e4691679ae742f5_140.png)

就是可以用来做对冲这个这个词的存在，是所有对冲啊，对冲投资的一个基础，什么叫对冲呢，你在这个大盘里面刚才讲了，组合投资的本意呢是要干嘛呢，是要只保留系统性风险，把个股风险去掉。

而这个对冲呢其实是更直接的，他通过有卖空机制的市场对冲投资组合。

![](img/956b59633cd2ef747e4691679ae742f5_142.png)

能够比较好的构建，能够干嘛呢，能够把这一块啊，由由系统所带来的这个风险意图，干脆就对对冲掉得了。

![](img/956b59633cd2ef747e4691679ae742f5_144.png)

完全对冲掉，只保留这部分额外的值啊，就是啊干嘛呢，你看这里讲了，确定确定出具有较高的阿尔法收益，需要最多的最多的是左。



![](img/956b59633cd2ef747e4691679ae742f5_146.png)

然后呢具有市场的指数增长，用来对冲掉系统性风险，并且当然这是需要做空的组合的，然后通过这种方式能够分配好资金的比重。



![](img/956b59633cd2ef747e4691679ae742f5_148.png)

最终能够获得稳定的阿尔法收益。

![](img/956b59633cd2ef747e4691679ae742f5_150.png)

就是啊，这种投资组合就不再依靠这个部分来进行收益，它而纯依靠这个部分，他只是想办法把这个部分给对冲掉了，能理解吗，为什么不要呢，因为这个部分他说了，它是跟大盘走的，大盘降它就会降的，大盘升它会升的。

而大盘不一定一直往上走，他他的目的很很显然他是想去找更强的一个，没风险的，无风险的啊的一个收益，所以说啊这是这个阿尔法的另外一个用途啊，去锁定超额收益好吧，当然这些都是理论上的啊，都是理论上的。



![](img/956b59633cd2ef747e4691679ae742f5_152.png)

有了这些理论。

![](img/956b59633cd2ef747e4691679ae742f5_154.png)

我们来，我们来实践吧，好不好。

![](img/956b59633cd2ef747e4691679ae742f5_156.png)

我们来实践一下吧。

![](img/956b59633cd2ef747e4691679ae742f5_158.png)

首先我们呃具体做一做这个事情啊。

![](img/956b59633cd2ef747e4691679ae742f5_160.png)