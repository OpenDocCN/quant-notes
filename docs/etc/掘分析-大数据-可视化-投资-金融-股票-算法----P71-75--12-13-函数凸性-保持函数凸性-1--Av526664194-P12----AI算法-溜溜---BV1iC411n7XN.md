# 【比刷剧还爽！】这太完整了！量化交易和python金融分析实战课程，全程干货无废话 入门到精通一步到位！（数据挖掘分析／大数据／可视化／投资／金融／股票／算法） - P71：75. 12.13.函数凸性，保持函数凸性（1）(Av526664194,P12) - AI算法-溜溜 - BV1iC411n7XN

一个向量X0范数，这个概念可能有的同学不是特别理解，那么这里呢我稍微解释一下，比如我可以举个这样的例子啊。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_1.png)

我们把我们的教室看成一个矩阵，我们整个教室看成一个矩阵。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_3.png)

每个位置呢就表示一个中间一个元素可以吧，没问题吧，好，那么相应的，我也可以把这个矩阵把它变成一个向量，有没有问题对吧，我可以把这个矩阵给变成一个向量，比如说这个向量就叫X好。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_5.png)

那么X这个元素我做做这样的假设，就是如果这个椅上坐了一个人的话，我就把这个元素把它称为叫一，这体质就是一，如果这个这个以上没有人的话，那么这个元素的取值就是零，没问题吧，好那么这个X它的零分数是什么。

是什么东西呢，就是我们教室里面这个人数，对不对对吧，这个X的零分数越小，就表示这个这个矩阵越稀疏，所以稀疏就指的是，这个这个非零的元素是比较少的，呃我就发现一个规律，就是每到这个周二的时候。

我们这个S这个这个向量啊，还好还不是特别稀疏，但周四的时候呢，这个就比较稀疏了对吧，可以理解了吧，好，我们来复习一下上节课讲的内容啊。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_7.png)

上节课我们讲到了这个凸函数的第四个定义，就是它的所谓的二阶条件，这个呢也是凸函数的一个非常好用的一个条件，我们在分析一个函数到底是不是凸函数的时候，就经常会用这样一个条件的。

那么我们把这个条件不妨再重新写一次。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_9.png)

好这个二阶条件呢是这么讲的，就是如果一个函数它是二阶可微的话，那么这个函数是凸函数的，这样一个充分必要条件是这样的。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_11.png)

首先呢这个F的定义域啊必须要是个凸起，一定要强调这点F的定义域一定要是个突击，其实呢这个我要求对于任意的X，这个X是在这个在这个F的定义域里面，我的要求它的这个HS矩阵一定要是半正定的。

一定要是半正定的好，那么这个几何上解释就是你可以想象一个铁锅，如果一个函数，它每个地方，你都可以计算成一个铁锅的形状的话，那么这个函数基本上就是一个凸函数了，大概就可以这么去理解。

那么我们上节课讲了一个，讲了一个比较特别的一个函数，叫绝对值的幂函数。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_13.png)

这是因为有些地方我讲的有点问题，这里我再稍微矫正一下。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_15.png)

![](img/c9c23d4230e9d310e5cce4ae33d9a559_16.png)

![](img/c9c23d4230e9d310e5cce4ae33d9a559_17.png)

好这个函数叫绝对值的幂函数，就是我对于任意的一个X，这个X可以是任意的实数啊。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_19.png)

这它的这个函数定义成这个X的绝对值的，P次幂，这个P呢也可能是任意的这样一个实数，好我们讲了对于这样一个函数的话啊。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_21.png)

我们我们先不管它到底是不是二级口味的，我们可以先用一下这个二阶条件去算一下对吧，那么我们看看它的这样一个HAN，HAN矩阵是什么样子的。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_23.png)

对于任意的X，它的HS矩阵是一个什么样的一个结果。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_25.png)

![](img/c9c23d4230e9d310e5cce4ae33d9a559_26.png)

好，我们讲，就是如果在这个X是大于等于零的情况底下。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_28.png)

那么它的HAN矩阵，这时候这个矩阵就已经退化成一个一个向量了，对吧，这是个向量了，好那么如果当X小于零的时候呢，它的这个他这个还算矩阵，也就是它的这样一个二阶偏导是这样的东西。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_30.png)

二阶导数是这样一个东西，我们上节课讲的就是，当这个P是大于等于一的时候。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_32.png)

这样一个函数都是一个凸函数。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_34.png)

那么这个结论呢实际上并不容易得到的，我们讲啊，就是只有在这个P大于等于二的时候。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_36.png)

我们才能用这个id条件去算这个东西对吧，因为只有在这个P大于等于二的时候，这个海森矩阵它才是有意义的，这样一个二阶偏导才是有意义的，否则的话他不一定有定义的，所以一定要记住的，就是我们上节课讲。

是在P大于一的时候就可以了对吧，这个结论是错误的，一定要是P大于等于二的时候，这样一个这样一个二阶导数才是有意义的，那么在这个咳咳，在P到1~2之间的是什么样子的呢，实际上这样函数人也还是凸函数。

你可以去验证一下，但是呢我们就不能用这个二阶条件去算了。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_38.png)

因为这时候这个这时候啊，他对于这样一些P这个函数，不再是二阶可微的了，那么这就是我们在用这个二阶条件的时候，一定要注意了，一定要一定要有这样的条件，一定要是二阶可微的，好，那么这个二级条件呢。

虽然是个非常强大的这样一个工具，帮助我们来分析一个函数，是不是多函数的一个工具，但是呢他对于有些情况的话，他是它是没办法来工作的，为什么呢，就是如果当你这个函数啊不是二阶口味。

甚至有些函数连一阶口味都没有的话，那么你的二阶条件就肯定不可能去用了嘛对吧，我们上节课呢就讲了一个函数。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_40.png)

叫做极大值函数啊。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_42.png)

![](img/c9c23d4230e9d310e5cce4ae33d9a559_43.png)

![](img/c9c23d4230e9d310e5cce4ae33d9a559_44.png)

我们考虑这样一个函数，Fx，这个函数它的定义域是一个N维的这样一个，这样一个空间，那么也就是说它的每一个变量啊，我们可以实际上可以，把这个东西看成它的一个变量，对吧好，那么它的每个变量都是一个N维的。

这样一个向量，那么我这个函数的取值是什么呢，就是我在这个N维向量的这个这个，N个元素里面呢去取一个最大的值，那么这个就是我们的这这样一个极大值的函数，很显然这个函数我们是没有办法去求导了对吧。

你一阶导数求不出来，二阶导数更更求不出来了，所以在这样一个情况下呢，我们就没法去用这个二阶条件了，虽然我们可以用这个比较原始的这样一些定义，去把这个去说明一下，这个函数肯定是个凸函数。

这是我们可以说明一件事情，但是呢我们回头又讲到了，这个有另外一个函数啊，那么这个函数叫什么呢，叫log on map，这个函数，第一层呢就是这个函数一定要是解析函数，所以解析函数是什么东西啊。

有没有这个概念，就是你不管不管怎么给它求导，它都一定能够给你一个结果，这个函数就叫解析函数，解析函数是个非常好的一个函数好，那么另外一层意思就是，这个函数啊，是一个是对于这个极大值函数的一个近似。

也就是说呢你如果用这个函数去计算它的话，那么你能保证这个技术的界限呢，就这个函数值的取值上，一定是在某一个范围之内的，那么这个函数呢跟这个极大值函数之间，就有这样一层关系，第一个就是它是它的一个近似。

第二个呢就是它是它的一个光滑的近似，一个非常非常光滑的这样一个近似好，那么这个函数的形状是这样一个东西，就是它的解析表达式是这样的东西。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_46.png)

好，上节课呢我们已经试着去用一下这个二阶条件，去去说明一下这个函数是凸函数对吧，但是我们这个证明没有证完好，那么首先呢我们要说明一点，就是这个问题，它的这个地域它是一个突击。

而且呢这个函数它一定是二次可微的，一定是个二阶可导的，为什么呢，对吧好，那么我们来看一下，就是这个函数，它的这样一个HYTHON矩阵，到底是个什么样的东西，好上节课呢我们已经讲了。

就是这个HYTHON矩阵可以把它写成这个样子，好这个东西也就是说对于Z的这个这个X呢，它的还是矩阵都可以写成这个样子，那么我们先把这样一个公共的，这样一个系数给提取出来。

这个系数呢是这个从从这个EXE1到EX3，它的求和我再给大家去求个平方这个东西好，那么它里面实际上是分成两个矩阵的，是两个矩阵的相减，第一个矩阵呢是一个性质很特殊的一个矩阵，叫做这是一个对角矩阵。

这个其他的这个非对角线的元素啊，它的取值取值都是等于零的，是这样一个比较特别的矩阵，那么每个矩阵的对角元素呢，这个矩阵对这个对角元素是一个，什么样的定义呢，比如说这个第一个对角线元素。

它它就是这个ex1乘以这个ex1加上ex n，这样一个求和这样的东西好，那么一直到这个ex，那么这个呢就是它的对角元素，另外呢我这边还有另外一个东西啊，就是后面这部分呢我要减掉东西。

实际上是两个向量的相乘，那么这个向量呢是个列向量，这个向量呢是个行向量，这个列向量的维数是N，行向量的维数也是N，所以这个这个出来结果是个什么东西呢，也是个N乘N的这个矩阵对吧，它是个矩阵的。

那么这个那么这样一个这样一个向量，它的这个这个形式就很简单了，就是ex一一直到ex这样一个向量好，那么我就可以把这个，HS矩阵给写成这样的形式，具体的推导的话，你们可以去看一看这个书上。

或者你们可以自己推一下这个比较简单的，好那么我们的问题就来了，对于任意的X，对于任意的X，那么我的这样一个HS矩阵是不是半阵地的，这个就是我们的问题对吧，这个我们能不能看得出来呀。

首先这个前面这个系数它肯定是个正数对吧，我们可以不去管它，那么里面这个地方呢，如果我考虑前面一个，这个前面这样一个矩阵的话，那么看起来这个矩阵应该是一个，应该是个正定矩阵嘛，对不对。

这个矩阵一定是个正定矩阵，为什么，因为它的对角线元素，实际上就是它的这个特征值，同时对于这样一个元素，对于这样一个矩阵的话，也是它的奇异值对吧，它的极值一定都是大于零的，所以它不光是个半定矩阵。

它还是个正定矩阵，那么不管这个矩阵到底是不是正定还是半正定，你减掉后面一个矩阵的话就不好说了，对吧好，那我们来看一看到底他是不是，好那么这样一个矩阵呢写起来太麻烦了，实在是太麻烦了。

所以呢我们就给他来稍微简化一下，我们来定义几个几个向量，把它给稍微简化一下，好首先呢我定义一个N维的一个列向量叫做Z，这个Z呢，实际上就是就是我们讲的这边这个向量了，这样一个列向量Y定义为Z。

我一般把一个行向量写出来一个转置啊，就表示这个向量是列向量好吧，那么一旦我们用了这样一个Z的这样，一个表达之后，这个H就非常简单了对吧，非常简单的一个表达了，好这个Z呢可以写成这个形式，首先呢。

前面这样一个这样这样一个这个这个标量啊，我可以把它写成这样一个形式，就是因为我们看到这个ex一一直加到ex3，实际上是这个Z它的所有元素的求和对，所以我可以写成一个这样一个一向量，这样一个全一的向量。

和这样一个Z这个向量的内积，这个没问题对吧，非常简单的，那么里面这样一个对角矩阵，我可以写成什么东西呢，这个对象解决，我可以首先把他这样一些这种共同的量，把它给提出来。

它的共同的量量呢就是这个ex一一直加到ex3，也就这一项对吧，好提出来之后，剩下的是什么东西呢，是一个对角的这样一个矩阵，这个对角矩阵的每个元素啊，实际上就是对应的这样一个向量，它的每个元素对吧。

所以呢我可以把它给写成这种形式，这个表示，我将这个Z这个向量给展开成一个对角的矩阵，这个就表示一个对角矩阵的意思，这个没问题吧，非常简单，那么后面这个东西呢，就是就是Z乘以Z的转置了。

好我们来看看这样一个这样的矩阵，它到底是不是一个真正的，到底是不是一个半真的矩阵，对于任意的X好，那么我们讲过这个前面这一块啊，我们可以不用关心了，因为前面这一块一定是一个大于零的数。

我们完全不用去关心，所以呢我们就关心一下后面这个矩阵，这个举例呢我给他来个定义叫做K好吧，好那么我们来验证一下这个K这个矩阵呢，它到底是不是一个半正定矩阵，那么什么样的矩阵叫做半定矩阵呢。

也就是说对于Z的这个Z的这个V，他是这样一个N维的这样一个向量，因为我们考虑这个R是N乘N的矩阵嘛，好对于Z的V，那么我一定要满足这样的条件，才能保证这个矩阵是一个半成的矩阵，一定要满足这样的条件。

也就是说呢我本来要验证这个东西啊，是这样一个这样一个矩阵，它到底是不是一个半真正的矩阵，那么最后呢，我把这个问题转化成一个什么问题呢，就是对于任意的V这样一个向量的话，我要使得这样一个标量要大于等于零。

这东西是个标量，看清楚了吧对吧，这是个标量，这是个向量，然后我乘以一个矩阵，再乘以占一个向量嘛，所以所以这一定是个标量好，那我们我们就利用这个定义来看一下，这个K矩阵到底是个什么样的性质，好。

首先呢我就把这个把这个V的转置和这个V啊，把它给乘进去，这个没有问题吧，好然后呢我们一定要注意一下这一项啊，它实际上是个标量对吧，这样是个标量，所以呢我可以给它放到任何地方去，我就把它给放到前面来。

那么这一块呢就是就是V的转置，乘以这样一个对角矩阵，再乘以V，那么剩下这一块呢就是这个V的转置乘以Z，再乘以Z的转置，再乘以V好，那么这个矩阵它满足一个什么样的性质呢，我们再来看一看。

好我们为了研究这个矩阵呢，我们不妨把这个矩阵把它给解开，解开之后看看到底是长成什么样的东西。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_48.png)

好那么这一项呢，首先这个E的转置乘以Z这一项啊，实际上我是将Z中间的所有元素去做个求和，对吧好，我假定这个Z中间这个元素是Z1，Z2移到ZN，我可以写成一个ZI的求和对ZI的求和好，这下没有问题的。

那么这一项是什么东西呢，好，这项实际上是一个向量，乘以一个这样一个对角的矩阵，再乘以一个向量，再乘以这个向量自身对吧，你们自己去想象一下，这个结果应该是什么样子的，实际上它也是个求和对吧。

就非常简单的就是我家这个VI呀，这个I中间的每个元素啊，去求个平方，然后呢再乘上这个ZI对应的这样一个对角，对角的这样一个元素好，那么再对它去做个求和对吧，非常简单的这样一个矩阵的运算，好好。

我这边漏了个东西啊，对那么这个地方呢就更简单了对吧，为什么呢，因为这个V的V的转置乘以Z，它本身它就是一个什么，V的转置乘以Z是个什么东西呢，哎我是不是写错了，我没有写错对吧。

这个V的转置乘以Z是什么东西啊，这个V的转置应该是一个应该是个列向量对吧，是个是个行向量对吧，好那么这个Z是个列向量好，那么那么乘完之后的结果就是个数了对吧，这个数数这里面这个这个元素是什么东西呢。

好首先呢就是我知道这个V的转置乘以Z啊，他应该是等于这个，他应该是等于这个vi乘以ZI的求和对吧好，那我那我再乘以它的这个转置，这个实际上是它的转置对吧，所以实际上还是它自身对吧。

所以这个地方呢我其实写的不对，这番应该是看到电影是不是这样的对吧，没错吧，好好，那么我们来看看这个东西，我们我们应该怎么去看，好那么下面呢我们为了简单起见，我们还来定义一个。

我们我们再来定义一个这样一个向量，我们这边定义很多对吧，首先呢我们定义了一个H后面有个ZZZ，后面有个K，那么现在呢我们还要再定义定一个东西，好那么我的想法是什么东西呢。

我想法就是要把这个把中间这个这个Z啊，VI啊，这些东西把它给拆开，那么我怎么去拆呢，首先呢我来定义一个这个AAIAI，我把它给定义成这个vi乘以这个ZI的开根号，这可以吧，那肯定没有问题的，为什么。

因为这个ZI，中间的每个元素都一定是大于零的，都一定是至少是大于等于零的对吧，这个能不能能不能等于零啊，可以吧，那么如果我如果当X是趋于这样一个无穷大的，负无穷大的时候，对吧，这肯定也是可以等于零的。

我在第一个bi bi呢，就是对于这个ZI啊去开个根号好，那么我就可以把这个所有的这个A呀，B呀这些东西啊，我把它写成一个列向量，我写成一个A的列向量和B的列向量好，我们来看一看啊，这个这上面这个东西啊。

我们可以写成什么样一个式子，我们来看一看，首先呢这个我对于ZI的求和呢，可以写成什么呢，可以写成这个，B的转置乘以B对不对，实际上就是bi的平方，再来求和，这个没有问题吧，那么这项可以写成什么呢。

我可以写成A的转置乘以A对吧，对不对，我A就是这么定义的，好那么后面这一项是什么东西啊，很显然就是这个AA的转置乘以B了对吧，然后再再来个平方，没错吧，我可以写成A的转置乘以B。

也可以写成B的转置乘以A，这都是没有问题的，因为它是一个向量啊，它是个标量好，那么上面这个式子，也就是我们这个V的转置乘以K再乘以V，它可以写成这样一个表达式好，那么看到这样一个表达式之后啊。

你们是不是应该有些什么想法了，我们应该用下什么定理呀，或者是什么什么什么概念之类的东西啊，应该能够想到这个事情了对吧，好了，我们的证明已经结束了，他一定是大于等于零的对吧，为什么呢，为什么呢。

这个事情在你们这个线性代数里面，肯定学到过的，我们有个非常著名的一个不等式，叫什么不等式啊，叫做柯西施瓦茨不等式对吧，这个表达式就是可以把柯西施瓦茨不等式啊，也就是这个这个左边这个AB的转置乘以B。

再乘以A的转置，乘以A1定是大于等于A的转置，乘以B的平方的，这就是所谓叫柯西施瓦茨不等式好，所以你们一定要记住这样一些重要的不等式，三角不等式，柯西施瓦茨不等式对吧，我们之前已经讲过。

这个三角不等式是个非常重要的不等式了，凡是你要用到范数的时候，一定要想起来三角不等式，如果它能不能用，一定要首先领头的，一定要浮现出来这样一个念头对吧，这讲到范数的时候，那么如果讲到平方的时候。

你一定要相当于这样一个cos是吧，是不等式，就凡是带带这种这种这种平方向啊，还有一些这种减号啊，这些东西一定要一定要想起这样一个不等式，他很很多时候都能帮助你的这个证明，变得非常简单的好。

所以我们的结论完了，因为这个V的转置乘以K再乘以V，他一定是大于等于零的，而且是对于任意的X都是这样的，实际上我们讲这个V的转置乘以K再乘以V，它是一个关于X和V的函数对吧，对不对。

因为K中间K本身是一个关于关于X的函数吗，它本身是是关于X这样一个向量的函数的，那么对于Z的X对Z的V这个都是成立的，也就是说呢，这个也就是说这个海森矩阵呢一定是半正定的。

所以我们这个函数一定是一个凸函数，好有没有什么问题，没有什么问题对吧，实际上很简单，就是我们看的这个运算还很复杂，我们写了很长很长的矩阵，写了写了非常多的这样一些呃，我们引进了非常多的变量，比如说A呀。

B呀，C呀，K啊等等，这个实际上都是为了帮助我们证明的，最后真正的本质的东西啊，只有一个就是这个柯西式法则不等式，好下面呢我们要简单的谈一下一个函数。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_50.png)

但是呢我们不会在课堂上去讲这个函数，我们把它留给大家，作为一个课后的习题，可以吧，你们可以自己去做一下，我们D占一个几何平均的函数，什么叫什么东西叫做几何平均，就是我对他去做个求和。

然后呢再给他去去开个N次方，这个X尾数是N维的哟，抱歉，这是陈浩，是乘号是吧。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_52.png)

好，但是我要我要一定要有个要求，就是就要求这个这个X啊，一定是一定是正的实数，这一定是个正的实数。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_54.png)

我们我们是我们讲这个函数，它实际上是个凹函数，它不是个凸函数，那么怎么证明一个函数是一个，怎么证明一个函数是是一个凸函数，是凹函数呢，我们只能证明它的负的，是一个是一个凸函数就可以了，对吧好。

这个大家自己去做一下。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_56.png)

![](img/c9c23d4230e9d310e5cce4ae33d9a559_57.png)

好另外一个例子是关于行列式的对数的，行列式大家都知道对吧，行列式是一个矩阵的行列式，只有对于矩阵才有行列式的，那么什么叫行列式的对数呢。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_59.png)

这个函数听起来好像这个名字非常的复杂，但实际上呢是一个非常常用的一个函数，这个函数啊。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_61.png)

我把它写成叫叫log determinant这样一个函数，这后面的这个这个第一题就表示，我要求下这个X它的行列式对吧好，那么求完行列式之后呢，我还要再举个log，那么很显然，首先第一点。

我要保证这个行列式一定要是大于零的，没错吧，好，那么什么条件，一定可以保证这个行列式是大于零的呢，我只要假设这个X是一定是在这样一个镇定的，对称正定的矩阵空间里面就可以了，为什么。

因为如果他是个对称证据的一个矩阵的话，那么它的行列式就是等于它呃，那么它的行列式就是等于它的特特征值，特征值的乘积对吧好，那么在这种情况下，它的特征值呢是等于它的，它的这样一个极值的好。

那么所以这个一定是一定会是大于零的，所以这个这个式子啊一定是成立的，也是一定是一定是有定义的。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_63.png)

那如果我给大家占一个，给大家这样一个问题，我来问你这个这个这样一个函数，它到底是凸的还是凹的，你能给我讲出来吗，有没有同学能够讲出来，好像这个logo我见过对吧，这个DETERMIN我也见过。

但是呢我把这两个放在一起，这会是什么样的结果呢，你好，这时候大家一定要想起我之前讲过一句话，就是一旦一个高维的问题，或者说一个矩阵的问题，你解决不了的话，你就你就把它想成这样一个标量，想成标量就完了。

如果X是个标量的话，那么它的这样一个定义，实际上是这样一个这样一个正的实数，实数的这样一个域，对吧好，那么这时候这个determinant就退化成什么了，就没有了，就变成X自身了。

好所以这个SX就变成了log x，log x是什么函数啊，是个凹函数对吧，所以你很自然地想这函数，首先它不可能一定是一个凸函数，对不对对吧，至少我可以找到一个特例，使得这样一个函数。

会会会会是变成这样一个这样一个凹函数的好，那么下面我们就来证明一下这个东西，它到底是不是一个函数，那么当N等于一的时候，这个情况非常简单了，刚刚我们已经介绍过了，他一定是有凹函数的，那么我们再来看一看。

当N是大于一的时候，这到底是个什么样的情况呢，好那么这个问题啊，如果我们是用这个二加条件去做的话，会非常麻烦的，因为你对于这样一个函数，你去求它的这样一个这个HS矩阵呢，实际上是没法去求的。

非常非常复杂的，所以一般来说，我们我们不用这样一个复杂的方法去做，我们就用这个它的其中的一个定义，就是就这样一个高维的定义，我们的第二个定义来解决这样一个问题，好大家一定都还记得这样一个第二个定义吧。

就是我们讲的这个切西瓜的定义对吧，那么切西瓜的话呢，首先呢我我一定要找到这样一个这样一个方向，这个切西瓜的方向VV这样一个方向对吧，然后找到一个切的距离，就是T然后呢我还在找个起点Z，好在切的时候呢。

我要求我的这个刀啊，一定都要在这个西瓜上面，不能切到外面去了，所以呢我一定要满足这个Z加上TV，一定是要属于它的这样一个定义域的，一定要一定要是这样一个这样一个对称的，正定的矩阵对吧。

一定要一定要满足这样一个条件，那么为了满足这个条件，我可以我要是这个V满足什么性质呢，因为我们看这个Z是一个对称正定矩阵对吧，那么这个T呢，这个T是一个任意的这样一个实数，那么为了满足这个条件。

我的V至少要满足什么条件呢，最基本的两个条件是什么，最起码的条件条件是什么，就这个V1定要是对称的，对不对对吧，这个V1定要是对称的，如果V都不对称的话，那么这样一个矩阵一定不可能是对称的吧，好，好。

所以这个V呢一定是一个N乘N的，这个这个对称矩阵了。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_65.png)

那么现在呢我们再来看一个函数，叫做这个gt，这是一个这是一个从一维到一维的映射，这个T呢是一个一维的标量，这个G呢它的取值也是也是一维的。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_67.png)

它的定义就是我在这个Z加上TV，这一点的取值好，我们来看看这个到底是什么东西，好首先呢我把这个FD给带进去对吧，这个都没有问题，好下面呢我把这个式子给做一个这个变形，你可以理解这个变形是什么意思吧。

我把这个Z给分成两部分，我我对这个Z去开个根号，为什么这个Z可以开根号呢，因为这个Z是一个真正的矩阵，所以你一定可以对它去开根号了，你把它给分成两部分，前面一部分是这个Z的12。

后面一部分呢是这个Z的-12，好啊，也是最大1/2对吧好，那么我们看啊这个前面这个东西啊，这个这个这个单位阵呢传上去之后，这个结果就是Z了，对吧好，那么这个地方我可以这个对这个Z1再开根号。

再去再去求个求个导数，可以吧，这个导数的结果仍然是个矩阵，为什么可以这么做呢，还是因为这个矩这个矩阵是一个正定矩阵，所以呢我可以去对他去求去求个根号，然后再去求个导数的，那么我们看看后面这块是什么。

后面这块就是我们的我们的TV了吧对吧，因为这个Z的-12，跟后面的Z2分之一消掉了嘛，所以这是一个完全等价的这样一个变化好，那么这样一个变化有什么好处呢，我们来接着往下写。

我们讲这个这个determine这个东西啊，就这个行列式这个东西有一个很大的，有个非常有名的一个性质，就是你对于若干个矩阵的乘积的行列式，你可以怎么去求呢，你可以先把他们的行列式给给求出来对吧。

就把每一个矩阵的行列式求出来，然后再去相乘对吧，好那么因为这个里面是个乘号啊，这边我还有一个log log，是可以把乘法变成加法的对吧，所以我就可以写成若干个log函数的相加了，好这个没问题吧。

好那这里呢我还可以给他小小的修改一下，为什么，就是你对这个Z去开个根号，再去求它的行列式，然后再去取个log的话，这个跟我们这个这个对于这种标量的运算，里面呢有个性质是一样的，怎么说呢，就是。

这个log根号X等于什么东西，就等于12的log s对吧好，那么对于这样一个对于这样一个矩阵，矩阵的运算呢，我同样也可以做一样的事情，所以我可以把这个1/2啊给擦掉，和这个前面那个二给擦掉。

好好这一步也是也是非常明显的这样一个事情，好那么下面这一步呢就不是很明显了，就前面这一块我还是维持不动的，前面这一块我先不管后面这一块呢，这个log我可以写成一个求和，这是这是N个元素的求和。

每个元素是什么东西呢，第I个元素是我对于这个一加上拉姆达I，再去求个log，这个拉姆达I呢我就定义成地震这个矩阵，它的它的这个特征值，我第一天这样的矩阵特征值，那么这一步是怎么来的呢。

就从这一步到这一步，看起来不是很显然对吧好，我们来看一下这一步到底应该是怎么过来的，好我们用这个拉姆达I呢来表示这样一个矩阵，它的它的第二个特征值好，我们讲啊，这个这个矩阵是什么矩阵呢。

我们看这个矩阵我们可以发现他有什么性质啊。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_69.png)

首先有一个最简单的个性，就是这个矩阵一定是一定是个对称的矩阵，这个矩阵一定是个对称的矩阵是吧，不信你对他去去去去去求个这个转置，你会发现它就是等于它自身的，为什么呢。

因为这个这个Z本身就是一个这样一个这种，镇定的矩阵，那么这个V呢又是个对称的矩阵，所以这个一定是一个对称的矩阵好，那么既然他是个对称矩阵的话，那么我就可以对它去做个特征值分解了。

对称矩阵总是可以去做一个特征值分解了，怎么去分解呢，我可以分解成这样一个Q这样一个矩阵，乘以这个拉姆达这样一个矩阵，这个拉姆达是个对角矩阵，对角矩阵的对角元素啊，是它是它这样一个矩阵的。

上面这个矩阵的特征值好，那么最后呢还有一个这个乘上这个Q的转置，这样一个矩阵Q这个矩阵满足什么性质呢。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_71.png)

这个Q是正交矩阵，Q是正交矩阵，那么这样一个特征值分解这个概念，你们有没有有没有这个概念啊，没有这个概念是吧，好没问题，那你可以去看看这本书后面的附录，去看看什么东西叫做特征值分解。

总之呢我们能够得到这样一个结论了，那么这个结论跟我们这个前面那个推导，有什么关系啊，我们来看一看啊，我首先不管这个log，我首先把这个行列式给写出来好，那么既然我可以去做一个这样的分解。

而且我要知道这个Q乘以Q的转置，等于这样一个单位阵的，所以呢我可以把它写成这样子的，好这个没问题吧对吧，首先呢我把这个I这个矩阵呢给分成两部分。



![](img/c9c23d4230e9d310e5cce4ae33d9a559_73.png)

一部分是Q，一部分是Q的转置是没有问题的，另外呢我把这个矩阵呢就写成它的这样一个，特征值分解的形式，这可以吧好，那么很显然，我可以把这个中间这个Q和Q的转置给提出来，这个东西对吧，这个没有问题吧。

但是之前我们讲过这个这个这个Q啊，它是个他是个正交矩阵，但是我还漏了一句，就是它是一个单位的正交的矩阵，是单位正交矩阵，什么叫单位质量矩阵呢，就是就实际上它的这个能量是等于一的。

那我们我们先不用管这个了，我们就把这个式子把它们把这个式子给合一下，因为中间的这个每个元素啊，这个式子中间的三个元素啊，它实际上都是标量对吧好，所以我可以把这个组合一下，我把这个把它挪到前面来对吧。

所以实际上我可以写成这个东西，把Q的转置写到这了，你发现这个我对于这个Q乘以Q的转置，再去求一下他的这个行列，事实等于什么呢，等于一的对吧，对不对，为什么，因为Q乘以Q的远征是一个单位阵嘛。

它的行列式是等于一的行。

![](img/c9c23d4230e9d310e5cce4ae33d9a559_75.png)