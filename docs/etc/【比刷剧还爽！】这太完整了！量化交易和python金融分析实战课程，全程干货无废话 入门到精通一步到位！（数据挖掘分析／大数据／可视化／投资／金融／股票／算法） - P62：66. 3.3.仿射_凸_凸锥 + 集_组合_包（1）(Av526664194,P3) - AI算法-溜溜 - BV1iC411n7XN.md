# 【比刷剧还爽！】这太完整了！量化交易和python金融分析实战课程，全程干货无废话 入门到精通一步到位！（数据挖掘分析／大数据／可视化／投资／金融／股票／算法） - P62：66. 3.3.仿射_凸_凸锥 + 集_组合_包（1）(Av526664194,P3) - AI算法-溜溜 - BV1iC411n7XN

好我们开始上课了啊，从这节课开始，我们就要开始讲数学的东西了。

![](img/9843dd66cf41aac737daf94787e5bce6_1.png)

就不再讲故事了，我们首先来简单的复习一下上节课讲的内容呃。

![](img/9843dd66cf41aac737daf94787e5bce6_3.png)

上节课呢我们简单的讲一下，这个这个关于优化的这样一些。

![](img/9843dd66cf41aac737daf94787e5bce6_5.png)

基本的这样一些概念呢，然后还有这个优化的基本的应用啊等等等等。

![](img/9843dd66cf41aac737daf94787e5bce6_7.png)

那么我们讲这个最优化，最优化或者说叫数学规划。

![](img/9843dd66cf41aac737daf94787e5bce6_9.png)

他的意思就是说从一个可行解的集合当中。

![](img/9843dd66cf41aac737daf94787e5bce6_11.png)

去找出来一个最好的元素，这个就是我们讲这个优化的定义，那么一般来说呢我们所关心的优化问题呢。

![](img/9843dd66cf41aac737daf94787e5bce6_13.png)

基本上都是都是可以写成这样一个数学形式的。

![](img/9843dd66cf41aac737daf94787e5bce6_15.png)

![](img/9843dd66cf41aac737daf94787e5bce6_16.png)

![](img/9843dd66cf41aac737daf94787e5bce6_17.png)

![](img/9843dd66cf41aac737daf94787e5bce6_18.png)

![](img/9843dd66cf41aac737daf94787e5bce6_19.png)

在这里面呢我们有一个目标函数F1X，然后我们有M个不等式的约束。

![](img/9843dd66cf41aac737daf94787e5bce6_21.png)

FIX小于小于等于BI，其中那其中这里这个X是一个N维的优化变量，这几个概念我们之前都已经讲过了啊。

![](img/9843dd66cf41aac737daf94787e5bce6_23.png)

那么这个地方我要说明一下，就是这个这个st啊。

![](img/9843dd66cf41aac737daf94787e5bce6_25.png)

实际上它指的是这个subject to。

![](img/9843dd66cf41aac737daf94787e5bce6_27.png)

一般来说我们把它缩写成S点T点，那么上面这个这个mini呢。

![](img/9843dd66cf41aac737daf94787e5bce6_29.png)

这也太长了，我们为了省事就把它给写成这样。

![](img/9843dd66cf41aac737daf94787e5bce6_31.png)

MIN我们我们一般会这么去描述的，那么这个就是一个非常一般的单目标的。

![](img/9843dd66cf41aac737daf94787e5bce6_33.png)

有约束的优化问题，这个也就是我们这门课所主要要讲的内容，我们主要要考虑这么一类问题，而且呢我们这门课讲的是这类问题。



![](img/9843dd66cf41aac737daf94787e5bce6_35.png)

中间比较简单的问题好，那么这里有一个小的插曲。

![](img/9843dd66cf41aac737daf94787e5bce6_37.png)

插曲就是说为什么我们讲这个优化，有个名字叫这个叫做这个数学规划对吧。

![](img/9843dd66cf41aac737daf94787e5bce6_39.png)

这两个名字看起来好像不怎么相关呃，这个来源是来源于这个二战的时候的呃，因为二战的时候我们讲这个优化这个领域，是在二战的时候真正的发展起来的，但是呢这个我们未来要做项目，我们我们肯定要申请钱。

那么他们这个这些科学家，就向向这些军方去申请钱的时候，刚开始用的名字就叫优化，但是军方讲这个这个优化这个名字太土了，很好听，那么起个什么名字好呢，我们叫规划，我们要规划好一件什么事情对吧。

比如说我们要规划好你的这个人生，这话听着就很酷，这个申请项目的时候呢也是一样的，你一定要起个好的名字，所以一般来说我们会讲这个优化和数学规划，本质上是一样的，它表示的是一个意思，都指的是优化的意思。

比如说这个所谓的这个线性规划，非线性规划，二次规划等等，其实指的都是这个线性的，非线性的二次的优化问题，好我们讲这个优化问题里面。



![](img/9843dd66cf41aac737daf94787e5bce6_41.png)

这个难和不难，难和容易。

![](img/9843dd66cf41aac737daf94787e5bce6_43.png)

它的区别不在于这个非线性或者非线性，而在于它是凸或者是非凸。

![](img/9843dd66cf41aac737daf94787e5bce6_45.png)

![](img/9843dd66cf41aac737daf94787e5bce6_46.png)

![](img/9843dd66cf41aac737daf94787e5bce6_47.png)

简单来讲就是凸规化就是容易的优化问题，非常规化呢就是比较难的优化问题，一般来说是这么区分的好。

![](img/9843dd66cf41aac737daf94787e5bce6_49.png)

那么什么样的一个优化问题叫做凸变化问题呢。

![](img/9843dd66cf41aac737daf94787e5bce6_51.png)

所谓的凸变化其实就是简单来讲，就是它的目标函数是一个凸函数，另外它的约束是一个突击，或者说它的约束是由若干个凸函数来组成的。



![](img/9843dd66cf41aac737daf94787e5bce6_53.png)

这个约束里面这个FX是若干个凸函数好，那么中间这几个词，我们好像就好像以前从来没接触过是吧，什么东西叫做突击，什么东西叫做凸函数好，那么从这节课开始，我们就要讲一下什么东西叫做凸起，什么叫凸函数。

那么合在一起什么样的问题叫做凸优化的问题。

![](img/9843dd66cf41aac737daf94787e5bce6_55.png)

好在上课之前呢，我还要介绍一下我们我们这本书里面。

![](img/9843dd66cf41aac737daf94787e5bce6_57.png)

我们主要会讲哪些内容，你们应该都有这本书的电子版吧，好没有啊，这个网上可以下载到了，你们有没有查过没没查过啊。



![](img/9843dd66cf41aac737daf94787e5bce6_59.png)

好你们稍微记一下，就是这本书你们一定要找一下最新的版本，在这个spring boy的主页上。

![](img/9843dd66cf41aac737daf94787e5bce6_61.png)

![](img/9843dd66cf41aac737daf94787e5bce6_62.png)

在他的主页上，你们可以找到这本书的最新的版本啊，如果你们对他上课的内容感兴趣的话呢，你们应该还能够找到他的这个这个上课的视频，还有这个相关的这样一些PPT好，那么如果你们听了他的课觉得很好的话。



![](img/9843dd66cf41aac737daf94787e5bce6_64.png)

那可以不用来听我的课了，呃呃这本书里面呢我们会讲下面这么几张。

![](img/9843dd66cf41aac737daf94787e5bce6_66.png)

你们稍微记一下啊。

![](img/9843dd66cf41aac737daf94787e5bce6_68.png)

我们主要讲的是这本书里面，这里面的这个理论的部分，这本书里面呢总共分分为三个部分，这个第一个部分呢叫做理论，我们会讲中间的第二第三第四第五四章。



![](img/9843dd66cf41aac737daf94787e5bce6_70.png)

第二张是突击，第三张是凸函数，第四章叫凸优化问题对吧，这个其实就是我们讲的这个主要的内容了，那么光讲这样一些概念呢可能还是不够的，所以我们接下去呢还是再讲一下，这个所谓的凸优化理论知识。

就是所谓的叫叫duality，这个对偶，这个这个这个理论好，那么这么一些呢就是我们讲的主要内容，但是呢这个光讲理论也是不行的，所以我们也还要简单的介绍一下，这个相关的这样一些算法。

所以呢我们会简单的介绍一下第九章和第十章，就是算法里面这个有约束的，无约束的优化问题和有约束的优化问题，中间的一部分，这个第九章和第十章我们不会完全介绍的，我们只会介绍中间的一部分好吧。

所以我们主要讲的内容呢，主要就是有这么六章的内容，你们如果需要打印的话，可以把这相关的内容给打印出来，不需要把整本书打印出来了。



![](img/9843dd66cf41aac737daf94787e5bce6_72.png)

![](img/9843dd66cf41aac737daf94787e5bce6_73.png)

好我们先从这个最简单的一章开始讲起。

![](img/9843dd66cf41aac737daf94787e5bce6_75.png)

就是这个突击，好，那个在讲这个突击之前呢。

![](img/9843dd66cf41aac737daf94787e5bce6_77.png)

我们还要再讲一下，中间一个最简单的这样一个内容，就是我们会讲一下这个一些最基本的这样一些，数学的知识，或者说是几何学啊，或者说是线性代数的知识，我相信这个里面讲的内容啊，你们大部分人应该都是知道的。

但是呢我觉得还是有必要重新再讲一下，我们看看这个啊，我们这样的图优化这样一个问题，是怎么从这个最简单的知识里面去构造出来的。



![](img/9843dd66cf41aac737daf94787e5bce6_79.png)

![](img/9843dd66cf41aac737daf94787e5bce6_80.png)

![](img/9843dd66cf41aac737daf94787e5bce6_81.png)

![](img/9843dd66cf41aac737daf94787e5bce6_82.png)

讲到突击呢。

![](img/9843dd66cf41aac737daf94787e5bce6_84.png)

我们先讲一个最简单的突击，或者说是突击里面的一个特例。

![](img/9843dd66cf41aac737daf94787e5bce6_86.png)

叫做仿射集，这个名字听起来好像也是很怪对吧，你们可能可能以前也没有听说过吧，但是它的概念实际上非常非常简单好，那么我想大家一定都知道，如果我给你两个点的话，你怎么去写出来一个直线的方程对吧。

这个一定会写吧，比如说我给你两个点。

![](img/9843dd66cf41aac737daf94787e5bce6_88.png)

一个点呢叫X1，一点是X2，其中这个X1呢是不等于X2的。

![](img/9843dd66cf41aac737daf94787e5bce6_90.png)

那么这两个点都是属于一个，都是N维空间里面一个点。

![](img/9843dd66cf41aac737daf94787e5bce6_92.png)

那么我给你这样这两个点，你一定可以写出来一条贯穿这样两个点的。

![](img/9843dd66cf41aac737daf94787e5bce6_94.png)

这样一个直线方程对吧，那么这个方程应该怎么写呢。

![](img/9843dd66cf41aac737daf94787e5bce6_96.png)

我们可以定义一个这样一个变量C的。

![](img/9843dd66cf41aac737daf94787e5bce6_98.png)

C的是一个一个实数，是属于一个实数空间的。

![](img/9843dd66cf41aac737daf94787e5bce6_100.png)

那么这样一个这样一个方程呢，就可以这么去表达。

![](img/9843dd66cf41aac737daf94787e5bce6_102.png)

对吧。

![](img/9843dd66cf41aac737daf94787e5bce6_104.png)

就是贯穿了这个X1和X2，这两点的这样一条直线。

![](img/9843dd66cf41aac737daf94787e5bce6_106.png)

我总是可以把它写成一个Y等于C的，X11减去C大乘以X2这样一条直线。

![](img/9843dd66cf41aac737daf94787e5bce6_108.png)

这可以理解吧，这是最基本的知识了啊。

![](img/9843dd66cf41aac737daf94787e5bce6_110.png)

那么为了简单起见呢，我们可以把它进一步写成这个形式，就是X2加上C的乘以X1减去X2。

![](img/9843dd66cf41aac737daf94787e5bce6_112.png)

这么写的话就更好理解了。

![](img/9843dd66cf41aac737daf94787e5bce6_114.png)

也就是说我们从X2这一点出发，沿着这个X1减去X2这样一个方向去变化。

![](img/9843dd66cf41aac737daf94787e5bce6_116.png)

我的飞的这个C带是一个是一个可变的一个量，对吧，我沿着这个方向去任意的变换我的C大，这样的话我就可以画出来整个的一条直线了。



![](img/9843dd66cf41aac737daf94787e5bce6_118.png)

这个概念应该是非常简单的一个概念，我相信你们只要只要上过小学的数学。

![](img/9843dd66cf41aac737daf94787e5bce6_120.png)

应该就可以理解。

![](img/9843dd66cf41aac737daf94787e5bce6_122.png)

好啊，那么这是一个直线。

![](img/9843dd66cf41aac737daf94787e5bce6_124.png)

![](img/9843dd66cf41aac737daf94787e5bce6_125.png)

讲完这个直线呢，我们还要再讲另外一个东西，就是线段。

![](img/9843dd66cf41aac737daf94787e5bce6_127.png)

好那么同样的我如果给你两个点。

![](img/9843dd66cf41aac737daf94787e5bce6_129.png)

一个词一个是X1个是X2，那么你怎么去描述。

![](img/9843dd66cf41aac737daf94787e5bce6_131.png)

有这样一个连接X1和X2的这样一个线段。

![](img/9843dd66cf41aac737daf94787e5bce6_133.png)

我也可以写成这样一个形式，对吧对吧，我同样的也可以写成这个Y等于C的X1，加上一减去C的X2。

![](img/9843dd66cf41aac737daf94787e5bce6_135.png)

但是呢我要我要来限制一下这个theta的值，因为我们讲，如果这个C带是从负无穷到正无穷，去变化的话呢，那么我就画出来整个的一条直线了。



![](img/9843dd66cf41aac737daf94787e5bce6_137.png)

如果我把这个C带给限定成这个C大，在于在0~1之间的话。

![](img/9843dd66cf41aac737daf94787e5bce6_139.png)

那么实际上我的这个变化，就就我就可以保证它是在X1和X2。

![](img/9843dd66cf41aac737daf94787e5bce6_141.png)

之间去变化的对吧，所以现在的话我们可以去这么找一个C的，这个C带。

![](img/9843dd66cf41aac737daf94787e5bce6_143.png)

是仍然是这个属于属于这样这样一个这样一个，一维的时空间的，但是呢C的呢要属于它的一个子集，是在0~1之间好。



![](img/9843dd66cf41aac737daf94787e5bce6_145.png)

那么这个就是我怎么去描述，一个一个直线和一个线段，这个这个实在太简单了对吧好。

![](img/9843dd66cf41aac737daf94787e5bce6_147.png)

那么对于这样一个简单的问题，我们还是把它用几何的方式去描绘一下。

![](img/9843dd66cf41aac737daf94787e5bce6_149.png)

![](img/9843dd66cf41aac737daf94787e5bce6_150.png)

比如说我举一个简单的例子，就是这个跟个二维的空间。

![](img/9843dd66cf41aac737daf94787e5bce6_152.png)

我假设有两个点，一个点呢是X1，一个点是X2。

![](img/9843dd66cf41aac737daf94787e5bce6_154.png)

那么连接X1和X2的这样一条直线的话。

![](img/9843dd66cf41aac737daf94787e5bce6_156.png)

我就可以，我也可以这么去画对吧。

![](img/9843dd66cf41aac737daf94787e5bce6_158.png)

这就叫直线，那么中间这一块呢其实就是一个线段了，这就是连接X1和X2的一个线段。

![](img/9843dd66cf41aac737daf94787e5bce6_160.png)

![](img/9843dd66cf41aac737daf94787e5bce6_161.png)

好这个内容实在太简单了，那么下面呢我们就要从这样一个简单的内容出。

![](img/9843dd66cf41aac737daf94787e5bce6_163.png)

发来讲，我们这个仿射集。

![](img/9843dd66cf41aac737daf94787e5bce6_165.png)

![](img/9843dd66cf41aac737daf94787e5bce6_166.png)

![](img/9843dd66cf41aac737daf94787e5bce6_167.png)

![](img/9843dd66cf41aac737daf94787e5bce6_168.png)

![](img/9843dd66cf41aac737daf94787e5bce6_169.png)

![](img/9843dd66cf41aac737daf94787e5bce6_170.png)

![](img/9843dd66cf41aac737daf94787e5bce6_171.png)

![](img/9843dd66cf41aac737daf94787e5bce6_172.png)

![](img/9843dd66cf41aac737daf94787e5bce6_173.png)

好我们看这个仿射集的这个定义，实际上就是从这个直线的定义里面过来的，一个集合C呢，如果它是个仿射集的话，那么我愿意的从那个C中间去选择两点，X1和X2，那么连接X1和X2的直线呢。

也一定要在这样一个集合内，这个就是仿射集的这样一个定义，看起来也比较简单对吧，它实际上只要你有，只要你有这样一个关于直线的知识的话，那么你就可以知道这个什么东西叫做反射极了。



![](img/9843dd66cf41aac737daf94787e5bce6_175.png)

那么我们看这个我们上面画画的这幅图，那么这样一个直线的这样一个集合。

![](img/9843dd66cf41aac737daf94787e5bce6_177.png)

我们讲一个直线实际上是若干个点的集合，这样一个集合它是不是一个仿射集呢。

![](img/9843dd66cf41aac737daf94787e5bce6_179.png)

是个反问句对吧，因为我在这个直线上面任意的找上两点，那么连接这两点的直线呢，一定是在这个直线内的。

![](img/9843dd66cf41aac737daf94787e5bce6_181.png)

这是毫无问题的，因为它是重合的，那么这个线段是不是防水机呢。

![](img/9843dd66cf41aac737daf94787e5bce6_183.png)

线段就不是了对吧，因为我在这个线段上任意的去选择两点的话，那么那么它们的所连接的直线，一定是包括这样一个线段的，它要超出这样一个线段的，所以我们讲一个直线是个仿射机。



![](img/9843dd66cf41aac737daf94787e5bce6_185.png)

但是一个线段不是，我再举一个例子，就是。

![](img/9843dd66cf41aac737daf94787e5bce6_187.png)

整个的这样一个二维空间，它也是个集合，这个集合是不是一个仿射集对吧，这个这个连接二维空间中间。

![](img/9843dd66cf41aac737daf94787e5bce6_189.png)

任意两点的直线一定都在这个二维空间内，因为我们生活的一定是一个欧几里德的空间。

![](img/9843dd66cf41aac737daf94787e5bce6_191.png)

对吧，我们考虑的是欧几里德的空间，它不可能超出这样一个空间。

![](img/9843dd66cf41aac737daf94787e5bce6_193.png)

但是我在中间去选择一个正方形。

![](img/9843dd66cf41aac737daf94787e5bce6_195.png)

由这个正方形中间所有点构成的集合，它是不是一个反射机啊，不是的好，那么这个上面这个定义呢虽然很简单。

![](img/9843dd66cf41aac737daf94787e5bce6_197.png)

但是啊从数学家看来太土了一点。

![](img/9843dd66cf41aac737daf94787e5bce6_199.png)

为什么呢，因为我们要任意的从中间选择两点对吧，那么有人就会问，就是如果我要选择很多个点怎么办，选择三个点，四个点，五个点，无穷多个点怎么办好，所以呢我们这个数学家的任务之一。

就是把所有的这些问题都把它搞得复杂化了，我们就对这个纺织机做了一个，更复杂一点的定义。

![](img/9843dd66cf41aac737daf94787e5bce6_201.png)

![](img/9843dd66cf41aac737daf94787e5bce6_202.png)

![](img/9843dd66cf41aac737daf94787e5bce6_203.png)

我们考虑在这个C里面有K个点，我们从中间选择K个点。

![](img/9843dd66cf41aac737daf94787e5bce6_205.png)

这个K可以是可以是二，可以三可以四，可以是无穷呃，然后呢我们再选取K个C的这个这个C的C的，一到C的K呢都是实数，而且我们要求啊这个C带一一直加到C，带K是等于一的，它们之和应该是等于一的。

那么我们来定义这样一个东西啊。

![](img/9843dd66cf41aac737daf94787e5bce6_207.png)

![](img/9843dd66cf41aac737daf94787e5bce6_208.png)

我们定一个新的点，这个点呢称为叫X1到XK的仿射组合，这是个点，它是怎么定义的呢，就是，从C到EX一一直加到C大KSK。



![](img/9843dd66cf41aac737daf94787e5bce6_210.png)

我们讲这个一定是个点对吧，因为它每个都是一个向量嘛，每个中间的每个元素都是一个向量嘛，我把它加在一起，他一定是个点好，那么我们讲了一个集合，如果是个仿射集的话，那么我从中间任意选择这个点。

它的仿射组合一定都都还在这样一个集合内，也就是说如果是个仿射集的话，那么这个这样一个C的1X1，一直加到C的k x k in都是要属于C的，好我们看这个定义就复杂了一些对吧，但是呢如果我考虑这个。

如果我考虑这个K是等于二的话，实际上我们下面这个定义，就已经退化成上面这个定义了。

![](img/9843dd66cf41aac737daf94787e5bce6_212.png)

对不对，回顾一下我们之前关于这个直线的这个定义，就是说如果当这个我中间任意选择两个点，X1和X2，那么如果C的ex1加上C的二。



![](img/9843dd66cf41aac737daf94787e5bce6_214.png)

X2是属于C的话，我们又知道这个C带一加C带二是等于一的。

![](img/9843dd66cf41aac737daf94787e5bce6_216.png)

也就是说这一条直线中间任意一个点，都一定是在这个C内，那么这个集合就是个仿射集合，所以我们讲这个定义啊，实际上是上面这个定义的一个一个泛化，我们把它把它讲得更广泛了一点，好我们来看一看啊。



![](img/9843dd66cf41aac737daf94787e5bce6_218.png)

就是我们讲这个这个第一个定义呢，是第二个定义的一个特例。

![](img/9843dd66cf41aac737daf94787e5bce6_220.png)

那么这两个定义到底是不是等价的呢，我们要来稍微证明一下。

![](img/9843dd66cf41aac737daf94787e5bce6_222.png)

![](img/9843dd66cf41aac737daf94787e5bce6_223.png)

![](img/9843dd66cf41aac737daf94787e5bce6_224.png)

我们现在要证明的事情是就是假设啊，我们现在已经有了第一个关于纺织机的定义了。

![](img/9843dd66cf41aac737daf94787e5bce6_226.png)

我们我们已经有了第一个定义了，我们要我们要想推出来。

![](img/9843dd66cf41aac737daf94787e5bce6_228.png)

就是第二个定义，它所定义的集合一定也是个仿射集，这就是我们要我们要证明的东西好。

![](img/9843dd66cf41aac737daf94787e5bce6_230.png)

那么简单起见，我们就我们要把这两个点的情况。

![](img/9843dd66cf41aac737daf94787e5bce6_232.png)

推广到三个点的情况，我们看看能不能推广出来。

![](img/9843dd66cf41aac737daf94787e5bce6_234.png)

![](img/9843dd66cf41aac737daf94787e5bce6_235.png)

![](img/9843dd66cf41aac737daf94787e5bce6_236.png)

![](img/9843dd66cf41aac737daf94787e5bce6_237.png)

那么我们就选择一个仿射机，C从中间选择三个点，X1X2和X3，他们都是属于C的，那么我们就要定义一个关于它的仿射组合了，对吧，因为我们要用第二个定义。



![](img/9843dd66cf41aac737daf94787e5bce6_239.png)

我们要考虑这个第二个定义是不成立的好，那么我们就找上一些C的C的一和C的二。

![](img/9843dd66cf41aac737daf94787e5bce6_241.png)

C的三都是实数。

![](img/9843dd66cf41aac737daf94787e5bce6_243.png)

同时我们要求这个C大于一，加加C大于二加C的三是等于一的好。

![](img/9843dd66cf41aac737daf94787e5bce6_245.png)

我们来看看它的仿射组合是个什么样的东西，在考虑这样一个仿射组合之前呢，我们先来看另外一个点。

![](img/9843dd66cf41aac737daf94787e5bce6_247.png)

![](img/9843dd66cf41aac737daf94787e5bce6_248.png)

![](img/9843dd66cf41aac737daf94787e5bce6_249.png)

我们首先来看一看，把这个X1和X2啊，把它给组合一下，我们写写出来一个这样的组合，那么如果我们已经知道了，关于仿射集的这样一个第一个定义的话，那么我们我们看这个这个点，是不是在仿射集内呢。

是不是在这个C内呢，一定是对吧，因为这个就前面这一项。

![](img/9843dd66cf41aac737daf94787e5bce6_251.png)

在后面这一项是等于一的嘛，所以它一定是属于C的，这是没有问题的好，那我们再来组合一下，我们把上面这个点呢再跟另外一个点组合一下。



![](img/9843dd66cf41aac737daf94787e5bce6_253.png)

![](img/9843dd66cf41aac737daf94787e5bce6_254.png)

![](img/9843dd66cf41aac737daf94787e5bce6_255.png)

![](img/9843dd66cf41aac737daf94787e5bce6_256.png)

![](img/9843dd66cf41aac737daf94787e5bce6_257.png)

好我们再来看一看这个新点，它是不是在C内。

![](img/9843dd66cf41aac737daf94787e5bce6_259.png)

一定是在C内吧对吧，因为这个点是在C内的。

![](img/9843dd66cf41aac737daf94787e5bce6_261.png)

这个X3也是在C内的，我们知道这个C带一加C的二。

![](img/9843dd66cf41aac737daf94787e5bce6_263.png)

再加上一减去C来，一减去C的二，它等于一的，所以这个点呢也一定是属于C的。

![](img/9843dd66cf41aac737daf94787e5bce6_265.png)

那么我们把这个式子稍微的改一改啊，我们把这个XC带一加C的二乘进去，我们看这个C带1X1加C大二乘以X2，那么另外后面这一项呢，我们知道C带一加C带二加C大三是等于一的，所以最后一项就是就是C的3X3。

我们已经知道了这个这个点是属于C的，所以它是属于C的对吧，我们看是不是我们就证明了，这样一个仿射组合一定是在C内对吧，所以说这两个定义它是它是一致的，你从上面一个定义可以推出来，下面一个定义。

从下面一个定义这个选择一个特殊的形式，选择一个K等于二的形式，你就可以得到第一个定义好。

![](img/9843dd66cf41aac737daf94787e5bce6_267.png)

那下面呢我们再简单的研究一下。

![](img/9843dd66cf41aac737daf94787e5bce6_269.png)

这个仿射集的性质。

![](img/9843dd66cf41aac737daf94787e5bce6_271.png)

![](img/9843dd66cf41aac737daf94787e5bce6_272.png)

![](img/9843dd66cf41aac737daf94787e5bce6_273.png)

![](img/9843dd66cf41aac737daf94787e5bce6_274.png)

![](img/9843dd66cf41aac737daf94787e5bce6_275.png)

![](img/9843dd66cf41aac737daf94787e5bce6_276.png)

好我们这里把这个仿射集的这个这个定义啊，重新写了一遍，就是呃如果C是个仿射集的话，那么C的X1加上加上一点C的X2，一定是属于C的，这个S1S2呢是属于C的，这是纺织机的第一，那么我们现在有个问题啊。

就是如果如果我写出来这么一个点。

![](img/9843dd66cf41aac737daf94787e5bce6_278.png)

![](img/9843dd66cf41aac737daf94787e5bce6_279.png)

阿尔法X1加贝塔X2。

![](img/9843dd66cf41aac737daf94787e5bce6_281.png)

这里这个阿尔法贝塔呢。

![](img/9843dd66cf41aac737daf94787e5bce6_283.png)

是任意是任意的实数，那么我们问这个点是不是属于C的呢，这么一个点是不是属于C的，不一定吧对吧，因为我们讲这个上面这个式子，这个访问这上面这个式子是仿人机的定义，它只有在在这个C的加上一减。

C的是等于一的时候才才成立的，那么我们下面这个式子，也只有当阿尔法加贝塔是等于一的时候，才成立的，对吧好，但是我们看一看啊，就是有没有一些比较特殊的仿射集啊，它即使是对于这样一个比较一般的情况。

它也是成立的，我们来看一看，首先呢我们来看一下这个这个式子，不成立的一个例子，比如说我来选择这样一个选择这样一个仿射几，这是一个贯穿X1和X2这点X1。



![](img/9843dd66cf41aac737daf94787e5bce6_285.png)

这点X2它的一条直线好。

![](img/9843dd66cf41aac737daf94787e5bce6_287.png)

那么我们讲如果我选这个阿尔法等于一，贝塔等于一的话，那么这个新点就是就这么一点对吧，他肯定是不属于这条直线的，这是毫无疑问的吧，好那么我如果改一个改一下，我画一条新的直线啊，画一条跟它平行。

而且是经过原点的直线，我们来看一看，从中间再选择任意的两点X1和X2，那么我任意的选择阿尔法和贝塔。

![](img/9843dd66cf41aac737daf94787e5bce6_289.png)

比如说我选择这个阿尔法等于一，贝塔等于一，那么这个新点在这个地方对吧。

![](img/9843dd66cf41aac737daf94787e5bce6_291.png)

这是这个地方是X1加X2，这一点我们讲对于这个例子，这个新的一个点，它一定是属于这个放射剂的，对不对，我任意的变化，我的阿尔法和贝塔这个性质也一定都是满足的，所以也就是说呢有一类反射机。

它一定是满足这样一个性质的，它满足于这样一个更普遍的一个性质，这是毫无疑问的对吧，我们已经说明了，有这样一个有这样一种集合存在了，那么我们来看一看。



![](img/9843dd66cf41aac737daf94787e5bce6_293.png)

就是什么样的集合是满足这样一个性质呢。

![](img/9843dd66cf41aac737daf94787e5bce6_295.png)

![](img/9843dd66cf41aac737daf94787e5bce6_296.png)

![](img/9843dd66cf41aac737daf94787e5bce6_297.png)

好，那么现在呢我假设啊，我任意的给你一个仿射及C，我任意的给你一个仿生机，C这个仿生机不一定满足上面的这条性质，不一定满足这个阿尔法G加倍的X2，是属于C的这样一个性质。

但是呢我我来这么来构造一个新的集合，这个集合我们把它记成C减去X0，这是个集合啊，好这个集合是这么定义的，就是我对于这个这个C中间的任意一个元素X，我把所有的X减去X0啊，都把它给拿出来。

构成一个新的集合，这个X0呢是我从C中间去任意选择一个点，那么这个意义你可以理解吧，实际上我相当于是从这个纺织机当中去，任意地选择了一个点，我来对这个纺织机去做一个空间的平移。

就相当于这个相当于这个X0去做一个平移了，平移之后呢，我就在一个新的坐标系内得到一个新的集合V，这这这个东西我们称为叫V好。



![](img/9843dd66cf41aac737daf94787e5bce6_299.png)

对于这个V呢，我们有一个给它起个名字，叫做与C相关的子空间，这东西称为叫一个子空间好，但是我们我们这里要说明一下，就是这个C1定要是个仿射集，它不能是一些别的集合，否则的话你们就不能称它叫子空间了。



![](img/9843dd66cf41aac737daf94787e5bce6_301.png)

![](img/9843dd66cf41aac737daf94787e5bce6_302.png)

下面我们要说明一件事情，就是这个V中间呢我们对于这个V。

![](img/9843dd66cf41aac737daf94787e5bce6_304.png)

首先我要说明这个V呢也是个仿射集，其实呢我们要说明这个V啊，它满足这样一个性质，就是对于任意的阿尔法和贝塔，它都它都是使得这个阿尔法X1加贝塔X2，是属于V的，也就是说。

这个这个我对这个仿射机去进行一个平移。

![](img/9843dd66cf41aac737daf94787e5bce6_306.png)

那么这个新的仿射剂，这个新的集合一定是个仿射机，而且这个仿射集它会有一些很好的性质。

![](img/9843dd66cf41aac737daf94787e5bce6_308.png)

我们来证明一下，简单的这个证明非常简单，好既然要证明的话。

![](img/9843dd66cf41aac737daf94787e5bce6_310.png)

我们肯定要从中间选择两个点对吧，一个点叫V，一点叫V2，他们都是属于这个V的，同时呢我们要找上两个数，阿尔法和贝塔是属于这个R的，那么我们知道这个我们现在要证明的事情。

就是这个阿尔法V加上贝塔V2也是属于，也是属于V的，我们要证明这么一件事情。

![](img/9843dd66cf41aac737daf94787e5bce6_312.png)

好我们来看看怎么证明啊。

![](img/9843dd66cf41aac737daf94787e5bce6_314.png)

![](img/9843dd66cf41aac737daf94787e5bce6_315.png)

我们要证明这个阿尔法V1加上贝塔V2，是属于V的话，实际上我们也也就是要证明，这个阿尔法V1加上贝塔V2加上X0，是属于属于C的，对不对啊，我们要证明这件事情好，那么我们反过来这。



![](img/9843dd66cf41aac737daf94787e5bce6_317.png)

![](img/9843dd66cf41aac737daf94787e5bce6_318.png)

我们把上面这个式子给拆成三项。

![](img/9843dd66cf41aac737daf94787e5bce6_320.png)

第一项是关于这个V1加上X0的，第二项是关于这个V2加上X0的，第三项呢是关于X0的，好，我们看这个点V1加上X0，这个点它一定是属于属于C的对吧，好好V2加X0，N也是属于C的，X0呢不用说了。

它更是这个C中间的一个点，好，我们看这个这个时候，我们这个第二个定义就开始可以起作用了嘛，对吧，现在我们有三个点，我们又知道这个阿尔法加贝塔加上一减。



![](img/9843dd66cf41aac737daf94787e5bce6_322.png)

阿尔法减减去贝塔是等于一的，所以它是一个仿射组合。

![](img/9843dd66cf41aac737daf94787e5bce6_324.png)

是是这个C集合中间三个点的仿射组合，所以这个一定是属于C的好。

![](img/9843dd66cf41aac737daf94787e5bce6_326.png)

既然它属于C的话，那么我们就可以知道这个R和V1，加上贝塔V2就属于V的了，这个证明就完了对吧。

![](img/9843dd66cf41aac737daf94787e5bce6_328.png)

非常简单好，那么我们还要说明的一点，就是说在这里面呢，这个X0的选择呢是是是没有关系的。

![](img/9843dd66cf41aac737daf94787e5bce6_330.png)

你随便选择哪个X0都可以，你任意的选择一个X0都是没有问题的好，那么我们讲这个东西有什么样的意义呢，实际上啊如果我给你任意一个仿射集，如果我给你一个任意的一个仿射集，那么反射机这个性质是不错的。

因为我们知道这个C再加C再加上一点C的啊，C的X11点C的X2呢是是属于C的，但是这个性质还不够好对吧，如果我们这个中间这个C的加上一减C的，可以可以随便变的话，那就更好了。

所以呢实际上呢我们就可以从一个性质，一般的一个发射机，可以得到一个性质更好的一个方式机，那么这个反射就像我们这个新的仿射机啊，我们称为是原来这个仿射集所对应的，这样一个子空间，他一定是个空间好。

这是这是一个问题，就第二第二个问题就是我们讲啊，这个子空间一定是经过原点的，对不对，他一定要经过原点呢，为什么呢，为什么经过原点呢，因为我是减掉一个X0了对吧，在原来这个集合C里面一定有一点是X0。

那么我把这个X0再减去X0，所以这个一定是要经过原点的，我们讲这个什么叫做空间呢，任何一个空间一定都要有一个圆点，只有经过原点的才叫才叫空间或者叫自空间，否则的话你不能称为叫空间的。



![](img/9843dd66cf41aac737daf94787e5bce6_332.png)

好上面这个东西有没有什么问题。

![](img/9843dd66cf41aac737daf94787e5bce6_334.png)

没有问题吧，这个足够简单吧，好那么我们再来讲一个稍微复杂一点的东西，好这个例子呢非常的重要，因为以后我们在研究这个图优化问题的时候，会用到这个概念，就是线性方程组的解析，任何一个线性方程组的解解。

它都是一个仿射剂，它就一定是个仿射几，好，我们来说明一下这个这件事情嗯，假设我们考虑这个X呢是一个N维的一个向量，所以我们讲那个呃，我可以我可以写出这么一个线性方程组，就是ax等于B。

这里这个A呢是一个M乘N维的一个矩阵，B呢是一个MV的向量，这个是一个比较一般的一个线性方程组，对吧，好，我们我们讲这个我们现在现在就要证明啊，或者说说明啊这个C这个集合就是一个仿射集。

好我们讲怎么怎么去证明呢，我们就利用它的定义来证明就可以了，好，假设我从这个C里面去任意的选择两点，X1和X2，那么这个既然它是这个线性方程组的解，它们两个都是线性方程组的解。

那么他们一定满足这样这样一些性质，就是ax1等于B，ax2是等于B的对吧，他一定满足这个性质好，我们来讲这个，我们现在要说明的就是他们的一个线性组合，就是X1和X2的这样一个线性组合。

他也一定是属于这样一个，属于这样这样这样一个反射及C的，这样一个集合C的，那么我们来选择一个C的，属于是R，我们来考虑这样一个点，就是C的X11减去C的X2，我们要证明它是不是属于C。

那么为了证明它是属于C的方法呢，我们要说明一下，就是AC的X11减去C的X2，要等于B对吧，那么实际上就要就要说明这么一件事情，好好，那么这个证明实在是太简单了是吧，非常容易的，我把这个A给乘进去。

第一项就是这个C的ax1，第二项是一减去C来乘以ax2，我们知道这个AAX1和X2都是等于B的，所以很显然这项就是等于等于B的对吧，这个证明也就结束了，好那么这么一个例子实际上就说明了。

就是任何一个线性方程组的解集，它都一定是一个仿射集，一定是个仿射集的，我们刚刚讲过的就是任何一个仿射集啊，你都是可以构造出一个跟它相关的一，个子空间的，那么我们来看一看这样一个仿射集。

它的跟它相关的一个子空间是什么东西呢，很简单，我们就按照这个之前讲的这个子空间的定义，来讲，我任意的挑出来一个X0，我要来看一下这个，把这个所有的这个X减去X0，X是属于C的这样这样一些点的集合。

把它给给放到一块去，我我我们看看这样一个集合是个什么东西，好我们讲这个，既然这个既然这个S是属于C的，X0呢也是属于C的，那么很显然这个ax等于B的，然后ax0呢也应该是等于B的对吧，这没有问题吧。

有了这个式子之后呢，我就可以把这个式子写成这样的形式，好这里我这里写的不对啊，因为我之前如果像我之前那么写的话，那就好像显得这个X0是一个，是一个是一个可以变的一个东西了。

但实际上这个S型呢在我们选择好之后，它已经定下来了好，那么我们可以把它写成这样一个形式，就是嗯就是AXA乘以X减去X0，它应该是零零的，这个没有问题吧，从上面到下面这一步肯定是没有问题吧。

因为我把这个AX0等于B给带进去的话，那么我就可以得到下面这个式子了吧，那么下面我们再做一个简单的代换，就是把这个X减去X0啊，把它给换成一个新的一个变量，我把它给换成一个新的变量Y。

那么这个集合就可以写成，是所有的这样一些Y给放到一起所构成的集合，其中呢这个Y呢是满足这样一个性质，就是A乘以Y是等于零的，是这样的集合好，我们讲这个集合实际上是有个名字的对吧，这个集合叫叫什么名字。

对他的确是一个跟C相关的一个子空间，这是没有问题的，这是我们之前的定义，但是呢他还有一个跟这个A有联系的一个名字，你们都学过线性代数，对不对，还记得不记得化零空间这个概念，这是一个这个集合。

实际上是一个A的化零空间对吧，也就是说这个集合中间的任意一个点，乘以乘以A，或者说A乘以这个空间中间，这个集合中间任意一个点都是等于零的，所以叫划定空间，只要你在里面，我拿A给你乘，你一定就变成零了。

那么我们看啊，我们比较一下上面那个式子和下面这个式子，我们讲之前那个C呢是这个，C呢是一个是这样的集合，这里所有的X的集合，那么这个X呢是满足这个ax等于B的，那么实际上我们只要把这个把这个B给换成零。

那么我们就得到V这个新的集合对吧，我们就去做了一个平移，这这个概念在这个，实际上是很容易想象的，实际上就是一个平移了，我们任意一个发射机，只要你给它做个平移，让它平移到一个，就至少有一点是落在原点上面。

那么这个机占一个新的集合，一定也是个反射剂，而且这个反射机就是一个跟这个跟C相关的，这样一个啊所谓的叫子空间，好上面我们讲的是，这个这个线性方程组的解集呢一定是个仿射集。

这个是从占一个这个镇的这个方向去讲的，但实际上呢我们也可以说明呢，就是任意的一个仿射集，我都一定可以写成一个线性方程组的解集，这个反过来也是正确的，那么如果你们感兴趣的话，可以自己去证明一下。

这个证明不是很难，好下面我们再讲另外一件事情，就是如果我给你一个集合一个，如果我给你一个集合，C这个集合呢可能不是个仿射集，那么你有没有有没有办法，在这个C上面去构造出来一个仿射集。

而且这个保证这个纺织机是个是个最小的，你能构造出来的一个最小的反射极端，我们来考虑这样一个问题，好那么这样一个集合C啊，可能是仿射的，也可能是非反射的，我们的目的就是要构造一个尽可能小的。

这样一个仿射集，好，那么为了做这件事情呢，我们还要引入一个新的定义，这个东西叫做仿射包，是一个是一个包对吧，这个包是一个关于C的扫射，我们把它记成就是这样一个近战的符号，这是一个关于C的仿射包。

这个这个仍然是个集合，啊啊啊，那么这个仿射包是怎么定义的呢，这个仿射包的定义啊，实际上就是这样的，就是我从这个C里面去任意的去选择K个点，这个KQ点可以是任意的，然后呢我对他去做一个仿射组合对吧。

这个这个就是我们之前讲的，这个仿射组合的定义，还记得不记得对吧，好，我任意的去做仿射组合，那么我把这个仿射组合中间这一点，把它给放到这样一个新的集合里面去，那么这样一个新的集合。

我们就把它称为叫C的仿射包。