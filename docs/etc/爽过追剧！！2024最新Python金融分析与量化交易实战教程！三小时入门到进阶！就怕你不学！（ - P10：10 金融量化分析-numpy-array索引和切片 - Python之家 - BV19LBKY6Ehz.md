# 爽过追剧！！2024最新Python金融分析与量化交易实战教程！三小时入门到进阶！就怕你不学！（ - P10：10 金融量化分析-numpy-array索引和切片 - Python之家 - BV19LBKY6Ehz

好啊，咱们下面来讲ND个瑞啊，它的一些快捷的运算，就是我之前在刚开始的时候给大家举了两个例子。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_1.png)

那我刚才之前举的演示的例子是什么？大家记得吗？就是美元都转化成对对那这个例子是怎么来的？哎，讲一下它的原理啊。首先我们可以创建一个啊，我比如说我用A range。创建一个快一点的啊1啊。

现在A是0到9的这么一个数组，那它可以提供哪些快捷的运算？嗯，第一，它可以和标量进行运算。嗯，那什么是标量呢？标量其实就是数嗯啊，数据它叫标量。



![](img/aa4248ffe597f0cb1edb896ff6c7df0d_3.png)

这个东西数学上叫数组，也可以叫做向量。嗯啊那12345这东西叫标量。好，我可以A加1。全都加一全都加1嗯，A乘3。讲。你还可以反过来3除以A。



![](img/aa4248ffe597f0cb1edb896ff6c7df0d_5.png)

哦，那可哎行行况？一会儿再说啊，这个出现了一点小小情况，这个咱们后面会讲的，先留一个小悬念啊。和标量年的还可以什么呢？还可以和另外一个数组落。比如说我再创建一个啊。



![](img/aa4248ffe597f0cb1edb896ff6c7df0d_7.png)

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_8.png)

B也是一个长度维持的啊，A也是一个长度维持的那。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_10.png)

两个数度也可以做运算。相当于就是两个对应位置上的做加法，看到没有10加011加112加23加3就是这种两个二维数组可以说加减乘除两个二维数度也可以，只要他们大小一样啊，不一样就乱了不一样就乱了。O。啊。

加减乘除，那还有大于。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_12.png)

哎，大于运算这个反馈是啥意思？我知道。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_14.png)

哎，我们经常说这个一大于二是不是返回一个forse。对，所以它这个相当于是A对应的每个位置上AB上每个位置上看A大于Bforse，你改一个改A其中的一个值，把它改到比B里面对应大。



![](img/aa4248ffe597f0cb1edb896ff6c7df0d_16.png)

A0等于20。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_18.png)

看A大于B，嘿，就第一个位置是竖下这个让它这是大于。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_20.png)

的情况。那。那以后我在程写程序的时候，呃，就是我我我做一些这种这种类似这样列表之间的这种。关系的数据运算就可以用这个完全可以用这个库。对，比你写用完了。对，而且它实际上比你写出来的循法要快。对。

效率还高，效率还高。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_22.png)

好，那第21个咱们就是老生常谈，说一说什么所以或者是下标啊，咱们列表上讲列表的时候这个讲过的。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_24.png)

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_25.png)

A是一个列表或者数组啊，A0就是它的一号文件两，对不对？这个咱们都知道了。然后二维数组二位数组的话好，你现要讲啊？这个是二位数组的话，收音怎么来？首先找到行再找列，然后我们来一个二维数组啊。

等于NP点A。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_27.png)

认识。哎，这也给大家补充一点啊，怎么样生成一个快速生成1个25的。比如说我A认指15嗯。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_29.png)

一维的是不是一个一维的呀那。Re sorryor， resha， reship。为什么叫re同？

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_31.png)

就把这个一维变成2A看为变成一个receive变成一个3乘5的一个2倍。嗯，3乘5行还记得为什么sha是啥吗？ship是返回三和5嘛？嗯，receive就是给它重新变一下型。嗯，re不是重新嘛？

嗯shift不是行吗？但是如果是一维速组，它的返回的这个shift是1时，对吧？1V15返回的不是1时，因V数组返回的是。



![](img/aa4248ffe597f0cb1edb896ff6c7df0d_33.png)

15哦，没长度为一的对O你几围的返回来就是几个数。OK，然后所receive就是返它是receive就是我我把整个15个数排成一列，然后给它返后按顺序变成三行。嗯，好就是这个。好。那对于一个二位数组。

我们索引比如说Y想取零，是不是就是A0？0对对对，第一行这个和列表也是一样。嗯，还有一种不一样的写法，怎么写？对于二维数据来讲啊，不一样的写法，0逗号0。这是列表里没有的啊，为什么？

也就是说这种就是换一种写法而已嘛。咱们等到后边讲我先埋一个伏笔，等到后边讲pandas这个库的时候，会说到这个功能。到时候会比你用这个功能更加长啊啊，基本上到后边你就只就让告诉你，只能用这个功能。

不能用这么写。那我试一下啊，我这个小白，那我要举这个12星，其实是A2123023121啊，对，到时我说13对啊，0不是A22对对吧？所就是A22啊，现在我也鼓励大家又做号问题。

至于为什么咱们会不会说好啊，这是所以对，然后另外还有一个是什么来着？

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_35.png)

看到了。前面前面。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_37.png)

好，常见的。我们先回到一维数索。10数组切片起点结束，一位数左，比如说切0到4嗯，切出来的是几页，是不是？0233不包括在那个前包后不包一定内，顾头不顾尾。对，好，这和列表里一样。

包括啊我可以有一个值是空的，嗯，对不对？好，那。它和列表不一样的地方。是什么不一样的地方，就是不知道。我来举个例子啊，我来给个列表。没有不一样的地方，他没有不偿，暂时现在还没有没有补偿吗？什么补偿？

有啊可以有可以有可以有不差的什么的啊，咱先来一个啊。我们来看A。看A和B嗯，哎，是不是一个是数组，一个是列表，但是它们的值是一样啊，来看一下啊嗯。来一个C等于A切上它切0到4，比如说嗯。

那C然后D等于B的斜条，好吧，也是0到4。好，C和DC是A的线片，D是B的线条。要这个时候比如说我们修改C0的值等于原来是零，对不对？嗯，我们修改成20吧嗯，D0的值。也修改成20。

我问你A的值和B的值是多少？你退出。你说呢A和B啊都是长度是从0到9，但是一个是数组，一个是这个C是A的一部分切片，D是B的一部分切片啊，就是C切了这一部分，你0。然后我对C和D的某一个执行的修改啊。

我们来看A和B。B是B是谁呀？A和B是两个。一个数组一个列表啊，OKOKOK然后D是等于个B084。然后呢，你现在修改了D的，修改了D的二等于20，然后。然后修改D20，那相当于它没有电。

然后A是在元素组上修改吧。对呀对呀，为什么会出现这种情况？这不是因为是哦切片了之后，我知道切片儿就是说相当于你把AA在哪呢？切片那个。对是这的啊C对吧？你把C切片了之后。

相当于你其实并没有copy for新数据，而是你只是相当于引用了那个对那个这就是实际上就是对于额瑞这个数组结O来说，你在切片的时候，实际上也是一种前 copypy。Yeah。他是做的一个相当于是视图。

那为什么要这么改省空间啊省空间。对，就是实际上我们做用number PY或者用panda来做的时候，它都是一个可能是特别大的数据。嗯，可能你整个一个列表就占。好几百个。嗯，那你切出来一部分。

如果你要复制的话，第一时间操度会非常大。嗯啊空间也会占好多内存。嗯，那所以一般来说就是默认的情况下，不会重新开一块人件，那只是相当于做了一个前方位，那就是指向这块位置。所以对C上进行修改。

同样会修改到闭。嗯，那如果有人说我不想这么改，那我那我怎么办？我就想让它重新复制一个。啊，我想再重新复制一个嗯啊，我们有一个copy函数。啊，这个时候C和A就不一样嗯。啊，你再对C进行修改，我来看一下。

再C看0，我把它零给它改回来啊。嗯，你先看一下C和A，大家都是20。嗯，我把C的零给它改回来，改成0。那我们再看A。是不变的嗯。用了copy之后，它才是一个深考的。好。

这是我们讲它和之前列表的切片所不一样。啊，这是一维数组。我们接下来再说回二维数组。列表是浅口贝，然后呢列表是深口贝，没有列表只是第一层数据是深口。我们就先讲一维OKO行，先先讲一维输索啊啊那这个。

2月数据来说啊。升靠位前考位的问题还是不还是一样的。我不说了，就是它还是这个叫啊。这个视图是一个浅靠贝啊，你如果用深靠贝要加点coB，嗯，那我们说二维数组的切量。嗯，说的说这有点意思，有点明，那明先解。

那没那没让用用常人的这个方法来想想应该怎么切。假如说我想让你切出来切出来0156这四个值0156，就是我切两列切两行，用懂了，先是先把前两行切出来，再在前两行，后面再跟一个中括号，然后呢是切那个什么。

现在是对两个中括号，第一个是。就是A嘛，A中括号。然后0到0到110，然后2啊，然后后面带一个等号0到2。行。不会。为什么呢？嗯来解释一下你的这个话为A0到2嗯返回的是不是还是一个二个类表。嗯，对啊。

但是我就把这个写，那你接下来再中括号1个0到2，是不是相因于在这个列表基础上再加0到2，那是按行期还是按列切？我希望他是按键切，但是他默认的应该是按行切啊。那你你这个东西是按行切了，嗯，没道理。

你在它后边再加1个0到20，而且为他单独设计的对吧？它相当于是什么？它相当于是这么写啊，A0到20到2相当于是B等于A嗯0到2嗯，然后C等于B的0到2，最后是这个C，那仅天的两次都是按行期啊嗯嗯。

那怎么说哎，我就想01567的，怎么签呢？我刚才记得那个逗号吗？哦，我说获取值的时候，是不是00可以获取逗号？嗯，那前边同号也是0到2逗号，0到2，这个时候就解释成逗号，前面是行，后边是0哦。这么牛逼。

所以你可以在里边任意的起，非常好，你可以在里边任意的起来够的。比如说我想切这个781213，嗯，那怎么切呢？我知道781213是吧，那就是A呃，0122到342到4。然后账号。78078123就是1到。

嗯，可以不写后边，反正切到最后嘛，对吧啊。过人诶，咁不对。不。第啊对，哎，要切78121378213不对呀，你78你数在，你误导我逗号，左边是行，右边是列，你给安排到了。啊。左边是长切条。

横切片你切什么第二行和，第三行。对，那就是一呃一到1冒号。对吧列起，然后是是是是那个0122到对是你看跟之前是不是写法，对对对不对？OK good。记住啊，逗号左边是好，右边是好好。



![](img/aa4248ffe597f0cb1edb896ff6c7df0d_39.png)

这是切条嗯嗯啊，包括多位数字的切片，现在有点印象这个逗号怎么用了吧，知道了好。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_41.png)

那接下来你先把那个小结讲完了吧，那个就算完了是吧，前边。

![](img/aa4248ffe597f0cb1edb896ff6c7df0d_43.png)