# YOLOV9改进-更换轻量化王者MobilenetV4-Backbone - P1 - 魔傀面具 - BV1Ax4y1B7Ln

![](img/cdd8f9bd8abfd772fc774388551c76dc_0.png)

哈喽各位下午好，那么今天我们的内容的话，主要就是UV9如何去更换这个BB，那么再说这个之前的话呢，如果说大家对一些改进思路改进，没什么思路之类的啊，就是说一些思路的问题啊，啊也不知道从哪开始改起之类的。

那么你可以去看一下我的这一个，基于V8的一个人脸检测的一个改进思路啊，那么这里也配备了一个哔哩哔哩的一个视频，那么这里的话多一些环境的说明，然后数据集的话啊，都给大家去处理理好了。

那么这一个的话呢是我们的一些对比的实验啊，都是对比一些常见的一些检测器啊，那么我们的模型是经过数据的处理，还有这一个啊标签分配策略的一些调仓啊，还有一些啊改头部的改进啊，head改头部的改进。

BBB的背包有没有改进，我好像忘了，背包好像是没有动啊，然后改进的那个特征，金字塔被泵动了一块，被泵动了一块，然后如何从这个啊，3。08变成0。5的一个参数量，然后8。3变成5。0的一个计算两年。

然后各项精度的话基本上都有提升的情况，那么这一个贝斯拉的话呢，我们是载入了预训练权重的指标啊，如果说没走预训练权重指标的话，各项都有提升的，但是我们的easy的话提升就比较微弱一点。

因为后面是经过了减脂才到了这么一个指标啊，那么在检测之前的话呢，我们的指标的话都是都是，相比这个还要高一点啊，那么这个是我们在图像大小1280的，这个检测效果好，那么下面也有我全部的一些实验啊。

还有人一直说啊，就是怎么说快了，IOU啥的都没有提点什么的，其实这是很正常的情况，你像我自己在这个实验里面做的，都没见到有什么比较好的一个效果好，所以的话呢这些凹凸的话，就是自己跑跑实验就好了。

他没提点就算了，因为之前的话有些人就问啊，为什么换了很多LU，他都没有提点这个问题，这个问题的话说实话就没办法去回答，因为这些东西都得去实验的，他没提点，那他就是没有提点，他就不太适合，这是第一个。

那么如果大家觉得OK的话，也可以点个star支持一下，谢谢各位，那么我们就开始今天的这个内容，那么我们的代码的话呢都一样，是在这块啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_2.png)

那么首先的话，我们先来一下这个ROV9的项目啊，哦还有一个就是说我们这个RV9的话呢。

![](img/cdd8f9bd8abfd772fc774388551c76dc_4.png)

呃就是像昨天已经是更新了一个更新的，一些视频，可以通过在这里查看，4S店上也有，啊这里我还没有提交啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_6.png)

这里我还没有进行一个提交，那么就是说这个如果说你还不快跑，游龙V9的话呢，你可以去看一下这一期视频啊，包含了这五个环节啊，然后的话呢，还有这个UOV9的这个热力图都有的啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_8.png)

入了V9的热力图的话，是在这一块，在这里也有视频地址，可以自己去看一下，注意一下这一点就OK了，还有一些关于UV9的话，如果说你之前没看过的话，可以去看看，那么今天就开始这个内容，那么我们克隆完之后呢。

我们可录完之后呢，我们就打开我们的这个，首先呢我们点开这个UO点PY，先把这些代码给它粘贴到你的这个啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_10.png)

RV9的项目里面啊，首先这段代码的话呢，它是在这个model ro点PY，他是在这个base model的这里，啊这一这一块啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_12.png)

替换一下啊，替换一下这个函数，然后再把这个函数。

![](img/cdd8f9bd8abfd772fc774388551c76dc_14.png)

也是一样啊，替换一下下面的这个函数，然后呢导入一下这个TM，导入一下这个TM这TM没有的话，可以去撞一下PPTIM就OK了。



![](img/cdd8f9bd8abfd772fc774388551c76dc_16.png)

那么首先在接下来之前的话，我再要说一个事情，就是说呃我这期视频的话呢，主要是演讲的是这个mobile v4啊，就是最清楚的一个模板6V4，然后呢我之前所发的所有的URV5。

这个替换BBD都是适用于这个的啊。

![](img/cdd8f9bd8abfd772fc774388551c76dc_18.png)

只是说你的这部分修改的话呢，就是我刚刚所给大家替换的这两部分，修改的话了啊，就修改这一期视频。

![](img/cdd8f9bd8abfd772fc774388551c76dc_20.png)

就看这一期视频去修改就行了，那么你像如果说你像想替换这个fast net是吧。

![](img/cdd8f9bd8abfd772fc774388551c76dc_22.png)

![](img/cdd8f9bd8abfd772fc774388551c76dc_23.png)

但ghost好，我们看一下啊，你这里又全是form吧。

![](img/cdd8f9bd8abfd772fc774388551c76dc_25.png)

就哦你看我就是我这期视频里面的话。

![](img/cdd8f9bd8abfd772fc774388551c76dc_27.png)

也有去介绍，比如说要啊粘贴这些内容。

![](img/cdd8f9bd8abfd772fc774388551c76dc_29.png)

这些内容的话，那你就不用管了，因为刚刚我们已经做完了，你们只需要去看，为什么我推荐各位看一下啊。

![](img/cdd8f9bd8abfd772fc774388551c76dc_31.png)

哦你们只需要去看后面这个fast net相关的就OK了。

![](img/cdd8f9bd8abfd772fc774388551c76dc_33.png)

不过其实大体的流程它都是一样的啊。

![](img/cdd8f9bd8abfd772fc774388551c76dc_35.png)

那当然我等一下可以给大家这样去演示一下，然后替换完之后呢。

![](img/cdd8f9bd8abfd772fc774388551c76dc_37.png)

呃替换完之后啊，这边替换完之后呢。

![](img/cdd8f9bd8abfd772fc774388551c76dc_39.png)

我们把这个杠C的GOMER给他拿下来，这里我就只提供这个杠C了，那么杠一的话，因为它是涉及到P1层也要的，你替换主干的话呢，他有些时候不是每一个主干它都有P1层，所以说我这里就没提供了这个杠一。

而且这个杠一也非常大，我相信也没有人会去用这个去跑实验，除非你算力真的是很顶啊，因为你像一些算力啊，比较就是没什么算力的一些同学的话呢，其实跑杠C已经是很很吃力了啊，好我们把这个文件拉下来之后呢。

比如说这个文件原本的这个mobile v2杠035。

![](img/cdd8f9bd8abfd772fc774388551c76dc_41.png)

它就是这个TIMM里面带的，那么这个TIMM的话呢。

![](img/cdd8f9bd8abfd772fc774388551c76dc_43.png)

也是我之前就一直有说到的一个东西啊，就是这个你可以去啊，直接在这里搜入了V5TM就行了啊，入了入TM就行了啊，然后的话呢呃他这个的话是支持大部分的这个，CN的一个网络的。

那么在这个啊GIAO上的PyTorch image models，这里可以去查到，那么你想看怎么去更换这些的话呢，你也可以去看这期视频，这期视频是有说到的啊，这期视频是有做到的，Ok。

然后的话我们就来看一下啊，如何去替换这个mobile v4好。

![](img/cdd8f9bd8abfd772fc774388551c76dc_45.png)

那么我们先来这这个的话呢，就是TM里面的内容啊，所以说这个TIM里面的内容，是不需要拉任何的文件，你只需要把这个TIM的包给它装上就行了啊，它的代码都在这里面。



![](img/cdd8f9bd8abfd772fc774388551c76dc_47.png)

然后呢，我们的主干我统一都放在这个UV5跟BBB，这一块了啊，那当然了，这期视频也是使用UV5或者UV7的，那么如果V8RTTETR的话，我这边在整个项目里面都已经搞完了啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_49.png)

首先呢，我们可以把这个文件的内容给它复制下来啊，那复制下来之后，你就可以从这里导入一下它，啊这个的话是等一下啊，这个是编辑器的问题啊，他们不能够自动的那啥，然后呢我们把这个开起来啊。

我们把这个给他开起来，等等吧，他这个有点麻烦，这样子去输入，我重新打开一下它就好了，你可以把这几个都全部输入进来啊，那我这里就输三个吧，那么你全部都输进来的话，你就是你其实简单来说就是你要用哪个。

你就把哪个输出这条信息，如果说其他你不用的话，你不用说他都没关系的，但重点的话就是你要用的那个一定要在这里面，不然的话他会解析出问题的啊，比如说我想替换它啊，比如说我想换它，那么在换它之前的话呢。

我们也来看一下吧，就是说这个UOV9，的一些参数量啥的，我直接这么运行吧，那比如说我换成这一个mobile，是吧，这就是mobile v2吗，那如果说我想换成。

如果说我想换成这个刚刚说这个mobile tv4是吧，那么我们来看一下这一块，我们就换个最小的，就是换成它就行了啊，我们这个的话false可以给它去掉，那么这个false的含义什么的话。

你都可以去看这期视频，可以获取到好，啊这个的话呢是是这个THOP这个库里面的，有个bug，是它也不影响你的训练的，它是不影响你的训练的啊，你看这就是替换成功了。

那么假如说我我现在想替换这个fast net啊。

![](img/cdd8f9bd8abfd772fc774388551c76dc_51.png)

那么同样的也是非常简单，啊这个还要拉配置文件下来啊，这个的话就有点麻烦，我就换个别的吧，还有那个比较经典，就这个吧，REREPUT版，就是那个发生，那也是一样，只是说你还要把刚刚给你看到的那个文件夹。



![](img/cdd8f9bd8abfd772fc774388551c76dc_53.png)

给他拉下来而已，这话我就直接就那个简单一点的算了，比如说比如说我现在想用这个IEBUIT，也是一样，一波新号，那我就打一个最小的给自己换一下就OK了，哦他就是这样子。

但是呢有一些比如说这是IEPVIT的话呢，它可能有一些重参数化的一些细节啊，从参数过了细节的话呢。

![](img/cdd8f9bd8abfd772fc774388551c76dc_55.png)

你可能要去找到对应的入了V5的那一期视频，玉龙V5的那期视频啊，呃这个想，罗比b rep，查找我的那些视频。



![](img/cdd8f9bd8abfd772fc774388551c76dc_57.png)

看一下不跟这个参数这一个的话，它导致的啊，就是你看就是后面会有说到，这个重参数化的一些问题的，那么其实的话前面那部分替换的也就不用看了，主要是看一下这个重参数部分，修改哪个内容就行了。



![](img/cdd8f9bd8abfd772fc774388551c76dc_59.png)

那么按照正常来看的话呢，这个从从参数化的模块的话呢，就是我看一下啊，应该也是base model那一块啊，对，你在这里加上在娱乐微博加上的东西就行了啊。



![](img/cdd8f9bd8abfd772fc774388551c76dc_61.png)

然后的话呢。

![](img/cdd8f9bd8abfd772fc774388551c76dc_63.png)

呃我这个GITHUB上面所有的这个BBB都是支持的哦，都一样是支持的，包括这个TIM啊，这里的话就已经是可以覆盖，90%以上的这个主干了，好毕竟有主干来提点，其实这个东西的话还是比较难的。

还是比较难的啊，那么大家的话可以把这个点当做一个就是啊，就是你不要对他太大的期望啊，那如果说你没想到其他办法的话，也可以试试替换BB，那么这期视频就到这里，如果说你觉得做的还行的话，可以点个赞。

投个币啊。

![](img/cdd8f9bd8abfd772fc774388551c76dc_65.png)