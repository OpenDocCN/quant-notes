# 爽过追剧！！2024最新Python金融分析与量化交易实战教程！三小时入门到进阶！就怕你不学！（ - P8：08 金融量化分析-numpy-array基础 - Python之家 - BV19LBKY6Ehz

好，接下来给大家讲解一下我们的这个要介绍的三大功率包之一。第一个单块PY。嗯好。numberPI是一个啥呢？是一个高性能啊科学计算和数据分析的基础包。它是我们后面讲的paas那个包的基础。

也就是paas是在nPI的基础上构建的啊，它的主要功能啊，最主要的其实是第一点第一点啊就是提供了一个叫多维数据结构，高效部件介绍。嗯嗯，我现在该说你们的。一会儿给大家举个例子。到啦。使用了WPI之后。

你在整个去做一批数据，就是批量数据进行预算的时候，嗯嗯可以不用循换。嗯嗯。那除此之外，他还给你提供一些就说现行代售，所以说这能福利业变换等等的功能。安装方法我已经在机器上安装完了啊。

就使用PIP进行安装就可以。

![](img/75d9dd856075c6c501a4d96f998cf15e_1.png)

引用方法啊，这是。好，我们进入安排的。官方给进的用方法inport number端啊，大家这么写啊，一般都会这么写SNP嗯啊，就是这几个包，包括我们后面讲panda的用方式也类似，都是一个缩形啊。

所以说以后呢大家见到一些代码，它可能不不会顶底啊，就给你个NP点。NP来说是n。对。

![](img/75d9dd856075c6c501a4d96f998cf15e_3.png)

![](img/75d9dd856075c6c501a4d96f998cf15e_4.png)

那我们说啊为什么要那么明白？啊，先给大家举例子嗯。假如说你已知若干家亚跨国公司的市值将近往下为人民币嗯。



![](img/75d9dd856075c6c501a4d96f998cf15e_6.png)

啊，就是你有好多公司啊，这个公司值多少钱，你把它存在一个里边里嗯，把它放在什品上，先写一下。

![](img/75d9dd856075c6c501a4d96f998cf15e_8.png)

我就随机一下啊。你要解释什么意思？我写完了。比如说嗯大家看到有吗？我用的radom模块的uniform排除，大家知道吗？不知道uniform排数是随机生成浮点一个浮点数，嗯，就是100到200个单位。

现在浮点数的浮点数。嗯，然后总体这是一个什么列表程式嗯哎生成了50个数，50个数就是我模拟相当于50家公司啊，它的市值是100万到200万万为单位。打印下这个给他们还是这个。好。

这50家公的市值我再发下，我知道的啊，这是美元嗯美元的我知道亿美元等于比如说那个6。86。8人民币啊。假如说好，我们把所有的美元换人民币嗯。那你就直接用很多方法都可，买回来说如此错。啊，刚才那是A吧。

再再搞一个这个就是是现在列表里自己就给他换成了，还是说再都写新列表都可以啊啊啊，我们首先可写方一个月吧括。And个诶。是不是这样对，不是应该是DX等一个但不是。我是在一板上自己把语图已经改了嗯。

这个改对啊，你得你得复职啊，我以为心而满，搞得我都不敢质疑。那不好意思，那我也，这是这不是应代词吗？我说的对。啊，能俩7年一个币吧。啊，写说有吗？然后。一点判断。嗯。就这样，嗯，那还可以。

就是高级建行老，我一行就可以写出来。然后我写了10分的时候是拉的。啊，或者是我是还可以用。m克函数卖别人端对max函数也可以，对吧？太麻烦了，我不想进度给大家看一下nPY怎么写啊嗯，surpri？

首先我们把它转化成n PY格式的列个，就是我们接下来要讲的那个ND6V速度用码ND点。I瑞。然后你里边传你那个列表就可以，嗯，你咋的？



![](img/75d9dd856075c6c501a4d96f998cf15e_10.png)

来看A啊嗯没什么区别没什么区别然后显示的是好看了看了。好，来surpri你一下啊，怎么做呢？A是倍表对吧？那它X16。8对吧？A是X嘛。



![](img/75d9dd856075c6c501a4d96f998cf15e_12.png)

![](img/75d9dd856075c6c501a4d96f998cf15e_13.png)

What。这点呢？你看 wow，nice。😊。

![](img/75d9dd856075c6c501a4d96f998cf15e_15.png)

看在。非常高。这就是说为啥英文单独学完之后再走续循环。再看第二个例子啊，我已知购物车中每件商品的价格和商品件数，我要求总定额。



![](img/75d9dd856075c6c501a4d96f998cf15e_17.png)

因我每天他们一价课，就我有一个列表里存有多少件商品，第二个列表存两产品是多少钱OKOK就个写完毕。

![](img/75d9dd856075c6c501a4d96f998cf15e_19.png)

我们用A来填什么的？价格我们10块钱到20块钱的话，还是50点商品好吧，嗯，A这个列表来存某每个商品是多少钱啊，10块钱到20块钱。



![](img/75d9dd856075c6c501a4d96f998cf15e_21.png)

然后再来一个B啊，来一个B是键是整数了。B是从键数。对。比如说是5件到10件。一点的北一件小室都可以啊。好，现在A和B都有了，我要选总钱数怎么样。呃，总先看了两个列表相同嘛。用这。呃。

对你现在就是A乘B是吧？我现在啊我还是把它A等于转转成。B也转过来。

![](img/75d9dd856075c6c501a4d96f998cf15e_23.png)

![](img/75d9dd856075c6c501a4d96f998cf15e_24.png)

A和B那A乘B是个什么结果呢？这太好了，A乘B是把A的每一项和B的每一项相乘。哦，那okK。然后你还可以怎么样呢？A乘以B，你就是说算走钱是吗？嗯点上。



![](img/75d9dd856075c6c501a4d96f998cf15e_26.png)

啊。听牛逼了啊啊，先给大家通过例子直观拜表一下。这其实方便成了很多事情。啊，而且我说这种数组的写法比那边的写法闪功厉害快嗯。



![](img/75d9dd856075c6c501a4d96f998cf15e_28.png)

那具体这是个什么东西？

![](img/75d9dd856075c6c501a4d96f998cf15e_30.png)

接下来说。好，numberPY的核心是提供了1个ND array的对象。那这个对象叫做数入对象。嗯，我叫列表啊，嗯创建陌认，我刚才说了NP点 array啊，参数你传一个列表进去。

或是你传一个 array，就是可以迭代着。每次出来一个数就可以，就是像一个列表式的都可以啊，一般我们都是列表转换过去嗯。那列表跟数组有什么区别嗯。不知道啊。

其实这个数组的叫法来源于C或者C加加这个语言啊，所以这两点其实和他的那个数学也比较像啊，就是说第一个数组对象的一个元素类型必须一样。嗯，我们拍那的列表是不是可以存不同类型的，在一个列面对不对？

可以一个列表里存零号元素存字符串，一号元素存数字对不对？那列啊数组型，数组必须所有元素都是一样的O一样的格式一样的类型。嗯，那第二1个数组大小怎么修改。我的列表可以任意的往后pen断啊。

你随便你个pen断1亿个都没有问题。数据不行，数度你在合率里边，你它好了多大，它就是多大，它不能和他。它可以修改，但它大小不能修改啊，它是几个就是几个，它跟它内存结构有关系。

对跟它内存结构跟它为什么这么高效有关系？好吧，那接下来我们说一下NDV的一些常用的属性。

![](img/75d9dd856075c6c501a4d96f998cf15e_32.png)

首先演示一下NP点Aray，比如说我传一个啊123。

![](img/75d9dd856075c6c501a4d96f998cf15e_34.png)

![](img/75d9dd856075c6c501a4d96f998cf15e_35.png)

50没问题啊，包括我传一个比说瑞智。

![](img/75d9dd856075c6c501a4d96f998cf15e_37.png)

也没问题。嗯哼。

![](img/75d9dd856075c6c501a4d96f998cf15e_39.png)

好。存下来。他。第一个首先我们来讲呢它的类型啊，我说它是这一个类型的话，它的类型是什么？

![](img/75d9dd856075c6c501a4d96f998cf15e_41.png)

低碳这个属性。给他打一什么。inin特64，那这个in特64什么意思？

![](img/75d9dd856075c6c501a4d96f998cf15e_43.png)

64。得得嗯怪自己了。不是64位。嗯，好，这一页我给大家。

![](img/75d9dd856075c6c501a4d96f998cf15e_45.png)

展示了一些ND乐瑞的数据类型。氛围可以分别这么加一想啊，bo型、整型、无号、复点型和复数型。但是复数型可能比较少啊，那我们可以注意到N类的类型几乎全是什么？数字。也很少有字符款嗯啊不是说不能存增转。

而是说我们基本上不存资符转。为什么？因为它是提供一些批量运算的，嗯我们只做数字的运算。所以。绝大多数情况下，我们在这里征读的都是数字。那我们再来说啊，布尔型注意它在所有的类型后面加了一个下划线，嗯。

这是为了和python字己的一做区分。嗯，因为这是这个是关键字啊，bo尔本身之后这个in的都是关键字OK给它区分。那我们说这int8个印的16节32164的时候是什么意思？in特88个你知道吗？

分255嘛。对，这就涉及到这个底层的一些东西了。简单来讲，int890个字节八个字节四个字节8个字节，对8个字节的长就是从这8个字节。的数。对啊，简单来讲，inter8就是占8位的一个整数啊。

in16就就占16的一个整数。我们说早期算金它的类存较小，所以最开始是8位整数嗯，后来16的整数这个呢64位4位的整数64位的整数范围是多少呢？啊。

是140多亿不是140多T64位的整数范围是二的1613次方减1140这整数。

![](img/75d9dd856075c6c501a4d96f998cf15e_47.png)

264次码2是14的。我都错了anyway。any每看2602这个64位整数，它存的为什么是263次方呢？嗯，因为它有一个数来表示正和负啊嗯嗯。对以他表示大于正的这个转速的这个嗯。啊，产一售大。



![](img/75d9dd856075c6c501a4d96f998cf15e_49.png)

这是整数嗯。再说无法出来民作无法认何西。

![](img/75d9dd856075c6c501a4d96f998cf15e_51.png)

无符号等形没有正确没有符号等符号符号无符号等形，我只能表示零到正的数。嗯，所以无符号等形64位可以表示最大的数是2乘2的64次吧嗯。180啊减1。因为还有个0，就较紧了。



![](img/75d9dd856075c6c501a4d96f998cf15e_53.png)

是这么大说的。非常大。好，接下来浮点型也涉及到的是16位的232位6次这种展开。好，我们知道这个。

![](img/75d9dd856075c6c501a4d96f998cf15e_55.png)

第一看到。它后是存储的这个数组当前所有元素的类型。嗯啊答应该是in该64嗯。那还有第二个s程。你猜是什么意思？当前存的这个数额呢，当前存了多少个数，多少个数，对OK多少个元素，1个数嘛，嗯。

这就是10个，就这个其实是能存60呃，就能存那么多数，不是还是一个数能能数能到这么大O。能存多少数取，你现在就有多少内存啊，我知道了，这个相当于就是这个Din64位，因为我操作系统是64位的对。

所以你每个整数最大能存到了是吧？哦，I see。好好，那我们这是演示了什么？这个叫一维数。嗯啊，现实生活中我们可能用到比如说多维数。嗯啊在我们也讲过多维电表嗯。大也可以加最多能理解的就是2位啊。

我们就加2倍。这是一个二维列表。嗯，我们通过ND代维给它转换成了一个二维数组嗯。那二位数度来讲啊，之前讲的那两个是一。一样低态的还是硬的。注意s返回的是6，就是总的元素过程，它并不会返回2乘3。嗯。

那如果我想返回2乘3，我怎么看呢？A点sha。为什么也是。就是规定啊啊啊A点size返回的是有多少个元素？A点式个返回的是它是几乘几的。你看A点式个返回一个啥圆组嗯，一个圆组啊，哎它是二维的一个。

所以是两行三列的一OK一个OK。大家啊最常用的可能就是二维和三维。假如说啊嗯我来一个强行来一个三维的，前面来一个三维的啊，给大家看一下。嗯。这是个三维，让能看出来怎么看出来呢？咱我们看这是180嗯。

这是两个吧嗯。这是30半。怎么理解三维哈，看一维我们可以列成一条线，对不对？嗯，那二维方我们可以理解成一一张纸。对，三维还有一个三维，理解成一个管，嗯，还有好多页，看到没有？看到没有？这是第一页，嗯。

这是第二页。啊，我现在是一个两页的一个三维哦，那你还可以接着加一页啊，对不对？所以你二维的理解就是这个高科宽，三维就是高括宽和一。四维四维人就是具体就解具体不好理解我好找一个具体的例子。

因为我们的空间是三维，但是有四维的东西啊。好，我们来看这个三维列表的A点设。反回来就一个长度是三个圆的OK是不是说什么两两个二倍。两页。两行嗯三点嗯嗯。常见的是2维的。

至道shiftle返回的是这个它的宽活动啊就可以了那。啊，我们再举刚才200年那个例子。好，还有一个场用呢，啊，我们先看一下A啊是两行三例的。嗯啊，在新型代数里，或者说我们等会儿讲到股票的时候。

也会用到有一个叫做那个转制。

![](img/75d9dd856075c6c501a4d96f998cf15e_57.png)

反正是啥意思？看这123456，嗯，我想把它哎竖过来。

![](img/75d9dd856075c6c501a4d96f998cf15e_59.png)

变成142536，嗯，转90度。对，转转时把它竖过来，就是行变成业得变成行，嗯，用点T嗯，直接T对。哈这一张这考。哎呀，我之前还专门写过这样的那个上学的时候，不写这种东西嘛。

当是没有这个像你一个什么三角形什么正方形卧靠废角。这个这么简单。对啊，直接转好再转又转好再。再转再转给他到了。你你还是在这个地方再往再转移A等我这样A等于A点T啊，然后A。

然后再转A再等于A点T在我边等B了A点T再转转。对，那哎，我以为他是相当于下边那个下个，他只会是行变成列列边行，第一列变成第一行。嗯，然后第二列变成第二行。可以 o 稍。那这是转制。

还有一个啊这个查看就是当前维数。这是二倍0，它是尾数是2嘛，嗯，这个用的太多了，NG就是ND对，就是2。



![](img/75d9dd856075c6c501a4d96f998cf15e_61.png)

啊，这是一些常用的属性嗯。好，好过。

![](img/75d9dd856075c6c501a4d96f998cf15e_63.png)