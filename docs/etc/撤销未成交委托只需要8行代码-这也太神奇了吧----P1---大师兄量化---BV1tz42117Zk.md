# 撤销未成交委托只需要8行代码,这也太神奇了吧！ - P1 - 大师兄量化 - BV1tz42117Zk

撤销所有期货的未成交的委托单，我们需要写几行代码呢，我们来看一下12345678，也就八行代码，我们来分析一下这八行代码，首先第一行使用这个get orders得到指定的合约，他的未成交单。

它返回的是一个列表，这个列表呢我们把它放到这个orders这个变量中，然后呢判断这个orders是否为NM，如果不为NM，说明是有未成交的委托单，那么就要做一个循环，在这个循环中呢我们取出每一个委托单。

他的单号放到order id这个变量中，然后呢使用一个concert order，这是一个函数撤单的函数，那么我们就把这个order id传进来，作为它的参数，就可以把这个单撤销掉。

如果撤销这一个代码记录过，那么这里i write就等于一，就返回这一个一，如果没有测过单，也就没有进入到这个循环了，那么它就是零，所以这个函数最终返回的结果是把所有单撤掉，如果有测过单了。

那么它的返回结果就是一，如果没有错过单呢，它的返回结果就是零。