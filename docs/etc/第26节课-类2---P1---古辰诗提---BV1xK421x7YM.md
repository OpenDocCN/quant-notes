# 第26节课 类2 - P1 - 古辰诗提 - BV1xK421x7YM

欢迎大家来到从零开始量化系列课程，Python基础课的第26课，同样的咱们先创建一个PY文件。

![](img/ce6df8820230e84c9675a0aa94d517b1_1.png)

上一节课咱们讲了类的第一节课。

![](img/ce6df8820230e84c9675a0aa94d517b1_3.png)

我把这个整个的这个线圈粘过来好吧，我把这个线全删掉，就是把这个案例给粘过来讲了，就是说这个类的实例方法，类方法以及实例属性，还有这个类属性呃，类方法没有讲呢是吧，另外咱们还讲了这个刚刚INIT。

就是说他第一个作用是传参传参，其实杠杠INIT呢它被称作为叫构造函数，构造函数这个说法是从这个C加加里边来的，就是你可以理解为什么呢，因为本身INIT就表示初始化的意思。

你可以理解为就是如果说这是一个手机的话，你生就是你的这个定义类就是一个手机的图纸，里边有详细的功能介绍，以及就是说产品的标准，然后我实例化之后呢，他就是生产出来了一个手机。

然后我这个杠杠INIT就是你可以理解为，就是说我把这个手机买了，然后进行了一个初始化，把我的这个需要下载的app和我需要传入的，比如电话号码都存到这个里边去了，比如说咱们用苹果的时候。

它会有一个导入是吧，把所有的就是说你原本手机的内容，全部导入到这个手机里边之后，它才能进行正常的一个其他的操作，这个就被称作为构造函数，就专业点说的叫构造函数，当然你理解它的意思。

就是当这个类被实例化之后，它会自动来执行这个杠杠INIT，同时呢你如果说实例化的时候，想往里边传参，传参的这个参数其实是放到杠杠INIT里面来的，然后之后也讲了self self。

其实就是代表的是实力本身啊，实力本身cf点age或者name后面跟的这个属性，它都是实例属性啊，都是实例属性，所以一定要清楚，一定要理解这个类类，定义类它其实是一个抽象的，我实例化之后。

它才是一个实实在在的类啊，实实在在的累，它才会在内存里面存放这个类，好吧嗯，好咱们接着往下讲，之前类属性就是讲完了实例方法也讲完了，实例属性讲完了，咱们该讲类方法，类方法，类方法呢定义的时候。

其实定义这个方法其实就是定义函数，比如说我这个类我再定义一个呃，叫什么walk走路是吧，你里边传入的它既然是类方法了，你传入的就是不能是cf了，你应该传cl，其实它就是class的一个简写啊。



![](img/ce6df8820230e84c9675a0aa94d517b1_5.png)

class的一个简写，然后你冒号，然后这个里边比如print ego正在走路。

![](img/ce6df8820230e84c9675a0aa94d517b1_7.png)

![](img/ce6df8820230e84c9675a0aa94d517b1_8.png)

正在走路，但是你在前面需要加上一个，咱们之前讲过的装饰器，然后是class method，method就是方法的意思嘛，然后就是class method，就是类方法啊。

这个时候呢你就可以直接不用实例化它。

![](img/ce6df8820230e84c9675a0aa94d517b1_10.png)

你就直接可以去调用这个method，就是这个work是吧，W括号看一下是吧，正在走路，这个是类方法，类方法，前面必须得加入一个class method，你说它有什么用处吗，其实最多的是用于什么呀。

就是用于对类属性的，改变就是增删改查吧，就是操作吧类属性的操作，因为你实力你对这个你实例实例化之后，你用实例对类属性就说不建议那么操作嘛。



![](img/ce6df8820230e84c9675a0aa94d517b1_12.png)

所以说你可以用这个就是类方法，来对它进行操作，但是用的不是特别多，实例方法就是什么也不加，就直接定义，但是他后面括号里面是C类方法呢，就是说是定义完之后呢，呃你后边是CLS是代表class c2F。

咱们之前说是代表的实力本身吗，CLS就是其实是代表了这个类，然后这个上面你得加个at，就是一个装饰器，咱们之前讲过class method，这是，就是类方法，还有实例方法，还有一个方法叫静态方法。

这个是类方法，还有一个呢叫静态方法，比如DF啊，再就是再来一个，谢u p jump jump，静态方法呢是里边不用传参，不用传参。



![](img/ce6df8820230e84c9675a0aa94d517b1_14.png)

print正在诶。

![](img/ce6df8820230e84c9675a0aa94d517b1_16.png)

正在跳。

![](img/ce6df8820230e84c9675a0aa94d517b1_18.png)

jump这个里边呢不用传参。

![](img/ce6df8820230e84c9675a0aa94d517b1_20.png)

但是你还得加一个装饰器，就是static。

![](img/ce6df8820230e84c9675a0aa94d517b1_22.png)

就是会static，就表示静止的意思，然后method就是方法的意思，它是静态方法，静态方法呃，你这个一样是可以jump调用的，因为它里边不用传参嘛是吧，正在跳，你说它有什么作用。

这个静态方法跟咱们通常的方法，比如说我定义一个方法就叫jump，我定义一个外部定义一个函数就叫jump，你说跟他有什么区别吗，没有什么区别，这个静态方法既可以在类里边被类本身调用。

也可以被这个就是说实例调用，实例调用都可以。

![](img/ce6df8820230e84c9675a0aa94d517b1_24.png)

他其实跟在外边给它放在外边没有任何的区别。

![](img/ce6df8820230e84c9675a0aa94d517b1_26.png)

没有任何的区别，但是为什么说要给它放在里边儿，它的作用呢其实是什么呢，就是标识这个方法可以被我这个类所用，当然放在外边也可以对吧，它会改变一个什么呢，就是尴尬的状态，比如说咱们在之前讲方法的时候。

有一个东西没讲，就是j u m p jump。

![](img/ce6df8820230e84c9675a0aa94d517b1_28.png)

比如print一个，这个是正在跳是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_30.png)

这这写着就是小小红正在跳。

![](img/ce6df8820230e84c9675a0aa94d517b1_32.png)

就是当如果说有两个同名的这个函数，有两个同名的函数，我这个时候我我去调用这个函数的时候，咱们看一下啊，它会呢就是默认是用后边的，它会把它给遮蔽掉，就是这个是一个被遮蔽的函数，被遮蔽的函数。

就类似于咱们就是说在这个。

![](img/ce6df8820230e84c9675a0aa94d517b1_34.png)

就是如果说在类里边，我有这个类属性，我再给它创建一个cf点leg number，我就会把类属性给遮蔽掉，被给遮蔽掉，就是他后边就会把前面的给遮蔽掉，所以说如果说我有一个方法，就是就是jump。

就是里边输出的，比如说我就写好了，就说是被我这个类用的是人类在跳是吧，然后我再写一个类，比如说显示是这个猫科类，猫科类它也会跳，也会有个降盘，就是说比如说这个猫科动物在跳。

那你这个如果说在同一个文件里面，你都会就是后面这个会被前面这个给覆盖掉，当然你也可以改名字是吧，但是你说这个都喜欢，就是很直接很直白的这么去写，我就想写成jump是吧，因为他们是一个方式。

因为在调用的时候，我不能说我在就是说猫科的时候，我再写一个cat，然后cat jump，然后人类的时候person person jump，我就用jump来表示是吧。

所以说这就会产生一种比较尴尬的一种情况，但是呢如果说我把这个写在这个里边诶，这个就很清楚，就是说能被这个内部调用，这个person里边进行这个内部调用是吧，这个就很清楚了。

所以说他跟放在外边没有什么任何区别啊，但是就是说你放在里边能够解决一些问题，另外又给大家添了一个就是函数，在两个一样的函数名，就是说他会前面的会被后边给遮蔽掉啊，所以说这个是三个方法。

静态方法和这个类方法是基本上不怎么用的，静态方法可能偶尔还会用一用，但是类方法很少去用。

![](img/ce6df8820230e84c9675a0aa94d517b1_36.png)

然后就是最主要的就是实例方法，实例方法一定要记住，后边放的是self，最少得有一个self这个参数啊，类其实就是说你如果能掌握这些，尤其是这个构造函数这一块，就是说你如果能听明白了，听懂了。

他就其实你大部分用的也就满足了。

![](img/ce6df8820230e84c9675a0aa94d517b1_38.png)

也就满足了，就是比如说咱们举个例子，因为写这个呃类的时候，定义类的时候。

![](img/ce6df8820230e84c9675a0aa94d517b1_40.png)

就是咱们例子举的比较少，比如说咱们结合之前的。

![](img/ce6df8820230e84c9675a0aa94d517b1_42.png)

或者结合咱们做量化，做量化，本质上还是从交易所传递过来的数据是吧，比如他是现在是一秒两个T，一秒两个tick，一秒两个tick，他给你传过来，然后你能接收到数据，然后对数据进行分析。

一般数据给你传过来的是一个字典，然后里边会给你标示什么simple啊什么的，或者说他给你传过来的是，或者你接收到的，你把这个字典转变为一个你自己设定的，就是一个类，然后里面存放了一部分东西。

这个咱们后面会讲啊，怎么样就用类，就是说去传递数据呃，比如说咱们就演示一下，一秒传过来两个T，然后这两个tick就是你需要去进行分析，然后对这两个tick呢，比如说我满足什么条件是吧，价格大于多少。

然后我就要去做买入，然后我说我就要去做平仓是吧，我就要去做开空的动作什么的，这个时候咱们就可以class一个定义一个什么呢，就是定义一个呃，比如说数据处理是吧，data呃计算吧。

CALC的定义这么一个类啊，就是定义这么一个类呃，然后里边我先初始化一个杠杠INIT，就是cf也得传self这个参数啊，我里边存放什么呢，我存放，比如说我传我传入一个numbers numbers。

我是int类型的，就是类里面的函数都可以，就是说就是它的这个试用方法，跟这个咱们之前学的函数，都可以往里面去试用啊，去试用，只不过他在调用的时候类可以，就像这种方法类可以进行内部的调用。

一会儿咱们给大家演示一下。

![](img/ce6df8820230e84c9675a0aa94d517b1_44.png)

这个时候我定一个self点numbers等于numbers是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_46.png)

好我再定一个，比如说我获取tick，因为咱们是演示嘛，就是你真正的自己就是产生不了TIK，所以说我这个时候就得获取tick啊，我获取这个tick我怎么去获取呢。

比如说我还是import一个from random，import random and int啊，我获取呢我就用随机来获取，随机来获取，然后我需要一个变量，我要接收这个获取的值，接收这个获取的值。



![](img/ce6df8820230e84c9675a0aa94d517b1_48.png)

我随机获取呢，我就比如说这个还是用来表示，我这个时候如果用numbers等于RINT这个。

![](img/ce6df8820230e84c9675a0aa94d517b1_50.png)

然后比如我从呃就是0~100吧，唉0~100我随机获取一个，这你记住这个numbers它是局部函数，是指在get tick里边生效的，如果说前面加了一个self点numbers，其实就是实例化之后。

就是说比如说我实例化一个D，就是说我从这我实例化一个DD。

![](img/ce6df8820230e84c9675a0aa94d517b1_52.png)

一等于这个data calculate。

![](img/ce6df8820230e84c9675a0aa94d517b1_54.png)

当然我还得传参啊，我先随便传一个100，我第一点numbers，它就意味着它是在这个类里边，它是一个它的作用域是这个类是这个类里边啊，但这个numbers只是在这个它的这个里边。

这个实例方法里边产生作用的，产生作用的，因为我不是我不需要获取多个，我只去我只是需要获取一个就可以了，然后我把随机的这个数我给翻出去，Return number，对吧好我那我这个树有了。

我就用这个数来掩饰咱们的这个tick是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_56.png)

这个数到时候咱们再看看这个满足条件。

![](img/ce6df8820230e84c9675a0aa94d517b1_58.png)

然后这个时候呢我再给他做一个什么呢，就是我就是判定我判定这个数的，这个就是模拟计算吧，开QCALC是吧，Self，然后呢我把这个number我得传进来，这个里边的实例方法也可以接收参数的啊。

比如说我是一个int类型，因为我要接受的是他吗，当然现在还没有传啊，这个只是一个形参，这个我怎么判定呢，就比如说我判定一下，我用if循环，用if判断语句来判定if number，If number。

比如说初一二它能够满足的话，就是如果说他能够变，就是被二整整除的话。

![](img/ce6df8820230e84c9675a0aa94d517b1_60.png)

我这个时候就print一个，就是可以开。

![](img/ce6df8820230e84c9675a0aa94d517b1_62.png)

呃。

![](img/ce6df8820230e84c9675a0aa94d517b1_64.png)

怎么说呢，就是满足第一个条件吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_66.png)

满足第一个条件啊，然后满足第一个条件之后，就比如说这个第一个条件，咱们模拟的是就是满足了一个均线交叉是吧，均线交叉满足第一个条件，然后诶我再从里边去进行一个判断啊，就是嵌套了一副number。

我再整出一个，三我等于我能被三整除。

![](img/ce6df8820230e84c9675a0aa94d517b1_68.png)

既能被二整除，又能被三整除，那就说明就是说啊满足第二个条件。

![](img/ce6df8820230e84c9675a0aa94d517b1_70.png)

![](img/ce6df8820230e84c9675a0aa94d517b1_71.png)

第二个条件可以开仓了，可以开仓了，可以开仓了是吧，这个是开空仓还是开多仓呢，好我不在这里边去执行它，我再用一个函数，比如说开仓开仓，咱们就是用什么来写呢，就是嗯开仓用open吧。

建仓open就open吧，就是演示一下self，然后把这个数字再传过来对吧，然后呢还需要比如说在传入一个什么呀，就是说这个这个是代表着这个tick嘛是吧。



![](img/ce6df8820230e84c9675a0aa94d517b1_73.png)

就当是代表提个数据，然后我还需要在呃传过来这个开仓手术。

![](img/ce6df8820230e84c9675a0aa94d517b1_75.png)

比如用size s i n s i z e啊，size它也是一个int类型的。

![](img/ce6df8820230e84c9675a0aa94d517b1_77.png)

就是演示啊，举举例子，比如说我要开仓了，怎么开仓呢，就是呃如果if就是这个number大于。

![](img/ce6df8820230e84c9675a0aa94d517b1_79.png)

比如说咱们就用50吧，我就开多仓是吧，print一个开多仓。

![](img/ce6df8820230e84c9675a0aa94d517b1_81.png)

开多仓好吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_83.png)

然后air if air if就是他如果就是ELS吧，因为他是到是0~100嘛。

![](img/ce6df8820230e84c9675a0aa94d517b1_85.png)

就是ELS我就print一个开空仓是吧，开空仓。

![](img/ce6df8820230e84c9675a0aa94d517b1_87.png)

然后呢，我从这儿我再用一个变量，我计入记录一下什么呢。

![](img/ce6df8820230e84c9675a0aa94d517b1_89.png)

就是全局的变量啊，就是整个就是在这个类里边都可以用了。

![](img/ce6df8820230e84c9675a0aa94d517b1_91.png)

这个全局变量我记录一个什么呢，比如说我现在的就是呃就是手术啊，手术就是position，Self position，我先等于零是吧，它没有持仓，如果说开多仓，我是不是需要self deposition。

然后应该是加等于这个size是吧，如果说是开空仓，print一个啊，不是print了啊，就是self deposition减等于size。



![](img/ce6df8820230e84c9675a0aa94d517b1_93.png)

然后我再输出一下是吧，print就是现在的现在持仓喂。

![](img/ce6df8820230e84c9675a0aa94d517b1_95.png)

然后把这个现在持仓位，然后这边来个这个吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_97.png)

手是吧，多多少手，然后前面加个F，然后里面放上这个self deposition啊。

![](img/ce6df8820230e84c9675a0aa94d517b1_99.png)

放在里边，然后这个这个也可以复制一下。

![](img/ce6df8820230e84c9675a0aa94d517b1_101.png)

放在这儿，但是呢因为两个有重复代码了，所以说我就整体的给它放到最后是吧，给它放到最后他都会啊，print一下啊，就是这个是开仓是吧，如果说它满足一个什么条件。



![](img/ce6df8820230e84c9675a0aa94d517b1_103.png)

比如说if就是air air。

![](img/ce6df8820230e84c9675a0aa94d517b1_105.png)

if不能是AF了啊，说if number，比如说它出现了小于嗯，它出现了平仓的话，二和三，比如说它能被什么来整除呢，比如说能被五整除一，因为这个不是说相互呃能被五整除等于零，然后他不能被三整除。

因为你得满足，就是说不能开，就是说不能满足开仓条件呀，啊不能满足，就是两个都开仓了是吧，这样的话你就重复了，我得给他做到相斥是吧，A l e f，被五整除，这样吧，我就比如说我怎么给他，就是给他相斥。

能被二整除，能被三整除，其实就是能被六整除，能被六整除，我得计算一个平仓的条件是吧，如果说一副满足第一个条件，满足第二可以开仓了啊，就是说他在我再给它叠一个就是循环，if c就是position。

如果说有持仓的话，它就应该是平仓是吧，这个我先给他pass掉。

![](img/ce6df8820230e84c9675a0aa94d517b1_107.png)

应该是平仓啊，然后没有else，如果说他没有持仓的话。

![](img/ce6df8820230e84c9675a0aa94d517b1_109.png)

应该是开仓开仓，就简单的这么模拟一下啊，最主要的是让大家看一看，就是说这个在类里边是如何去实现这些功能的，我平仓的话我就简单的用个嗯，先print一下吧，就是呃满足平仓条件。



![](img/ce6df8820230e84c9675a0aa94d517b1_111.png)

满足平仓条件是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_113.png)

然后平仓的话我就用这个df close，Cl o s e clothes，然后cf先传进去，然后，呃标number了，就是直接平仓，我就直接把它归为零了啊。

平仓就是cf点这个position就直接等于零，我就直接给它复制成零了，就是平仓嘛，就都给平掉了，默认就给就都给平掉了，好我同时我在这，我在给他。



![](img/ce6df8820230e84c9675a0aa94d517b1_115.png)

就是定义一个什么呢，定义一个开始DF开始start s t a RT start c好。

![](img/ce6df8820230e84c9675a0aa94d517b1_117.png)

然后我做一个循环for。

![](img/ce6df8820230e84c9675a0aa94d517b1_119.png)

For i in range。

![](img/ce6df8820230e84c9675a0aa94d517b1_121.png)

就是用到咱们这个numbers numbers。

![](img/ce6df8820230e84c9675a0aa94d517b1_123.png)

然后我这个时候我在就是直接调用这个git tick，然后就是self gate tick，这个是在这个是在写一下啊，这个是在类中调用示例函数，就是我要运行这个函数。

我就是需要self点get tick啊，Self get tick，因为它是实例函数嘛，你必须得加上self嘛是吧，好cf点就是运行，比如说我给它添一个默认是1万次，1万次啊。

我引入一个from time import sleep好。

![](img/ce6df8820230e84c9675a0aa94d517b1_125.png)

我每调用完毕之后呢，我最后我给他sleep一下，因为五秒钟嘛，SL1不是就是500ms嘛，其实就是0。5秒，就是一秒两个tick嘛，我这个我get tick之后，我获取到了这个number。

因为它是它是有返回值的对吧，我把number就是这个用一个局部变量给它接收一下，然后把这个number我传给谁呢，然后我就C点calculate。



![](img/ce6df8820230e84c9675a0aa94d517b1_127.png)

然后我传到这里边来计算，我看他是不是满足条件是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_129.png)

如果满足条件了是吧，均线交叉呃，然后满足第二个条件就可以开仓，如果说不满足条件else，就是我就直接print一个呃。



![](img/ce6df8820230e84c9675a0aa94d517b1_131.png)

这个数字或者叫tick。

![](img/ce6df8820230e84c9675a0aa94d517b1_133.png)

把这个放在里边，把这放在里边，就是这是他的这个参数不满足。

![](img/ce6df8820230e84c9675a0aa94d517b1_135.png)

不满足条件。

![](img/ce6df8820230e84c9675a0aa94d517b1_137.png)

等待下一个check是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_139.png)

然后我前面加上一个F，好我满足条件，我满足平仓条件，我应该调用什么，调用self close。

![](img/ce6df8820230e84c9675a0aa94d517b1_141.png)

因为我这个平仓这一块已经实现了是吧，self close啊。

![](img/ce6df8820230e84c9675a0aa94d517b1_143.png)

然后我什么参数也不用传，如果我满足，就是说开仓条件，然后满足第二个条件可以平仓，我就把这个写成一样啊，可以平仓了，然后我下面这个满足第二个条件可以开仓了。



![](img/ce6df8820230e84c9675a0aa94d517b1_145.png)

是不是直接调用C点open是吧，直接调用CP点open，然后把这个把这个number传进去，把number传进去。



![](img/ce6df8820230e84c9675a0aa94d517b1_147.png)

因为这个number你得判断是开多仓，还得开空仓，后边还有个size，Size，就是我需要的开仓的手术，是不是开仓的手术，开仓的手术呢，我从这儿呢嗯，我就先写个一，我先写个一吧。

或者说是我从前面设设定一下啊，就比如说self size，self size等于shift size等于，一其实我想从这儿给大家引入一个什么啊，就是我DF比如说get size，就是获取手术。

或者说我直接DF一个size，我从这然后self传进去之后，然后我这我就是return一个return一个就是这个RINT，然后从这个1~4吧啊，从从1~11到十里边，我随机我抽一个这个手术。

当然就是正常，咱们在开仓的时候肯定是需要去计算的嘛，是不是，但是我这就省略了计算过程，然后我就直接就是抽取一个，就是说随机的一个。



![](img/ce6df8820230e84c9675a0aa94d517b1_149.png)

然后我用一个什么呢，Property。

![](img/ce6df8820230e84c9675a0aa94d517b1_151.png)

然后给他就是直接这么就是装饰器装饰一下，然后我这就把self size给删掉。

![](img/ce6df8820230e84c9675a0aa94d517b1_153.png)

我直接从这。

![](img/ce6df8820230e84c9675a0aa94d517b1_155.png)

从这个传入的时候，我先传入一个cf点size。

![](img/ce6df8820230e84c9675a0aa94d517b1_157.png)

看好了啊，Property，我用它装饰完了之后，它就不是黄色的了，它就不是黄色的了，然后它就可以跟属性一样，就是咱们的这个变量一样，就是类变量一样被进行调用，他一定要满足什么条件呢。

就是说return他得有个返回值，然后参数只有一个self才能这样被调用，才能这样被调用啊，直接用self size就调用了，就跟类这个类属性就是跟这个类变量似的是吧，这个它会有个什么好处。

我直接可以当成一个变量来来用，但是呢你说我这个平时咱们就是说开仓的时候，是个手术，肯定是得经过计算的，或者说你是一个固定手术，当然就是说你可以根据你的呃资金量，然后除以你的这个品种。

或者你某一种计算方法，我会有一个手术是吧，这个时候你就需要进行一个计算，但是呢我这个手术呢又想作为一个调用的时候，我又不想用这个括号来调用，然后再有返回值什么的，你就可以用这种方式啊。

这是用at property就是进行这个装饰的，它的这么一个方法是想给大家引入这个的啊，引入这个好，咱们刚才接着咱们的逻辑来走，满足第二个条件，可以开仓了是吧。



![](img/ce6df8820230e84c9675a0aa94d517b1_159.png)

平仓开仓平仓是吧，这个数据的获取，然后来进行判断。

![](img/ce6df8820230e84c9675a0aa94d517b1_161.png)

是不是就是说这个逻辑就完成了，这边是进行了一个循环获取这个tick是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_163.png)

获取tick，啊然后咱们把这个tick也给他加上吧，好吧，就是每次咱们都看一下这个number。

![](img/ce6df8820230e84c9675a0aa94d517b1_165.png)

![](img/ce6df8820230e84c9675a0aa94d517b1_166.png)

咱们就开始实例化它，实例化它，首先第一等于我就不休息0。5秒了啊。

![](img/ce6df8820230e84c9675a0aa94d517b1_168.png)

我就sleep一个0。2秒，这样快一点好吧，快一点一秒。

![](img/ce6df8820230e84c9675a0aa94d517b1_170.png)

五个数0。1吧，0。1，这样更快一些，就是咱们就默认了他这个用默认值。

![](img/ce6df8820230e84c9675a0aa94d517b1_172.png)

![](img/ce6df8820230e84c9675a0aa94d517b1_173.png)

就是用默认参数1万次，1万次得1000秒，1000秒还是多了一点。

![](img/ce6df8820230e84c9675a0aa94d517b1_175.png)

0。010。011百秒好吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_177.png)

咱们实例化一个DAT，然后括号里边是吧，它有默认值，我就可以不传参数了啊，不传参数，然后记住一定要第一第二你调一个start t RT。



![](img/ce6df8820230e84c9675a0aa94d517b1_179.png)

![](img/ce6df8820230e84c9675a0aa94d517b1_180.png)

调用一个start，咱们先运行一下，看看有什么问题好。

![](img/ce6df8820230e84c9675a0aa94d517b1_182.png)

有点多了啊，我先把它给停掉，我先把它给停掉，我还是写个0。5秒吧，这样咱们能看的清楚一点好吧，看得清楚一点，应该是没有什么问题啊。



![](img/ce6df8820230e84c9675a0aa94d517b1_184.png)

是吧，现在持仓为十首啊，60满足第二个条件可以平仓了。

![](img/ce6df8820230e84c9675a0aa94d517b1_186.png)

满足第一个条件对吧，这个不就形成了一个闭环了吗。

![](img/ce6df8820230e84c9675a0aa94d517b1_188.png)

闭环了吗，其实你说虽然我写的这个。

![](img/ce6df8820230e84c9675a0aa94d517b1_190.png)

我就不让他执行完了啊，虽然我写的这个例子相对比较简单。

![](img/ce6df8820230e84c9675a0aa94d517b1_192.png)

但是实际上啊咱们在做这个量化的时候。

![](img/ce6df8820230e84c9675a0aa94d517b1_194.png)

实际上就是这么个流程，首先你得有tick，当然就是tick获取是一个一大块。

![](img/ce6df8820230e84c9675a0aa94d517b1_196.png)

咱们以后需要慢慢去学的tick获取，然后获取过来之后不就把这个数据进行处理吗，是不是，然后该把的这个该把就是说咱们比如说用均线，然后均线怎么计算出来是吧，然后就说你的一些指标怎么计算出来，计算出来之后。

然后再把这个就是满足开仓了，我就会选择开仓，然后开仓我是怎么去做，他怎么就是说就是发给服务器。

![](img/ce6df8820230e84c9675a0aa94d517b1_198.png)

其实逻辑就是这么个逻辑，没有那么复杂，没有那么复杂啊。

![](img/ce6df8820230e84c9675a0aa94d517b1_200.png)

好吧，这个就是一个简单的啊。

![](img/ce6df8820230e84c9675a0aa94d517b1_202.png)

就是很简单很简单的一个模拟，但是通过这个你看就是其实是被，就是说整个的被封装好了，就是我只需要第一调用就可以了是吧，但是在真正的写的过程中。



![](img/ce6df8820230e84c9675a0aa94d517b1_204.png)

你每一个点比如说即可获取，我必须得封装成一个类是吧，或者说是封装成多个类，然后我再整体的我在封封装成一个大类。



![](img/ce6df8820230e84c9675a0aa94d517b1_206.png)

是数据处理，我需要封装类，当然你得拆分拆分成很多很多的类。

![](img/ce6df8820230e84c9675a0aa94d517b1_208.png)

就是来相互的调用啊，这个呢就是一个简单的演示。

![](img/ce6df8820230e84c9675a0aa94d517b1_210.png)

当然了你也可以刚刚1NT，当我实例化的时候，它会自动的会调用杠杠INIT。

![](img/ce6df8820230e84c9675a0aa94d517b1_212.png)

我完全可以就直接比如self点start就放这是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_214.png)

然后我传入的这个参数，我也就呃就是说就是它是从这就直接传入了。

![](img/ce6df8820230e84c9675a0aa94d517b1_216.png)

你不传入就是默认的是1万。

![](img/ce6df8820230e84c9675a0aa94d517b1_218.png)

如果说我给他传入100啊，100我这个时候再运行一下是吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_220.png)

他就为自己就是说来运行，我都不用写这个start啊，都不用写start好吧。

![](img/ce6df8820230e84c9675a0aa94d517b1_222.png)

这就是一个案例，希望大家自己去写一下，去编写一下。

![](img/ce6df8820230e84c9675a0aa94d517b1_224.png)

就是你只有你只有自己来编写了，你才能把这些东西都给结合起来，self是吧，以及在类里面调用自己的实例方法啊。



![](img/ce6df8820230e84c9675a0aa94d517b1_226.png)

去改变里边的实力这个属性啊。

![](img/ce6df8820230e84c9675a0aa94d517b1_228.png)

或者是实例变量啊好吧，然后又用到了一个property是吧，这个property其实就是很简单的，就是把这个一个本身一个函数，然后作为一个变量来使用，但是它得满足条件，不能传参，只能传一个self。



![](img/ce6df8820230e84c9675a0aa94d517b1_230.png)