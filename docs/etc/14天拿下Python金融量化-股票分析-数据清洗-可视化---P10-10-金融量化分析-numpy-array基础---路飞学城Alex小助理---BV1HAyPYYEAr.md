# 14天拿下Python金融量化，股票分析、数据清洗，可视化 - P10：10 金融量化分析-numpy-array基础 - 路飞学城Alex小助理 - BV1HAyPYYEAr

接下来给大家讲解一下，我们的这个要介绍的三大工具包之一，第一个number er py，好number py是一个啥呢，是一个高性能啊，科学计算和数据分析的基础包。

它是我们后面讲的pandas as那个包的基础，也就是pandas as是在neo pi的基础上构建的啊，它的主要功能最主要的其实是第一点，第一点啊就是提供了一个叫多维数据结构，高效补点节省工具。

嗯我现在该说你们都感觉不到，一会给大家举一个例子，能感觉到了好吧，使用了当时PY之后，你在整个去做一批数据，就是批量数据进行运算的时候，可以不用循环嗯啊那除此之外，他还给你提供了一些就是线性代数。

也就是正常傅立叶变换等等的功能啊，安装方法我已经在机器上安装完了啊，就使用pip进行安装就可以嗯。

![](img/e3246196441864d77ee43e94f3216c35_1.png)

引用方法啊，这是，好官方给定的引用是import number number py啊，大家听都这么写啊，一般都会这么写，as np嗯啊这是这几个包，包括我们后面讲pandas as引用方式也类似啊。

都是一个缩写，所以说以后大家见到一些代码，可能不不会给底下就给你个NP点NP模。

![](img/e3246196441864d77ee43e94f3216c35_3.png)

说是number py，这方法对好。

![](img/e3246196441864d77ee43e94f3216c35_5.png)

那我们说啊为什么要那样平板啊，先给大家举个例子，嗯啊假如说啊你已知若干家跨国公司的市值。

![](img/e3246196441864d77ee43e94f3216c35_7.png)

将近花价为人民币嗯啊就是你有好多公司啊。

![](img/e3246196441864d77ee43e94f3216c35_9.png)

这公司值多少钱，你把它存在一个表里，把它放在这里啊，先写一下嗯，我就随机一下啦，你要解释什么意思，我写完了，比如说嗯大家看这句话啊，我用了random模块的uniform函数，大家知道吗。

不知道uniform函数是随机生成，不列一个浮点数嗯，就是100~200范围，这边负电荷的浮点数嗯，然后总体这是一个什么列表方程式啊，唉生成了行了50个数，50个字就是我模拟相当于50家公司啊。

它的市值是100万到二百万万为单位，来打印一下A，可以看看这个怎么看好这50家公司市值，我才发展，我知道啊，这是美元嗯，美元单位，我知道一美元等于比如说6。8，6。8人民币吧，假如说好。

我们把所有的美元换人民币嗯，那你就直接用很多方法都可以买它来说，不写错嗯啊刚才那是A吧，再再搞一个列表，是是在列表里自己就给他换成了，还是说在都写新列表都可以啊，这表啊LAN回来啊，我们首先可以写号啊。

一个月来吧，括号N等个A，是不是这样就可以了，不是应该是AX等于一个，不是这是，这要改对啊，你得你得负值，我以为新玩法搞得我都不敢质疑，那不好意思，导演啊，这是这不应该嗯说的对，嗯啊你们来新建一个B吧。

嗯啊写错用完，然后1。2判断是不可以的，嘶就这样嗯，那还可以就是高级写行，我一行就可以写出来，我写的625是拉的嗯，啊或者是我是不是还可以用max函数对，max是函数是不是也可以对，太麻烦了，我不想进。

你读，给大家看一下number py怎么写啊，啊，surprising是首先我们把它转化成number py格式的，这个就是我们接下来讲的那个ND6维数组，用法N1个点来瑞。

然后你里边传你那个列表就可以嗯，你咋算的啊。

![](img/e3246196441864d77ee43e94f3216c35_11.png)

可以传一下，我们来看A啊，嗯没什么区别，没什么区别，办了办，好好显示的是好看了吧，好我们来surprise，你一下啊。



![](img/e3246196441864d77ee43e94f3216c35_13.png)

怎么做呢，A是列表对吧，那么X是6。8对吧，A乘X这么长。

![](img/e3246196441864d77ee43e94f3216c35_15.png)

p x what这么简单，你看哇哦nice。

![](img/e3246196441864d77ee43e94f3216c35_17.png)

真的非常棒。

![](img/e3246196441864d77ee43e94f3216c35_19.png)

这就是说为啥用了，咱们学完之后再走血循环，你再看第二个例子啊，我已知购物车中每件商品的价格和商品件数，我要求总定额，因为他每天商品价款就是我有一个列表。



![](img/e3246196441864d77ee43e94f3216c35_21.png)

你存有多少件商品啊，第二个列表存2000美是多少钱，我们可以举个简单例子，啊我们用A来存什么呢，价格都十块钱到20块钱的话，还是50件商品好吧。



![](img/e3246196441864d77ee43e94f3216c35_23.png)

A这个列表来存某每个商品是多少钱啊，十块钱到20块钱，然后再来个B啊，来一个B是建设整数了，B是成建数对，比如说是五件到十件一件的，给一件到十都可以啊，可，好现在A和B都有了，我要算总钱数怎么变呃。

总结看那两个列表相乘的，用指针在转什么A表嗯，对你现在是A乘B是吧，我现在啊我还是把它A等于转能转成，啊B也转过来。



![](img/e3246196441864d77ee43e94f3216c35_25.png)

好A和B那A乘B是个什么结果呢。

![](img/e3246196441864d77ee43e94f3216c35_27.png)

就算是吧，A乘B是把A的每一项和B的每一项相乘哦，那还行，然后你还可以怎么样呢，A乘以B，你不是说算走前是吗。



![](img/e3246196441864d77ee43e94f3216c35_29.png)

嗯假设哦，挺牛逼的啊，先给大家通过例子直观感受一下，确实是方便省了很多事情啊，而且我说这种数组的写法。



![](img/e3246196441864d77ee43e94f3216c35_31.png)

比那边的解法省功率还快，嗯啊那具体这是个什么东西，唉咱们接下来说好。

![](img/e3246196441864d77ee43e94f3216c35_33.png)

NPY的核心是提供了一个NDR瑞的对象，那这个对象叫做数组对象，嗯不叫列表啊，嗯创建过程我们刚才说了，NP点array啊，参数你传一个列表进去，或者你传一个array，就是可以迭代。

每次出来一个数就可以，就是像一个列表式的都可以啊，一般我们都是列表转换过去嗯，那列表啊跟数组有什么区别，嗯不知道啊，其实这个数组的叫法来源于C或C加加啊，嗯所以这两点其实和他的那个数学也比较像啊。

在这说第一个数组对象的元素类型必须一样，我们Python的列表是不是可以存不同类型的，在一个列表呀，对不对，可以一个列表里存零，0号元素存字符串，一号元素存数字，对不对，那列表啊，数组不行。

数组必须所有元素都是一样的，一样的格式，按一样的类型，那第二一个数组大小怎么修改，我的列表可以任意的往后append啊，你随便一个喷的11个都没有问题，数组不行，数组你在arr里边开好了。

多大它就是多大，它不能乱喷嗯，它可以修改，但是它大小不能更改啊，它是几个，就是几个，它跟它内存结构有关系，对它内存结构和它为什么这么高效有关系好。



![](img/e3246196441864d77ee43e94f3216c35_35.png)

那接下来我们说一下NBA的一些常用的属性啊，首先演示一下NB点array。

![](img/e3246196441864d77ee43e94f3216c35_37.png)

比如说我传一个啊，12345。

![](img/e3246196441864d77ee43e94f3216c35_39.png)

这没问题啊，包括我传一个，比如润这。

![](img/e3246196441864d77ee43e94f3216c35_41.png)

也没问题。

![](img/e3246196441864d77ee43e94f3216c35_43.png)

好把它存起来好，他第一个，首先我们来讲讲它的类型啊。

![](img/e3246196441864d77ee43e94f3216c35_45.png)

我说他是第一个类型的话，它的类型是什么，d tape这个属性嗯，可以看看打印什么int int64，那这个int64是什么意思呢。



![](img/e3246196441864d77ee43e94f3216c35_47.png)

64得得嗯半个字节嗯，不是64位嗯，好这一页我给大家。

![](img/e3246196441864d77ee43e94f3216c35_49.png)

展示了一些ND格瑞的数据类型，嗯啊分类可以分为N加项啊，布尔型整形无括号整型，浮点型和复数型，但是复数型应该比较少啊，那我们可以注意到N这个类的类型，几乎全是什么数字，也很少有字符串。

嗯啊不是说不能算字符串，而是说我们基本上不存字符串，为什么，因为它是提供一些批量运算的，我们只做数字的运算，所以绝大多数情况下，我们在这里选读的都是数字，嗯嗯好，那我们再来说啊，布尔型。

注意它在所有的类型后面加了一个下划线，嗯这是为了和Python自己的脸做区分嗯，因为这是这个是关键字啊，墨尔本身是个这个int都是关键字，看给它区分，那我们说为INT8。

int十6033十21614的时候是什么意思，1。8的八个比较嘛，乘255嘛，对这就涉及到这个底层的一些东西了，简单来讲英特尔八就一个字节，八个字节，四个字节，八个字节对。

八个字节的长度就从从八个字节的数对啊，简单来讲INT8就是占八位的一个啊，那个16就出现16位位整数，我们知道早期算金它的类型比较小，所以最开始是八位整数，后来16位整数，所以这个呢是64位的整数。

40整数，OK64位的整数范围是多少呢。

![](img/e3246196441864d77ee43e94f3216c35_51.png)

呃是140多亿，不是140多T，64位的整数范围是二的，143次方减一一百四，这里这个数那一百二十六十四次方，不是140多，嗯anyway，你看二的62的这个64位整数，它存的为什么是二的63次方呢。

嗯因为它有一个数来表示正和负啊，嗯嗯嗯对对对，所以他表示大于正的这个到负的这个嗯啊，差一个数。

![](img/e3246196441864d77ee43e94f3216c35_53.png)

那这是整数，嗯啊再说无法2000有无法正的就行。

![](img/e3246196441864d77ee43e94f3216c35_55.png)

无符号整形没有没有没有符号没有错啊，符号等大符号，无符号整形我只能表示零到正的数，所以无符号整形，64位可以表示，最大的数是2×2的64次方嗯，180啊，减一，因为还有个0-1是这么大数。



![](img/e3246196441864d77ee43e94f3216c35_57.png)

非常大，好接下来浮点型也涉及到都是16位的点，二三十二位，64位，这个展开好，我们知道这个D太棒。

![](img/e3246196441864d77ee43e94f3216c35_59.png)

还有是存储的这个数组当前所有元素的类型，嗯啊答应该是int64嗯，那还有第二个size，你猜是什么意思，当前存的这个数组的大，当前存了多少个数，多少个数对，OK多少个元素看十十个数吗，嗯这就是十个。

就这个其实是能存60呃，就能存那么多数，不是还是一个数，能量一把数到这么大，OK啊能存多少数，取决于你们计算机有多少内存啊，我知道了，这个相当于是这个d int64，因为我操作系统是64位的对。

所以你每个整数最大能存到这个大哦，i see好好，那我们这是演示了什么，这个叫一维数，嗯啊演现实生活中我们可能用到什么多维数，嗯啊这我们也讲过多边列表嗯，大家可以下最多能理解的就是二倍好，就加二维图好。

这是一个二维列表嗯，我们通过NT的二维把它转换成一个二维数组，那二维数组来讲啊，之前讲的那两个是一样的，低碳的还是硬的，注意size返回的是六，也就是总的元素过程，它并不会返回2×3嗯。

那如果我想返回2×3，我怎么看呢，A点ship吧，为什么要改这个板，就是规定啊啊啊A点size返回的是有多少个元素，A点shift返回的是它是几乘几的，你看A点shift返回一个啥元组嗯，一个元组啊。

哎二这是二维的，所以是两行三列的，一开一个，OKOK大家最常用的可能就是二和三位，假如说啊，我来一个强行来一个强行来一个三维的，大家看一下，这是个三维，怎么看出来，怎么看出来的呢，你看这是一位吧。

嗯这是两倍吧，这是三维吧，怎么理解三维啊，你看一维我们可以连成一条线，对不对，那2008我们可以理解成一一张纸，对三维还有一个三维理解成一个本嗯，还有好多页页，看到没有看到没有，这是第一页嗯。

这是第二页嗯，啊我现在是一个两页的一个三维哦，哦那还可以接着加一啊，对不对啊，所以你二维你理解就是这个高和宽，三维也就是高和宽和叶对呀，四维人就是具体就不了解，具体不好不好找一个具体的例子。

因为我们的空间是三维的，但是有思维的东西啊，好我们来看这个三维列表的A点是多看A，反过来就这个长度是三个月的，OK这就说明什么两两个二维两页啊，两行嗯，三列嗯嗯啊常见的是二维的。

知道shift返回的是这个它的宽度洞啊，就可以了，那啊我们再举刚才二维的那个例子，好还有一个常用的，咱们先看一下A啊，是两行三列嗯啊在线性代数里，或者说我们等会讲到股票的时候。

也会用到有一个叫做那个转制啊。

![](img/e3246196441864d77ee43e94f3216c35_61.png)

转制是啥意思，看这123456嗯，我想把它诶竖过来看看。

![](img/e3246196441864d77ee43e94f3216c35_63.png)

变成142536嗯，转90度对，转动的时候把它竖过来，就是行变成列列，变成行，用点T嗯，直接TT对哈，这就这样了，这好哎，我之前还专门写过这样的，那个上学的时候不写这种东西吗。

而且没有这个像你这个什么三角形，那个正方形，卧槽老废角，这个这个简单对好，直接转过来再转，又转了再再转，再转得他倒了，这这不是你，你还是在这个基础上再往再转1A，等我这样A等于A点T嗯。

然后A然后再转A再等于A点，T在左边等于B了，A点T在这就转过来，对这诶我以为他是相当于下的那个下去了，它只会是行变成列列变行，第一列变成第一行嗯，然后第二列变成第二行，好好OKOK好，那这是转制。

还有一个啊，这个查看就是当前为数嗯，这是二维数的尾数是二嘛，嗯这用的太多了，NDM就是NDMATION，对，是二维。



![](img/e3246196441864d77ee43e94f3216c35_65.png)

OK这是一些常用的属性。

![](img/e3246196441864d77ee43e94f3216c35_67.png)