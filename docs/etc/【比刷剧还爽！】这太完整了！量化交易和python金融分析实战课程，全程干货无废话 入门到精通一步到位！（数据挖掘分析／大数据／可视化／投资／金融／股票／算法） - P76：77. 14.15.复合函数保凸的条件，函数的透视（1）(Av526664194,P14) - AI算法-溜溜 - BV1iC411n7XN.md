# 【比刷剧还爽！】这太完整了！量化交易和python金融分析实战课程，全程干货无废话 入门到精通一步到位！（数据挖掘分析／大数据／可视化／投资／金融／股票／算法） - P76：77. 14.15.复合函数保凸的条件，函数的透视（1）(Av526664194,P14) - AI算法-溜溜 - BV1iC411n7XN

好上节课呢我们讲了一下，就是哪些操作呢可以保持一个函数的凸性，我们讲了，比如说一些凸函数的，它的非负的加权和，是可以保持这个函数的突进的，这是没有问题的，另外呢这个这个仿这个一个一个仿射函数啊。

在经过这样一个凸函数的话，仍然也还是个凸函数，就是先反射，再经过一个凸函数，那么这个函数仍然也还是个凸函数，另外呢我们讲若干个凸函数，它的极大值函数也是凸函数，这是一些比较重要的这个凸凸。

凸函数的一些一些一些操作，经过这些操作之后呢，这个函数的凸性还是可以去可以去保持好的，那么这节课呢，我们要讲一个非常重要的一个概念，就是我们讲的就是函数的组合，也是可以保持这个函数的图形的。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_1.png)

某些特定的函数的组合，也是可以保持一个函数的凸性的，那么这个东西为什么重要呢。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_3.png)

因为在很多时候我们碰到的函数啊，并不是一个简单的函数，而是由很多个函数来组成的这样一个函数，比如说比如说我首先经过一个log，然后再经过一个一个一个加法，然后再经过一个exponential等等等等。

那么这样的话经过一个复杂的组合之后呢。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_5.png)

我们可以得到一个很复杂的一个函数，那么如果你要是不知道这样一，些方面的概念的话呢，你就很难去判断，这个函数到底是凸的还是非凸的，那么今天我们讲的内容。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_7.png)

就可以帮助我们来判断一下，一个一个复杂的函数，一个看起来很复杂的函数，它到底是不是凸的好，我们首先来讲讲什么东西叫做一个函数的组合。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_9.png)

首先呢我来定义两个函数，也就是两个英语，设D函数H呢，它是一个从K维空间到一维空间的一个映射，这是第一个函数，第二个函数呢我把它叫做G，它是一个从N维空间到K维空间的映射，那么有了这样两个函数之后啊。

我就可以来定一下他们的组合了。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_11.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_12.png)

我要定一下这个函数的组合，F它是首先呢首先呢有个G，首先呢有个G，然后将这个G的这个函数啊，再通过F，那么这样的话就是G和H的一个组合了，好，那么这个组合，它的映射是从N维空间到一维空间的映射。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_14.png)

那么具体写写看呢是一个什么样的一个东西呢，这个FX这个函数它的这个自变量是X，首先呢我要将这个X经过G这样的变化。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_16.png)

经过G这样的变化好，我们看这个G这个变化，它是从N维空间到K维空间的一个映射，对吧好，那么映射完之后呢，我再将这样一个K为的这样一个向量，经过H这个映射，我就得到一个一维的这样一个标量了。

这个变量的值就是FX的值，那么我们要注意一点呢，就是虽然我们这个函数可以这么写，但是我们必须还要强调一点，就是这个函数它还得有个定义域对吧，他一定得有个定义域的，这个定义域呢。

一定是跟着H和G的定义域是相联系的，那么这样一个新的函数定义域，它要满足什么要求呢，首先呢这个X啊。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_18.png)

它一定要是是这个G的定义域中间一点对吧，一定要一定要满足这个要求，这是第一点，那么第二点呢就是我还要使得这个GX啊，它是H的定义域中间的一点没错吧，所以我们看它的定义域呢实际上是这么定义的，好。

那么现在呢我们就把这两个函数的组合呢。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_20.png)

把它给定好了，下面我们再来看一看啊，就是这样两个函数的组合。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_22.png)

在哪些情况下得到了这样一个F，这个这样一个函数仍然还是个凸函数。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_24.png)

我们来看看到底哪个情况，底下会有这样一个情况发生，我们首先来考虑一个一个一个，最简单的一个一个情况。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_26.png)

就是说首先我们看一下这个这个X呢，它是个一维的标量。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_28.png)

同时呢这个GX呢也是一个从一维到一维的，这样一个映射，同样这个H呢也是从一维到一维的映射。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_30.png)

我们来看看这样的情况，这是第一条。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_32.png)

也就是说这个K是等于N是等于一的，那么第二个呢，就是我们要假设一下这个G和H，还有S的定义域啊，都要是整个的时空间，这个假设其实是非常重要的，为什么呢，因为如果不是整个时空间的话。

那我们我们在分析的时候就会很麻烦。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_34.png)

这个以后我们会看到这样一个问题的。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_36.png)

好。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_38.png)

那么第三个假设呢，就是我们假设这个所有的函数啊，都至少是二阶可微的，要我要求所有的函数都至少是二阶可微的，为什么要求它是二阶可微的呢，因为我可以马上就用这个凸函数的，它的这个二阶条件了对吧。

好我们来看一看，我们有了这样三条假设啊，我们实际上就面临一个简单的一个问题，就是我给你任意的函数去呃，呃任意的函数h read函数G你给我判断一下，在什么情况下，这个新的这样一个组合F它是个凸函数。

那么我们可以怎么去做呢，我们就可以马上去用我们的二阶条件，去算一算了，那么在什么情况下，这个F这个函数它是它是一个凸函数啊，什么情况下，他的他的海森矩阵一定在所有情况下，全部都是都是正定。

都是半正定的对吧，或者确切的说，这时候，实际上海森矩阵已经退化成一个个标量了，不再是了，好那么我们就来验证一下这一点，看看这个在什么情况下，这个这个二阶偏导呢，它一定是大于等于零的。

那么这个这个问题应该很好算吧对吧，就是对于这个这个FX等于HGX这个函数，我去求它的二阶偏导，这个应该很容易吧，好那么首先呢我们来算一下，就是它的一阶偏导是什么样子的。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_40.png)

这个我相信大家都很熟悉了，我肯定要做两步对吧。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_42.png)

首先呢我要对这个H啊去求个偏导光，但是光对H求偏导还不行，我还要再对这个G呢去求个偏导。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_44.png)

我需要对他去求两部的偏导，再把它存到一块去。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_46.png)

下面呢我就我需要对他对他们的乘积。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_48.png)

去做一个这个偏导，那么实际上我要首先先对前部分去做个偏导，再乘以后面一部分，然后呢我再最后一部分乘以做一个偏导，再乘以前一部分对吧，好这个都是非常简单的线性代数的知识。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_50.png)

我相信肯定都没有问题的好，那么我现在我我我需要你们来判断一下，在什么情况下，他一定是大于等于零的呢，在什么情况下，我能保证这个式子，对于任意的X都是大于等于零的。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_52.png)

我们来看一看啊，首先呢我们来假设一下，首先我们来看一个比较特殊的一个情况，就是这个这个GX啊，假设这个GX是个是个凸函数，我假设它是个凸函数，而且呢我要假设一下这个DX，它能够使得这个抱歉啊。

首先呢我要假设这个JS是个凸函数，那么这个GX它的二阶偏导，一定是大于等于零的，对吧好，另外呢，不管这X是不管这个GX是不是凸函数的话，那么这一项也一定是大于等于零的吧，对吧好，那么现在呢。

我要使得这样两项也都要大于等于零对吧，如果我要使得这这两项同时也都大于，等于零的话，那么这个函数一定是一个大于等于零的这个值，对不对不对对吧好。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_54.png)

那么在什么情况下，这两项也一定是大于等于零的呢，好D项大于等于零是什么意思，第一项大于等于零，指的应该是这个H它应该是个凸函数对吧，如果H是个凸函数的话，那么它一定是大于等于零的，虽然它大于零并不表。

并不表示这个H1定是个图函数，那么第二项第二项是吃大于等于零的，是什么意思呢，一个函数的一阶偏导是大于等于零的，这表示什么意思呢，表示这个函数在这个方向底下它是不降的对吧，在函数方向底下。

它是它是不降的，它它虽然不一定升，但它至少不降好，那么现在呢我们就得到了一个一个结论，就是在在某种情况底下，这个它的二阶偏导一定是大于等于零的，也就是说这个FX这个函数它一定是个凸函数。

我们就可以得到第一个第一个条件。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_56.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_57.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_58.png)

也就是说如果这个H是一个凸函数，而且H是不降的一个这样一个函数，另外呢这个G呢也是个凸函数，那么我就可以知道F1定是个凸函数，好这个就是我们的第一条结论，那么下面呢我们也还会有一个类似的结论。

好第二个结论跟第一个结论长得很像，也就是说如果H是个凸函数，但是呢它是一个单调不增的一个凸函数，H是个单调不增的凸函数，那么在这种情况下，我们的这个H1撇，这个这个函数它就变成了小于等于零了，对吧好。

那么我为了保证这个F1F两撇，X是是大于等于零的话，我需要我需要要求我的这个G这个函数，它必须是个凹函数才可以对吧，在这种情况下，这个F仍然还是个凸函数，这个就是我们的第二个结论，就是如果H是个凸函数。

而且呢H是一个单调不增的，一定要记住是一个单调不增的，而且G呢是个凹函数，那么F呢就是一个凸函数好那么很简单，我可以把这个这个凸啊，把这个秃子给换成凹子，把这个架子换成榛子等等等等。

我就可以得到另外的两条性质。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_60.png)

好那么这个表述看起来好像很复杂，但其实很简单，就是这个所有的思路全是一样的，你只要只要根据这个FX，它的二阶条件去算一下就可以了，这是很容易去验证的，好，那么从这个例子我们也可以看出来。

这个二阶条件它的重要性，就是只要这个函数啊它是二阶可微的话，那么我们去分析它的通信其实非常非常简单。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_62.png)

我们只用去分析它的这个憨憨矩阵就可以了，但是呢这个世界上没有这么这么容易的事情，为什么呢，因为这个我们碰到的大部分函数啊，它不能保证这个K和N都是等于一的，这是第一条。

那么如果K和N中间有一个不等于一的话，我们在求这个二阶偏导的时候就很麻烦了对吧，在这种情况下，我们面临的就不再是个标量了，而是个矩阵了，而且我们要判断这样一个矩阵。

到底是一个半正定矩阵还是一个非半正定矩阵，这个就很麻烦好，这是第一个问题，那么第二个问题呢，就是我们假设这个它的所有的定义域啊，全都是整个时空间，这其实也是一个非常强的一个假设。

那么如果这个假设不满足的话呢，我们就需要对这个中间的某些点去验证了，这也是个很麻烦的事情，第三个呢，就是很多时候，这个H和G并不一定是二阶可微的，比如说我们经常见到这样一个函数，比如说这个绝对值函数。

它是个非常容易见到的这样一个函数。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_64.png)

但是这个函数它本身就不是一阶可微的，更不用讲这个二阶可微的对吧，所以呢也就是说对于很多的情况啊，我们之前的这些结论实际上是并不满足的，这是这是不能去用的，那么怎么办呢，我们就把这个我们之前这几个假设啊。

先给放松一下，把它给扩展到一些比较复杂的情况。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_66.png)

好我们首先呢就把我们之前的这三个假设，就是这个一维的假设，还有这个整个空间的假设，以及这个二阶可微的假设，这样三条假设呢把它每一条全都给放松了，我把它放一个高维的问题，一个并非全空间的这样一个问题。

以及一个并不而且口碑的问题好，那么对于这样一个比较一般的问题，我们会有什么样的结论呢，就如果我来问你这个问题的话，你会怎么回答他呢，这很简单，我们就首先来类比一下对吧。

就是原来的我们有一个简单的这样一个假设，我们考虑一个很很简单的这个情况，那么我们可以得到一些很好的结论，这四条结论是非常好的结论，那么呢，现在我把这个问题给弄得稍微复杂一点了。

我们同样的也应该有类似的四条结论对吧，对不对，你你动脑子稍微想一想，你觉得你也至少也应该有四条结论嘛，好，但是呢这四条结论呢，跟以前这四条结论，肯定是会有些不一样的地方了，那么具体怎么不一样呢。

呃这个就不用你们去想了，所以已经有人告诉我们了，我们就来看一看是哪四条结论。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_68.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_69.png)

那首先呢我们要讲一点啊。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_71.png)

这个其实我们上节课也讲过，就是如果当你一个函数，它的定义不是在这个全空间里面的话，我们为了简单起见，我们通常要把这个函数把它去做一下扩展对吧，我们如果如果一个函数。

它的定义只是这个整个空间里面一部分的话，我们在分析它的时候，实际上是很不方便的，那么为了方便起见，我们就可以对着函数去做一定的扩展，同时保持这个函数它本身的凹陷或者凸性，也就是说比如说假设啊。

假设有个函数，有这个HX等于负的log s这个函数。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_73.png)

这个函数它本身是一个是个什么函数，兔海柔，这是凸函数，对吧对吧，你应该马上就能享受完了，好那么给你这样的函数。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_75.png)

那么它的定义域呢，实际上是在正的空间里面对吧，好那么为了分析的方便呢，我需要对这个函数去做一个扩展。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_77.png)

我需要把它的定义域啊，给扩展到整个的时空间里面去，那么我可以怎么去扩展呢啊，这时候它的定义就是整个空间了，那么在X大于零的时候，它仍然是等于HX的。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_79.png)

那么在X小于等于零的时候。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_81.png)

我应该给他要选一个什么样的值呢，才能保持它的凹陷或者凸性呢，它应该等于正无穷对吧好，看来你们都记得很清楚，那么相应的就是如果这个HX是一个正log x，它是个凹函数的话，那么我应该怎么去做呢。

首先在X大于零的时候，他应该是正的那个X在X小于等于零的时候，这边就应该是负无穷了对吧，好好我们有了这样的假设之后啊，我们来看一下啊，实际上这个，这个第二个问题呢实际上就可以变得简单一点。

这个第二个问题就可以变得稍微简单一点，为什么呢，因为我们在分析它的这个这个定义域的时候啊，分析它的这个单调性的时候啊，这个H这一块我们就不用特别关心了，我们可以把这个H去去做个扩展。

那么很快我们就会在这四个性质里面看到，我们会会不会出现X，我们还会出现这个对于X的扩展这样一个函数。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_83.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_84.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_85.png)

好，第一条就是我们跟这边这个，第一条来对应一下啊，我们这边讲第一条是这个H是凸的。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_87.png)

而且H是不降的，同时呢这个G是凸的，那么F就是凸的，这边呢我只改了一个东西，我只改了一个东西，就是H是凸函数，这个H的扩展呢是个不降的函数，它是个单调不降的函数，既然是个凸函数。

那么F就是一个就是个凸函数，跟前面只有唯一只有一个区别对吧。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_89.png)

就是在这个分析这个单调性的时候啊，我不再是对于这个H去做个分析了，我是在于我是在对这个H的扩展去做分析了，这是唯一的不同好，那么相应的我还会有另外的三条性质，跟这个性质是几乎是一模一样的。

好我这里稍微偷下懒，我就不把这个四条性质给写全了，因为这个性质首先是每条都很像，其实呢这个每一条啊，都跟这个之前的这一条是几乎是一对应的，我只要把这个这个单调性。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_91.png)

这个地方，这个函数从H给给改成这个H扩展就可以了，这非常简单的，好，那么这四条性质是怎么来的呢，为什么这个性质是对的呢。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_93.png)

我并不是说就是对于一个简单的问题，我们也有这样一个结论。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_95.png)

那么我只要在这个H上面稍微加上一个，加上一个弯弯，我就可以得到这样一个结论了，这是这是不对的对吧，你只是做了一个简单的扩展，这是不对的，你必须要说出来这样的理由是什么理由。

所以呢下面呢我们就来证明一下这个第一条。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_97.png)

我们来证明一下这个第一条它为什么是对的。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_99.png)

这个时候呢因为这个函数，它的它的这个二阶偏导啊是不一定存在的，所以呢我们就需要去去用一些比较原始的性质。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_101.png)

去去判断了，比如说呢用我们，我们今天呢是来用这个第一条定义，去证明一下这个这个第一条性质。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_103.png)

我们这里用的呢是这个凸函数的第一条性质，那么为了用这个第一条性质呢，我们首先要在这个，我们首先要在这个地域里面去选择，选择两点对吧，我们把这两点叫做X和Y，好另外呢我再选择一个C的，它是在0~1之间的。

那么现在我为了要证明，这个这个F仍然是个凸函数，我只要证明他的这个这个凸组合的函数值，X和Y的凸组合的函数值，要小于等于这个函数值的凸组合就可以了对吧，这是第一条性质，那么怎么去证明呢。

首先我们知道这个G是这个G是个凸函数，首先呢因为这个G呢它是个凸函数，所以它的定义也一定是凸的，对不对好，那么下面我就就有战场结论，就是这个这个C的X加上加上一点C到Y呀，他也是在这个G的地域里面的。

这是为什么呢，为什么是这样呢，因为因为X和Y是不是，也应该在这个G的定义里面呢，对吧，为什么这样呢，F是这个H和G这两个函数的组合，那么既然这个X和Y他在F的定义域里面，那么根据我们之前的这样一个。

这个对于定义域的要求的话，那么那么这样一个X和Y，也一定是在这个G的地域里面对吧，这普通话是不能成立的，那么另外呢我们还有一个结论，这个结论我们马上就会用得到，GX和G，他应该是在H的定义里面。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_105.png)

对不对对吧，否则的话这个H这个函数，这个函数也就用不成了吗，因为你没有值了吗，好那么现在我们有这样一个结论，另外呢我们还有一个结论，就是因为这个这个D是个凸函数啊，所以我们就知道，好。

我这里只是把这个凸函数的两个性质，给用了一下，就是第一个呢它的定义一定是个是个图集，第二个呢就是一定满足这一条不等式，这是一定要满足的。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_107.png)

好，既然我们用了这个G是个凸函数这样一个性质，我们下面就要去用一下，这个这个H也是图书这个性质，对不对，因为H是个凸函数，所以呢H它的定义也一定是个突击。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_109.png)

所以呢我也会有有个跟这个类似的一个结论，我一定会有一个跟这个类似的一个结论，好就是说GX和GY，它的初组合一定是在H的地域里面的，那一定是要在这个地域里面的好，那么又因为它是个凸函数。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_111.png)

所以我也会有一个类似的不等式，满足，好后面同学看得清楚吧是吧，这个不等式是一定满足的，为什么呢，就是因为它是个凸函数，我对这个GX和GY去做个凸组合，然后再去对它去求个函数值，我一定是小于等于。

我对对于这个GX需求函数值，以及对这个GY去求函数值，再做个初组合的，一定是有这样一个不等式满足的，那我们来看一看这个式子右边，这式子右边是什么东西，这个GHX是什么东西呢，它就是FX对吧好。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_113.png)

那么这边是什么呢，这就是FY了，对不对好，所以我们看这个式子，右边呢实际上是FX和FY的组合好，那么我们我们一定要记得，我们要证明什么东西呢，我们要证明这个F它是个凸函数，对吧好，所以呢我希望啊。

这个式子的左边一定要大于等于一个东西，大于等于什么东西呢，一要大于等于这个东西对吧，如果这个式子是大于等于这个式的话，那么我的证明就成立了，但现在呢这个证明容易不容易呢，我们把这个F先把它写下来。

看看它到底是个什么东西。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_115.png)

好也就是说如果我能证明这个这个东西，这个是个很长，所以我就慢慢读，你们来慢慢听，好吧啊，这我要说明什么事情呢，就是我将这个GX和JY去做个图组合，然后再经过这个H，我要证明这个东西要大于等于。

我将X和Y去做个凸组合，再经过G再经过H经过这样两重变化，我要我要证明这个不等式是满足的好，那么这个不等式到底满足不满足啊，我们来看一看这个式子是不是一定满足的，我们来注意一下这样一个东西啊。

我们看看这个东西在什么地方，是似曾相识的对吧，我们似乎在前面什么地方写到过，这两个式子在哪里啊，我们在这里写到过对吧好，那么如果在这个式子左右两边都加上一个H，都加上一个H的话。

那么是不是这个这个不等式也成立了，也就已经证明好了，对吧好，那么这个是什么意思呢，只要H是单调就可以了，对吧好，但是呢我们来想想啊，就是事情没有没有这么简单的，如果事情很简单的话。

那么这个H头上这个弯弯就要去掉了，就没有这个东西了，为什么呢，这个式子这个事情中间麻烦的地方在哪里呢，在于啊，我们证明了这个这个C大GX加上加上一减，C大GY是在H的定义里面的。

但是我们到目前为止没有一句话讲到，说这个记C的X加上一减C到Y，是在它的定义里面的对吧，我们并没有证明这一点，对不对好，所以呢我们不能只用只用这样一个简单的，这样一个单调性来来讲啊。

所以实际上这个事情要稍微麻烦一点点，但是也不是那么麻烦，好所以呢我们这个证明里面就出了一个子问题。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_117.png)

我们要证明一下这个GC的X加上一点C的Y，他要在这个H的定义里面，我们要证明一下这一点，那么怎么去证明呢，我们来用一个，反正就首先呢我假设这个点它不在S定义里面，假设他不在这个领域里面。

那么如果他不在这个地域里面的话，我们我们现在就可以用上什么东西了，我们就可以用上这个H的扩展了对吧。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_119.png)

因为H的扩展这个函数啊，它不光在这个在H的定义域里面是有定义的，它在H的定义域之外呢，它也是有定义的。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_121.png)

我们要记住这个函数是一个不降的函数，这个函数是一个单调不降的函数，所以呢我可以将这个式子。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_123.png)

将这样一个不等式，左右两边我都加上，这个都加上H的扩展，所以就会有这样一个结论。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_125.png)

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_126.png)

那么这个结论一定是满足的，对吧好，那么现在我又知道这个这一点，他不在S定域里面，这点他是不在S定义里面的，那么这个这个取值应该是多少呢。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_128.png)

如果这一点不在这个H的地域里面，那么H的扩展的取值应该是多少，应该是无穷对吧，是正无穷还是负无穷，正无穷对吧，因为H是个凸函数吧，所以这边应该是等于正无穷的好，那么我知道这一点呢。

它是在H的地域里面的对吧，这一点是在H的地域里面了，因为我们以前我们上面已经讲到过了吗，好那么也就是说呢。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_130.png)

这个我任意的去选择一个一个X去选择一个Y，再任意的去选择一些C的，那么我得到的值一定都要是大于等于正无穷的，也就是说我的这个值呢，一定要是一定要是正无穷，对不对好，那么我对于我任意感兴趣的X和Y和Z的。

这函数的取值都是正无穷，那么这个函数除了是一个正无穷这个函数之外，还有什么意义呢，对吧，也就是说这种情况底下，如果这个式子是满足的话啊，如果这个式子如果这个式子是满足的话，那么也就是说这个H这个函数。

他对我任意感兴趣的X和Y和C的，它的取值都一定是正无穷，那么这个函数一般来说我们不会去研究的对吧，如果一个函数，它它们它在我所感兴趣的点上都是正无穷的话，那么这个函数也就是一个非常一般的。

这样一个函数了吗，我们一般感兴趣函数都是一些比较简单的函数，这个取值可能是有限的这样一个函数好，所以实际上呢这个这就是个悖论了，这实际上就是个悖论了，也就是说这个这个不等式啊，它的确是可以满足的。

但它在什么情况满足呢，就是H这个函数都是正无穷，这个情况底下。

![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_132.png)

这个不等式是一定满足的，但这种情况是我们不考虑的情况，我们完全不关心的情况，在其他的情况里面，这个不等式一般来说应该是不满足的，所以也就是说呢，这一点应该是在HD里面，对于这样一个中间这样一个小插曲。

有没有有没有疑问，没有疑问吧，好实际上我是用了一个什么性质呢，就用了这个H的扩展了，它的性质就是H的，如果H是个凸函数的话，那么它的扩展在H的定义之外，一定都是等于正无穷的，好。

那么既然既然这一点是在H的地域里面的话，那么我可以，我就可以在这个是在这个不等式两端，去用这样一个，去用上这个H的单调性了，对吧好，既然这个H的单调性已经可以用得上的话，那么这个不等式是一定满足的。

我又知道这个不等式的左边呢是这个不等式的，左边呢是等于这个这个X和Y的凸组合，再经过F右边的是FX和FY的凸组合，这个不等式是一定满足的，所以呢也就是说F这个函数FX这个函数啊，他一定是个凸函数。

所以这个证明就结束了，好有没有疑问是好，我看同学们好像都很疑惑的样子，这应该应该没有疑惑对吧，很简单吧，这个这个思路非常简单的，首先呢我要用一下这个凸函数的性质，但这里啊这个凸函数的性质。

我们要我们一定要强调一下，不要只用这样一个不等式，我们用了两次这个不等式，但是呢在用这个不等式之外啊，我们还要再用一下它的这个它的地域是个突击，这样一个性质，我们这个性质是非常重要的一个性质。

如果没有这个性质的话，这个底下的证明完全全都全都是不成立的了，好那有同学可能就会问，那就是老师你讲了这么四条性质，那么我碰到一些什么问题的时候，我还要把这个四条性质给记住吗，呃有可能会会有同学更关心。

就是考试的时候，你会考这四条性质吗，我可以负责任的说，我绝对不会考这四条性质的，这没有必要的给你们讲一下，就是我我认识一些优化领域里面，一些些功底非常深的人，呃，我而且我跟其中不少人都都交流过。

还有甚至在一起比较紧密的合作过，呃我有我的有一位一位好朋友啊，他的这个他在优化领域做得非常非常好，每次我们去分析一个函数是不是凸函数的时候，它它不是说马上告诉我这个函数是不是凸的。

因为他是这方面的专家呃，他会告诉我说你去看看这本书吧，然后我们就会一块来翻书，看看函数是不是秃的，所以呢一定要记住，就是你在碰到这样一些问题的时候啊，你去翻一下这本书，你要如果你如果你搞不清楚。

这个函数是不是to的话，你你第一条就是要去翻一下书上，看他们是怎么讲的，好吧，你不要去记这些东西，这是完全没有意义的，你只要记住这个思路就可以了，好那么下面我们就来用一下这个性质。

我们来用一下这个四条性质，第一条就是第一个例子，就是如果IG这个函数是凸函数的话，那么我将这个G这个函数去，经过一个指数的变化，它也一定是个凸函数，好，那么这时候我们就可以看出来这个函数的组合。

它它的重要性在哪里了，对吧，就是对一般的情况啊，如果考虑一个比较一般的情况，假设呢这个JS呢是个可归的函数的话，如果我们不知道上面这几条性质的话，我们可以去用这个二阶条件去做对吧，这是可以的。

但是假设这个这个gs变成了这个X的绝对值，那么这时候你再用二级条件，就你就用不成了，那么这时候你的分析就会很麻烦很麻烦，但是不要紧，因为我们现在已经有了这样四条性质了，我们就可以去用一下这个性质。

我们来看一下现在的，现在的我们这个H这个函数，它的定义就是这样的，好这个函数是一个什么样的函数呢，这个函数它的值域是在整个的时空间里面对吧。



![](img/28a4aac5eb9a7d1d4d5b2053cde5ce27_134.png)

它的值域是在整个的时空间里面，所以这时候我不再用到这个扩展了，一个指数函数，它的形状应该是这样一个形状嘛，对吧好，首先呢它是一个它是一个凸函数，其次呢它是一个，它是一个单调上升的这样一个函数。

所以呢它是完全满足我们的第一条性质的对吧，满足满足我们的第一条性质，所以啊这样一个组合这样一个函数的组合，它仍然是一个凸的组合，是一个凸的函数，好第二条性质就是第二个例子，就是如果这个G呢是一个凹函数。

而且呢这个G呢它的它的取值一定是大于零的，比如说比如说，如果这个G是一个是一个X的绝对值，这个函数的话，那么log gx这个函数就是个凹函数，那么我们来看一看，这个HZ呢是等于log z的。

但是呢它的值域呢是是是在这个时，是在这个镇的时空间里面的，所以呢我们需要去对它去做下扩展，对吧好，我们开扩展之后是个什么样子的，首先呢这个这个HZ这个函数啊，它在这个时它在这个正的时空间里面。

它是一个凸的，它是个凹的函数，它是个凹的函数，好那么我将它去做个扩展之后呢，这个这个它它的扩展仍然是个凹函数，对不对对吧好，同时呢这个扩展呢，它是一个是一个单调不降的这样一个函数。

因为它在这个在这个负的空，负的负载时空间里面，以及这个以这个零这一点上，它是它是单调，它单调不增也不降了，它一直是富穷的，但是到了这一段之后呢，他就开始上升了，所以呢从总从这个总整个的这样一个。

趋势上来看的话，它是个他是个单调不降的这样一个函数好，所以我们来看一下它是符合哪条性质呢，它应该是符合我们的这个符，符合我们的这个第三条性质对吧，是不是第三条啊，就是这个这个H是个凹函数。

H的扩展是一个不降的一个函数，同时呢这个G呢是一个凹函数，所以F就是个凹函数对吧，有没有问题没有问题吧，就是以后啊你们如果碰到这样的例子的话，就赶紧把这四条性质给翻出来看一看，看是不是这样的，好。

第三个例子就是如果一个一个函数G，它是个凹函数，而且呢这个G呢是一个是一个大于零的，这样一个这个这个取值，那么它的GX的导数啊，导数这样一个函数，它也是一个凸函数，好我们来看一下这个时候呢这个H是什么。

HZ应该是等于Z分之一对吧，HHZ等于Z分之一的。