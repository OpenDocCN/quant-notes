# 9个小时搞定【Python金融量化分析】人工智能数据挖掘实战，看完就能跑通！ - P17：17-年化指标分析 - 用头敲代码 - BV1r72mYfEC7

![](img/a7e4b303b8e4519d8f67105c3896f50b_0.png)

然后呢这个回调收益率我们是不是算出来了，有的负的，那是不是说投资有风险，咱这个不一定是稳赚的，然后呢你看有的怎么样，有的是赚的比较多的吧，这都是翻翻了，翻倍了，有的啊。

剩下两个可能相对来说赚的是比较少的吧，这个就相当于啊呃我赚了多少，跟一开始相比的一个比值啊。

![](img/a7e4b303b8e4519d8f67105c3896f50b_2.png)

这个我们叫做一个回测收益率，也就是我们在分析指标当中啊，最重要的一个，你设计好一个策略之后，你就得看这个策略能够使得呀我赚多少，是不是好了，这是第一个问题，那第二个问题是什么。



![](img/a7e4b303b8e4519d8f67105c3896f50b_4.png)

诶，那对于我这个策略来说，那回测收益率大概明白了。

![](img/a7e4b303b8e4519d8f67105c3896f50b_6.png)

你想想你赚了多少呗，那还有一个值叫做一个年化收益。

![](img/a7e4b303b8e4519d8f67105c3896f50b_8.png)

大家经常听到这个词吧，年化收益，那可能上面你说你这个哎呀回测收益率。

![](img/a7e4b303b8e4519d8f67105c3896f50b_10.png)

那你说你是做了10年，做了8年时间挺长的，那可能你的策略当你去跟别人说的时候，别人说我没时间听你这么长时间的一个情况，你能不能告诉我你的一个年化收益是多少呢。



![](img/a7e4b303b8e4519d8f67105c3896f50b_12.png)

这一块把咱们的年化收益是列出来了，相当于啊就是对我们之前的一个回测收益，还有给他做了一个变换吧，做了个公式上变换。



![](img/a7e4b303b8e4519d8f67105c3896f50b_14.png)

使得呢咱们现在这个东西啊叫做一个年化收益，其实通常啊，就是当我们在看这个回测收益图过程当中啊。

![](img/a7e4b303b8e4519d8f67105c3896f50b_16.png)

咱更关注什么是一个年化收益啊，这个通常是我们重点要去观察的一个指标，看起来没差特别多吧。

![](img/a7e4b303b8e4519d8f67105c3896f50b_18.png)

但是多少还有一点区别，然后来看一下吧，它的一个公式公式啊，其实挺简单的，给大家来说一说呃，他都做了哪些个值，第一个就是这个R啊，表示的是我们的一个总的哎，总的收益率。

咱刚才是不是算过了这个东西回头收益率，这是咱们刚才算过了，然后这块有一个M和NM的意思啊，就是呃表示的是天数，通常我们所说的一个年化收益啊，因为一年啊，一般情况下就是平均来看，250或者252个交易日。

是不是这个表示的是我们的一年，有的一个交易日的一个数量，然后呢这个NN表示啊，就是你的一个数据，比如咱们这个数据。



![](img/a7e4b303b8e4519d8f67105c3896f50b_20.png)

咱们这个数据我计算一下哦，我把咱们当前数据拿过来，这个是我们的一个数据是吧。

![](img/a7e4b303b8e4519d8f67105c3896f50b_22.png)

看一看咱数据哎，不是这个是我们这个data哦。

![](img/a7e4b303b8e4519d8f67105c3896f50b_24.png)

找这个data frame，把这个data frame拿过来，这个是我们的数据，一共有730个样本吧。



![](img/a7e4b303b8e4519d8f67105c3896f50b_26.png)

啊它表示的是就是你选择了多少天的一个数据，然后呢我们来实际的算一下吧，比如说呃这个指标，我们叫做一个年化的一个收益率，我的一个能得到多少钱是吧，然后呢它等于什么，你看这里这一块是不是说呃。

用一个什么11个R啊。

![](img/a7e4b303b8e4519d8f67105c3896f50b_28.png)

来咱们写啊，就是一个E再加上咱们之前做好的一个结果。

![](img/a7e4b303b8e4519d8f67105c3896f50b_30.png)

我把这个结果给它加过来了，然后呢对它这块有一个呃，哎就是一个M比N是吧，我们把它写出来，就是这里我直接写数值了250，然后比上咱们是一个730是吧，哦不用730了，我把这个浪值传进来。

250比上一个它是不就行了，然后呢做了多少次幂，那就是一个QW列过来啊，这就完事了。

![](img/a7e4b303b8e4519d8f67105c3896f50b_32.png)

然后不要忘记最终结果在什么，再减去一个一，是不是就可以了，然后我把这个表格还是给大家展示出来。

![](img/a7e4b303b8e4519d8f67105c3896f50b_34.png)

我们来看一下，在这个表格当中呃。

![](img/a7e4b303b8e4519d8f67105c3896f50b_36.png)

改几个参数，第一个参数稍微改一改，这个我这个微改一改。

![](img/a7e4b303b8e4519d8f67105c3896f50b_38.png)

就这个吧，回测年化收益行，然后我们来执行一下行了，这几个指标我们是不是就算完了，跟上面结果怎么样，是不是稍微的有一点不同啊。



![](img/a7e4b303b8e4519d8f67105c3896f50b_40.png)

因为你看这个中心之前，你看那个就是做了好几年的啊，具体多少年700多天的数据，大概也得有个34年吧，然后中兴之前是1。13是吧。



![](img/a7e4b303b8e4519d8f67105c3896f50b_42.png)

那你看一看年化呢是0。2几，然后第一个第一个是赔了的是吧。

![](img/a7e4b303b8e4519d8f67105c3896f50b_44.png)

然后一看年化是个稍微小一点的，下面两个指标是不是也一样啊，这个又给大家说了一下。

![](img/a7e4b303b8e4519d8f67105c3896f50b_46.png)

就是呃当我们在看的过程当中，呃，其实你不光啊可以去看一个最终的一个。

![](img/a7e4b303b8e4519d8f67105c3896f50b_48.png)

你的一个收益率，还可以看什么我们的一个年化收益吧，好了，这里给大家先解释了两点，最重要的就是咱们这个收益来说啊，你要观察的最重要的两个指标，最终我怎么地了。



![](img/a7e4b303b8e4519d8f67105c3896f50b_50.png)

然后这个按年化来说，我的一个收益啊又怎么样了。

![](img/a7e4b303b8e4519d8f67105c3896f50b_52.png)