# 完全可自学！人工智能金融领域知识图谱+Python金融分析与量化交易实战全套课程！入门真的超级简单！——机器学习／深度学习／NLP自然语言处理 - P15：6-app安装特征 - AI算法-漆漆 - BV1Wgz3YVEx1

![](img/6507167aa5c96d3456b411a79790fa3c_0.png)

接下来接下来还是一个图特征，我们之前在做的过程当中啊，是不是只考虑了哎向量本身的，以及图当中呈现出来的特征，但是呢我们忽略了一些，比如说呃它的一些统还是跟统计相关的特征吧，比如说当前一个点它的一个出度。

它的一个入度分别有多少，这些统计特征我们照样给它加进来的，首先呢还是把我当前这条边的数据拿过来。

![](img/6507167aa5c96d3456b411a79790fa3c_2.png)

From my id to id，Data，Number weight，就是我当前的一个bid，在这里啊，我们进行了几种不同的一个统计啊，呃非给大家来看一下吧，比较简单。

其实你看第一步就是group by操作，Group by from id，然后你要统计一下一个form id，然后他去了多少个to id，一个服就是一个to id，他去了他被多少个form id所连啊。

他还这样一个意思非常简单，就是我们用GROUBT。

![](img/6507167aa5c96d3456b411a79790fa3c_4.png)

GROUBT函数分别计算几种不同的值出度入度，然后一个连接出去的数量，出来的数量就是一个sum值，还有它的一个count值啊，number就是这里是一个number值，这里是我们的一个count值。

因为咱们在那个编当中还有一个number值啊，就是下面这个number是我们又统计了一下，加上了它的一个数值作为结果。



![](img/6507167aa5c96d3456b411a79790fa3c_6.png)

这个do表示不加上这个number它值的一个结果，然后这一块还有它的一个权重项。

![](img/6507167aa5c96d3456b411a79790fa3c_8.png)

它的一个结果啊，还有它连接的不同的一个个数。

![](img/6507167aa5c96d3456b411a79790fa3c_10.png)

总数等于多少，这些就是我们统计的几种嗯，不同的一些统一特性在图当中比较简单。

![](img/6507167aa5c96d3456b411a79790fa3c_12.png)

我们就可以把这些统一特性分别给它构建出来，归员出来之后呢，咱把当前结果给它末置到一个大表当中，这些比较啰嗦。



![](img/6507167aa5c96d3456b411a79790fa3c_14.png)

就是第一个表末值加上这样一个事，先把它俩它跟原始拼在一起。

![](img/6507167aa5c96d3456b411a79790fa3c_16.png)

再把它加进去，再把它加进去，再把它加进去，咱一个往里加，最终给它全加到一起之后。

![](img/6507167aa5c96d3456b411a79790fa3c_18.png)

咱就形成了咱当前这个表当中的啊，有这样一个大表，大表完之后还是进行一个过滤过滤操作，其实比较简单，就是去看一下当前我这个大表当中，哎呀这些ban。

他有跟我那个一开始train test validation。

![](img/6507167aa5c96d3456b411a79790fa3c_20.png)

里边id是不是一致的，进行一个过滤，过滤完之后把当前结果进行一个保存就可以了。

![](img/6507167aa5c96d3456b411a79790fa3c_22.png)

这个是对图特征当中，我们又进行了一个基本的统计特性。

![](img/6507167aa5c96d3456b411a79790fa3c_24.png)

下一个安装特征，安装特征啊，也是这份JS数据当中给我们提供的一份表格，数据吧，叫做一个data，然后点app，然后点TXT文件当中，这里边呢我们来看一下吧，它是这样，就是对于每一个用户id。

它安装了一些app，但是呢这个app它没有写出名字，而是一个id的映射，比如这里这个你可以当做是一个，比如说是抖音，这个是一个微信，这是一个QQ，这是什么一些贷贷款，比如说什么曹操贷呀，这什么快速贷呀。

有钱贷，有钱花乱八七糟的，这是他贷款的一些东西，其实这里他又想看这样一件事，你说那些贷款就是可能不还钱人啊，会呈现出一种什么模型，一般还钱的人可能这样，他就可一个app贷呗，因为利率基本也差不多的吧。

他不可能下太多的app吧，但是有些人他可能下比较多，这个贷完了，可能他额度贷够了，再下一个再再下一个，拆东墙补西墙，大概是这样的，还有一种想法就是凭本事借的钱，凭什么要还啊。

这家凭本事借完那家再凭本事借，反正都不还了，有些不还钱的人可能是呈现出来这种趋势吧，所以说啊，这个计算机当中也提到一点可以利用啊，他APP当中一些安装特征其实没有安装特征，就是app安装吧。

它只告诉你了当前这个id安装了哪些个app啊，大家可以通过这个数据就想象到，当你去玩那些贷款的app的时候，会给他就是他会要求你进行很多的授权啊，很多授权之后，他会把你的一些就是你这个机手机里吧。



![](img/6507167aa5c96d3456b411a79790fa3c_26.png)

能它翻出来信息全给你翻出来啊，这个意思，你看看，这里已经把你所有安装信息全给你翻出来了。

![](img/6507167aa5c96d3456b411a79790fa3c_28.png)

翻出来之后呢，他就先判断一下当前咱这个先还是做个过滤啊。

![](img/6507167aa5c96d3456b411a79790fa3c_30.png)

就你当前这个id在不在我当前的一个呃，那点万八千多当中。

![](img/6507167aa5c96d3456b411a79790fa3c_32.png)

如果在我就是给留下来，不在给过滤掉，这个意思，接下来我要对这个id进行一个拆分啊。

![](img/6507167aa5c96d3456b411a79790fa3c_34.png)

因为这一块它都是以逗号进行一个连在一起的。

![](img/6507167aa5c96d3456b411a79790fa3c_36.png)

我们先把这个东西啊，先给它进行一个拆分，拆分成一个像是个list的一个结构。

![](img/6507167aa5c96d3456b411a79790fa3c_38.png)

通过字符串空格拼在一起，其实这个预处理方法，但这个这东西都没有一些固定的，大家怎么预处理都行，习惯用什么，或者说你大估计大大大部分情况下，手里都有一些自己的工具包吧，用的比较顺手了，或者自己写的。



![](img/6507167aa5c96d3456b411a79790fa3c_40.png)

就按照咱自己习惯的方法去处理就可以了，下面我来统计他爹就是基本统计特征。

![](img/6507167aa5c96d3456b411a79790fa3c_42.png)

统计特征很简单，比如在这里我安装了app的一个总数能算出来吧，安装app的一个平均数，安装PPP它的一个。



![](img/6507167aa5c96d3456b411a79790fa3c_44.png)

比如说这里还有些什么，你根据一些id id当中，还有它的一些在你的编程当中，可能还统计出来它的一些时间特征吧，你都可以联系在一起啊。



![](img/6507167aa5c96d3456b411a79790fa3c_46.png)

这些东西，但是在咱这里啊，我没有进行一个就是连在一起。

![](img/6507167aa5c96d3456b411a79790fa3c_48.png)

我是直接要把当前的一个结果，相当于就是做了一些最基本的统计，没有跟日期连在一起，到时候大家你可以看一下，因为我觉得可能有这样可能有一个问题，就是短时间内大量爆发下载一些app吧，可能你急用钱的时候。

急用钱的时候，那就不择手段了，你短时间下载各种大各种大app吧，因为之前编里边也有一些时间的。

![](img/6507167aa5c96d3456b411a79790fa3c_50.png)

这个到时候大家也可以融合在一起啊，在咱这个数据集当中这块我就就偷懒了点。

![](img/6507167aa5c96d3456b411a79790fa3c_52.png)

没给大家一个去写啊，只做了一些最基本的就是最大值啊。

![](img/6507167aa5c96d3456b411a79790fa3c_54.png)

中位数啊，最小值还有一些这均值总数之类的，这是我们对于一些安装的特征进行了一个统计。

![](img/6507167aa5c96d3456b411a79790fa3c_56.png)

特征啊，在这里给大家进行了一个展示。

![](img/6507167aa5c96d3456b411a79790fa3c_58.png)

然后呢统计特征做完了，统计特征做完之后啊，我们还可以做一些其他相关的特征了。

![](img/6507167aa5c96d3456b411a79790fa3c_60.png)

其他相关特征是这样，比如说你拿到这个特征之后，你看当前这个结果特征。

![](img/6507167aa5c96d3456b411a79790fa3c_62.png)

它是可能是比较大的，我能不能对咱当前一些app安装特征。

![](img/6507167aa5c96d3456b411a79790fa3c_64.png)

在进行转换的，这里也可以啊，比如说做一些降维，或者是做一些其他方面的事。

![](img/6507167aa5c96d3456b411a79790fa3c_66.png)

其实也可以，但是这个相当于只是给大家做了，这样一个演示啊，这里就是提供了一个降维，其实我觉着啊，降维这个操作在这里并不是一个必须的，可就是这份解决方案当中啊，提到这样一件事，我觉得并不是个必须的。

大家可以不做降维这个事，我觉着对最终结果可能不会有太好的，一个影响的，因为一般情况下这样降维，他是为了加快你速度去做的，而不会使得你最终的结果，出现一个稍微大点的提升啊。

所以说降维这步到时候大家有选择吧。

![](img/6507167aa5c96d3456b411a79790fa3c_68.png)

可以不用去考虑啊。