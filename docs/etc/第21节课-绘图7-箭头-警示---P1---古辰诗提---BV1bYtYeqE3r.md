# 第21节课 绘图7 箭头 警示 - P1 - 古辰诗提 - BV1bYtYeqE3r

欢迎大家来到从零开始量化系列课程，MC课程的第21节课，这节课呢咱们讲绘图里边最后一个图标，就是这个箭头，箭头呢是最后一种，可以利用代码进行操作并显示的，图标上的一个图标或者物角啊。

箭头通常是用来表示方向的嘛，在信号中呢向上的箭头表示这个买进的标识，向下的箭头表示平仓的标识，这个箭头咱们可以看一下啊，就是我从这新建一个型号吧，然后咱们从这写一个简单的策略啊。

If close cross over，这个是表示上穿的意思，或者above a b o v e above，就是表示上穿的意思啊，它还有另外一种写法，就是把它连起来啊，cross b哎，cos啊。

这个boob哎，刚才怎么没有显示出来呢，哦close is a boob，就是它可以连着写，但是连着写呢它是一个函数，这个里边你需要传参，比如说第一个用close，然后第二个用这个呃，Average。

avg以及average，比如说这close嗯，30啊，你你得这么来写呃，你也可以呢，就是把它拆开，就是这个close a above，然后这个时候呢你就可以怎么来写呢，直接因为前面有close了嘛。

Close above average，这个close30啊，这是两种写法，上穿和下穿，也就是咱们经常说的经叉和死叉，你一定要知道啊，它是一个动作啊，它是一个动作。

在当前K线那肯定是就是说这个比这个要大，然后在前一根K线，就是肯定是这个要小于等于这个啊，它才能形成一个上穿，就是这个状态就是到当前K线的时候，它完成了一个上穿，它并不是一个状态啊，它是一个动作。

你就说状态是指什么呢，我这一根线比这根线大，这是一个状态，能理解我的意思吗，一定要是一个动作，如果说你用就是用这个偏移，就是用这个close偏移来判定它，就是CLOSE嗯，嗯用偏移来判定它。

你首先你得判定，就是说这个前一根，这个收盘价要比我当前的这个收盘价要小，而且and或者小于等于吧，咱们算上等于啊，and的就是我当前的收盘价要大于，就是说这个啊应应该是跟这个average来对比啊。

应该是我前一根要小于这个average，这个后边参数我就不写了啊，然后我当前的这个要大于这个average，你这个才是这个close above，或者你连起来的那个cross is above。

它的一个完整的一个就是才等同于它，你千万不要就是把它认作为他是一个状态，它是一个动作，其实啊then by next b，At open，然后if close cross under。

Average close30，Then sell short，Next bat open，这个呢只有开仓和这个就是开多仓与开空仓，其实这个叫反手吗，反手这个为什么没有写平仓。

因为这个MC或者说这个easy lemage，它默认你反手的话，他是先平再开，所以说那个平仓你可以省略掉啊，这是一个纯反手的操作，这个没有写手术，它会默认开一手。

当然你也可以写成by1shell或者shells，或者说是cont r contract，contract也可以，contracts也可以有四种方式来表示，就是说你的这个手数啊。

当然你不写它就默认是一首啊，这个时候你可以进行一下编译。

![](img/31e842400a7419576b6505e7f3c464c0_1.png)

然后编译是肯定没有问题的，从这我插入一个信号。

![](img/31e842400a7419576b6505e7f3c464c0_3.png)

就这个是信号了是吧，然后demon21啊。

![](img/31e842400a7419576b6505e7f3c464c0_5.png)

这个咱们设置一下它的这个净出长连线啊，这都有一些，你像这个箭头是吧，价位都会给你用这个来显示啊，连接线都有啊，这个你可以也设置一下属性，属性里边是什么参考吧，50够了是吧，然后后边自动交易啊什么的。

咱们不用，然后回测呢咱们一般都用这个精简模式啊。

![](img/31e842400a7419576b6505e7f3c464c0_7.png)

后边咱们会给大家讲，然后你close它就会有这个箭头吧，你看这个蓝色的是箭头吧，啊蓝色的是箭头，然后它开仓点位他还会用一个红色的箭头给你，就是说这个画上啊，如果说你开空仓的话，它也是一个呃。

你开空仓它是一个就是你要是买买的话，它是蓝色的箭头，然后你要是卖的话。

![](img/31e842400a7419576b6505e7f3c464c0_9.png)

它是红色的箭头，应该是这样的吧，啊可以看一下，然后从视图这你可以看一下这个呃，策略绩效报告啊。

![](img/31e842400a7419576b6505e7f3c464c0_11.png)

他的胜率太低是吧，平常权益曲线胜率太低。

![](img/31e842400a7419576b6505e7f3c464c0_13.png)

就这个这个上面显示的这个啊，其实就是箭头上这个是向上的箭头啊。

![](img/31e842400a7419576b6505e7f3c464c0_15.png)

向上的箭头是吧啊，这个是向下的箭头。

![](img/31e842400a7419576b6505e7f3c464c0_17.png)

向下的箭头，这个箭头我把这个先给设置信号。

![](img/31e842400a7419576b6505e7f3c464c0_19.png)

先把它给删了啊，这个箭头就是咱们要就是这节课要学的，其实你学了之前的趋势线和这个test，其实学箭头，咱们就快速的把它过一遍好吧，这个ARIUE，这个ARIUE，你就后面是by date time啊。

然后price value，然后direction，direction是方向的意思嘛，对不对，方向的意思，所以说这个只需要一个点就可以了，只需要有一个点就可以了，呃咱们可以这个给大家演示一下啊。

新建一个指标嗯，21，然后我这儿，哎呀大部分y new这儿写上8date，我就用date来显示，然后time就用time来显示，然后price我用high来显示。

然后direction direction咱们看一下啊，它是数值来表示的，就是true呃，呃不是布尔值来表示，true为向下的箭头，false为向上的，那我就显示一个向下的箭头吧，true啊。

然后同样的我给他用一个变量来接一下，它也是有返回值，你可以看它这个return就是一个NUMERA啊，就是一个数值型的啊，当然你如果都画上的话，就太多了是吧。

同样的if last把on chat then啊，就是这个你只要写上这一个，我就不用这个begin了，然后进行一下编译，好编译成功了。



![](img/31e842400a7419576b6505e7f3c464c0_21.png)

然后从这我插入一个啊指标，然后21。

![](img/31e842400a7419576b6505e7f3c464c0_23.png)

然后这个咱们可以设置一下啊，连接线啊，这个没有连接线了。

![](img/31e842400a7419576b6505e7f3c464c0_25.png)

就啊确定，哎设置指标。

![](img/31e842400a7419576b6505e7f3c464c0_27.png)

这是demo20信号21，这应该是删除不对了，咱们应该是在指标这增加一个demo21是吧，尚未编译。

![](img/31e842400a7419576b6505e7f3c464c0_29.png)

啊编译成功了啊。

![](img/31e842400a7419576b6505e7f3c464c0_31.png)

我从这重新插入一下指标，这就是信号了，一定要选择指标，这个要选对了，在子图一显示刻度和商品相同样式，这都没有是吧，好我就点击确定是吧。



![](img/31e842400a7419576b6505e7f3c464c0_33.png)

这个就是一个向下的箭头，然后在高位显示的啊。

![](img/31e842400a7419576b6505e7f3c464c0_35.png)

这是，就是这个这个关键字它的作用，就是返回的也是编号啊，这个cf和这个S咱们之前反复再讲了，我就不多说了，这个delete就是删除嘛，你会画的挺厉害的，那如果说你能适时的删除它，那就说明你学透了啊。

set location就是给它调整一下位置，这个呢咱们之前没有去演示它，咱们这儿呢可以给他演示一下，就是a r w sit location，location就是位置的意思嘛。

第一个肯定是这个它的这个编号，我就用value1给它，然后第二个呢我用一个date，我向左偏移一个，然后time我向左偏移一个，然后这个呃low是吧，然后让它false向上去显示好，然后进行一下编译。

呃12344个，Date，这是哪的问题啊，啊这个方向你就不能再设了是吧，是不是多了一个参数，就是这个方向你不能再设了，那方向设了，你就等于是重画了啊。



![](img/31e842400a7419576b6505e7f3c464c0_37.png)

等于是重画了，这个时候我再编译一下啊，这个就没问题了，然后咱们再看一下，它会挪到前一个。

![](img/31e842400a7419576b6505e7f3c464c0_39.png)

然后也是向下的一个箭头，它不是特别明显，它肯定会有什么呀，就是说你设置什么呀，就是说ARW，这卡了，这肯定会有的是吧，我同样的用Y61，我把它设把颜色设一下，进行一下编译，它就成黄色了是吧啊。

这个都不用想，他肯定会有，然后这个下划线S和这个没有下划线S，它的区别就在于这个时间上面啊，这个就不多说了，Say cola，咱们也给大家演示了啊，set size就是设定这个大小。



![](img/31e842400a7419576b6505e7f3c464c0_41.png)

这个，演示一下吧。

![](img/31e842400a7419576b6505e7f3c464c0_43.png)

the size这个Y61，比如我设成20。

![](img/31e842400a7419576b6505e7f3c464c0_45.png)

设大一点，进行一下编译，它就会比较大啊。

![](img/31e842400a7419576b6505e7f3c464c0_47.png)

好然后sistyle c style呢它有哪些，这个就是他的这个样式呢，嗯他是0~13啊，就是他的这个箭头的样式，其实就是不一样的箭头吧是吧，E r w sit style161，比如我设置十啊。



![](img/31e842400a7419576b6505e7f3c464c0_49.png)

十它是个什么箭头，咱们可以看一下诶，他有十这个箭头。

![](img/31e842400a7419576b6505e7f3c464c0_51.png)

这是一样的吗，0~2呢看一下啊，哦就变成这样的了，变成这样的，这个就是，就是数值表达式，代表箭头样式的数值范围是0~13。



![](img/31e842400a7419576b6505e7f3c464c0_53.png)

绘图中的，咱们可以看一下这个设置向下箭头。

![](img/31e842400a7419576b6505e7f3c464c0_55.png)

它的这个样式在这呢是吧，三角啊什么的，大中小啊。

![](img/31e842400a7419576b6505e7f3c464c0_57.png)

也可以这样是吧啊，这是箭头的样式，这个别说了，这个它可以设置这个内容，设置内容，这个set text咱们可以演示一下啊，后边一定要是text啊，一定要是text呃，就是一定要是文字，如果说你是这个。

比如说我设置一个三啊，它会出问题的，它编译它就编译不过去，为什么print它能print一个三，因为你print这个方法它就给你转换了，就把你的数值型自动转换成字符串情况，但是你这个你设置这个文本内容。

后边一定要是文本啊，你可以用这个这个显示三，这个肯定是没有问题，这个从一开始它的这个类型的时候。

![](img/31e842400a7419576b6505e7f3c464c0_59.png)

咱们就说过对吧，这个一定要使数值型的。

![](img/31e842400a7419576b6505e7f3c464c0_61.png)

虽然数值型咱们用的不多，但你一定要知道，它和这个数值型和这个字符串啊，我说的是字符串型啊，它数值型和字符串型是有本质的区别的，其实就是在底层存储嘛，其实字符串就是它是由一个一个的字符。

在底层存储的那一个一个的字符，比如这个三字符串的三和实际上的这个三，在底层存储的是两回事，好吧，他有那个阿斯克码表，这个我相信大家都听说过阿斯克码表，阿斯克码表其实就对应着就是你在底层的存储。

如果说它有个标记是说明它是数字，它出来的就是三，但如果说它有个标记，它说明它是字符串，它出来的就是字符串的三，它有这个呃严格的区分的，如果说你以后学这个Python或者C加加，尤其是C加加或者C语言。

它是一个强类型的语言，他对这个类型要求特别的严格啊，所以说你必须得从这儿，你就得树立这个意识好吧，这个sea text color就是设置这个文字的这个颜色啊，就不多说了，这个SEM啊。

bg color背景颜色也不说了啊，set point name就是设置字体，set这个set text就是它的这个呃，说明文字的这个字体啊，就是set text size设置大小。

Set attribute，同样的外框，粗体就是还是这个对这个test来说的这个啊，c get active就是最新的啊，或者就是最新的这个这个这个箭头哈，get first是一样的，就是最先新增的。

就是你的第一个画上去的这个箭头，编nest就是你下一个箭头是吧，当然这个里边也分是你自己画的呀，还是你代码画的，还是别的代码画的啊，get date获取日期，当然这个返回的是这个ER的。

就是这个easy lemage的，它的这个日期啊，不是鲁鲁列日的日期，然后这个是get time和get time，小NS你之前学明白了，这些都很容易，Erroget value。

你如果学了这个text get value，你就会知道这个其实就是你画的这个位置在哪，就比如说这是low，你输出出来的肯定是low是吧，如果是high的话，它输入出来肯定是high啊。

这erroget direction就是你的方向嘛，你设置的方向是什么，它就返回啊，它就会是什么，就是箭头向下返回true，箭头向向上返回false，这个erroc color啊。

get color就是获取颜色，同样的在这你要注意了啊，就是legency color value啊，get size就是取得这个箭头图标的大小，get style就是获取它的这个样式啊。

就是然后get test会有它的这个文字内容啊，get test那cola呀，get笔记cola是吧啊，Get a text point name，Get text size，attribute啊。

这个就说完了，其实这些都是咱们之前学过的内容啊，你把前面的弄明白了，其实这些都不用再过多的去讲了，好那咱们讲这个绘图里边最后一个叫警示，警示，其实就是提醒的意思啊，就比如说咱们从这给大家做了个解释。

盘中我们可能会同时观察多个商品，可能无法全面及时的看到所有的信息，我们可以在指标内设定这个警示条件，在符合特定情况的时候会发出警示，提醒我们有状况发生啊，这样的话即使我们没有盯盘，也不会漏掉啊。

任何的情况呃，指标呢可以设定啊，就是警示条件在符合特定条件的时候，例如这个KD指标的环境交叉，自动对我们发出警示提醒，警示信息啊，包含了来源商品周期价格和自定义的文字说明。

除了在指标脚本中加入警示指令之外，我们还必须在指标的警示属性页面，启动警示功能，这一点要注意啊，不是说在这个就是咱们的代码里边，写上警示指令就可以了，你必须得在这个指标的警示属性页面，启动警示功能。

也就是咱们一直在说的。

![](img/31e842400a7419576b6505e7f3c464c0_63.png)

比如说这个设置这个指标，然后设置你一定要把这个警报要启动它才可以。

![](img/31e842400a7419576b6505e7f3c464c0_65.png)

它才会响，或者给你弹出一个黄色的框框啊，它才会就是做这些动作，如果说你只在代码里边写了。

![](img/31e842400a7419576b6505e7f3c464c0_67.png)

然后你没有把那个警示打开的话也不行，呃，MC呢可以产生三种警示声音，弹出警示框或者邮件，我们可以依照自己的需求来自行选择，当然也可以三者同时，警示出发的时间呢有两种选择，完成K线。

这怎么是A2线K线触发或者maybe行情出发，也就是说你是每笔行情触发，你都发，还是就是说我这个K线走完了再发，选择哪种也是你自己的需求而定，但如果说指标是有信号搭配使用的啊，建议是和信号是否启用。

K线内委托属性设置一致，什么意思，嗯咱们之前一直在讲，就是说你其其实是可以，就是咱们之前写的这个demo21啊，如果说你把这个intro8。

就这个东西就是i n t i a intro by order generation，等于true，给打开的话，给打开的话就说明你会来接收TIK行情的哦，会接收T个行情的，会接收TIK行情呃。

就是当你一旦嗯就是接收TK行情的时候。

![](img/31e842400a7419576b6505e7f3c464c0_69.png)

你K线没走完，比如说我从这画一根线啊，比如说我从这划一根线，比如说我这个是我最新的K线，它一直在跳动是吧，它可能上下摆动，一旦就是说你这个K线没走完，它每一秒的这个价格，就算做当前K线的这个收盘价。

所以说这个收盘价会上下的这么跃动是吧，跳动跳动的时候，如果完成上穿或下穿了，他也会认为是上传和下穿，能理解我这个意思吗，就是如果说你把这个打开了的话，呃，一般比如说我设置一个。



![](img/31e842400a7419576b6505e7f3c464c0_71.png)

我插入一个信号啊，我把这个信号给他插进来。

![](img/31e842400a7419576b6505e7f3c464c0_73.png)

你可以从这里边啊，不是从属性这进行一个设置，就是你自动交易的时候啊，就是回啊，咱们回测的时候吧，就是当价格触及限价或者穿价时，现价单完全成交额，这个是用，啊应该是在哪个属性啊。

这就是单个就是允许最多允许多多少笔，与目前仓位同向的进程，就是什么意思呢，就是如果说你这点了写了个一笔，你打开了这个就是这个嗯。



![](img/31e842400a7419576b6505e7f3c464c0_75.png)

就是就是这个可以坝内交易，他在这根坝里边满足条件，他也会只进一笔啊。

![](img/31e842400a7419576b6505e7f3c464c0_77.png)

也只会进一笔，如果说你这选十啊，你这写十它会进十笔啊。

![](img/31e842400a7419576b6505e7f3c464c0_79.png)

这个能理解我的意思吗，它是通过这个来控制的。

![](img/31e842400a7419576b6505e7f3c464c0_81.png)

但是啊一般你都不会在那个上面写，你一般咱们都用什么MP等于market position，就是会获取实时仓位，然后这个用这个mp来进行一下判定，当然这是一个变量啊，我没有写用这个MP来进行一个判定。

你这个mp如果说等于100了的话，我就我就不再进行开仓了吗，你前面会加一个条件嘛，对吧啊，这是一般的，就是说在实际使用过程中的就是这么一个逻辑，后边咱们会具体讲，也会给大家做演示。

挑一个就是说有这个开盘和收盘呃，不是有这个行情的时候，咱们给大家演示一下，就是当你有这个的时候，其实你这个变量的这个什么里边，就是说这个设定里边，VR一般都会有这个intro bar persist。

比如说我定义一个VA20啊，这个里边比如说我接收这个收盘价啊，你这个V20，就是说它会根据tick来进行更新的，咱们之前给大家做过演示啊，根据tick来进行更新的，它等于的这个close。

他就是每一笔即可来了，他就会把这个价格付给他，但是啊当他往回去回缩的时候。

![](img/31e842400a7419576b6505e7f3c464c0_83.png)

这样它是回溯的是绑定的这个图表，它不会说回溯它上一个就是上一笔tick的，它会回溯它前一根K线的啊。

![](img/31e842400a7419576b6505e7f3c464c0_85.png)

这个咱们可以提前说一下，给大家加深一个印象，嗯这说到了这个intro border generation了，就给大家说一下啊，这个内容，所以其实这个你想把它研究明白了，还是挺复杂的对吧嗯。

你需要去琢磨它，而且你又看不到这个代码的底层，包括我之前看这个MC在一两年前吧，他是有这个论坛呃，34年前了，他是有这个论坛的，有这个论坛啊，看到这个论坛，其实论坛里边有一些嗯解释的也不是特别狠。

就是也不是特别清楚啊，究极这个究其原因啊，还是看不到底层代码，你不知道它的逻辑是什么一个情况，你只能是通过回测来判定，所以说你一定要学会用print输出去进行回测，然后去进行观察，包括实盘的时候。

你要进行观察，有一些特别耦合的情况，你不知道是什么原因的时候，你一定要坐下来好好的去分析好吧，咱们接着讲这个这个这个这个警示啊，咱们刚才说就是一般情况下都会呃，就是指标和这个信号搭配使用的时候。

就是设置为一致。

![](img/31e842400a7419576b6505e7f3c464c0_87.png)

什么叫设置为一致，一般情况下咱们指标啊设置这个指标。

![](img/31e842400a7419576b6505e7f3c464c0_89.png)

它的这个设置呃，就是都是每笔资料都更新的对吧，所以说他你你这个时候，如果说每笔资料都更新的话，咱们之前的演示大家也看过，它会每一笔都会刷新，这个时候你的信号就是你这个信号，最好是每笔都刷新。

然后配合着这个指标，如果说你的信号是一根K线完成了，你猜就是说走一遍代码，那你这个指标你就给它设置成，把每笔资料都更新，给它关掉啊，让它变成一根K线也更新。



![](img/31e842400a7419576b6505e7f3c464c0_91.png)

这个你最好是搭配起来来使用好吧，这就是它的意思。

![](img/31e842400a7419576b6505e7f3c464c0_93.png)

因为从查明开始开始讲这个指标和信号的时候，就反复说指标和信号的区别在哪啊，它们的区别在哪啊，若有启用K线内委托，则警示设定为选择每笔行情触发啊。



![](img/31e842400a7419576b6505e7f3c464c0_95.png)

这个就涉及到这个警示嘛，就设置这个指标设置就这个警报呃。

![](img/31e842400a7419576b6505e7f3c464c0_97.png)

你就写每笔行情触发。

![](img/31e842400a7419576b6505e7f3c464c0_99.png)

maybe tick来进行触发啊。

![](img/31e842400a7419576b6505e7f3c464c0_101.png)

如果说你是呃一根K线走完了啊，你就把它设成每个坝收盘时进行触发，这个每根坝一次，你可以自己去测试一下，我觉得应该是开盘吧，因为这个都有收盘了，对吧啊，然后这个下面的这个声音，你可以自己去录一个声音。

然后去读取它，嗯就是比较麻烦一点，弹出警报，这个通知是五秒，你可以呃给他设一下那个通知，一会给大家看一下电子邮件，这个我没有用过，就是但是嗯应该不是那么特别麻烦。

就是你需要其实它跟那个VNPY那个挺像的，就是你需要找到你的这个QQ里边的，或者你的这个邮件，它的设置里边SMTP服务器啊，名称或者IP地址给写进去，然后记得把这个端口号啊，就是啊这个端口号呃。

你你自己试一下吧，然后这个你需要有一个验证码，就是你绑定了，你需要一个验呃，需要一个验证码的啊，然后你又其既得有发送者，又得有接收者，一般这个邮件地址都是写一样的啊，就是自己发给自己一个邮件。

然后把那个邮件呢，然后设成你这个微信的这个提醒邮件，这样的话呢就开一笔仓位，他就会发一个邮件，开一笔仓位就会发一个邮件，如果有兴趣的话，你可以看我哔哩哔哩的那个课，就是最开始的那套课。

就是设置这个维纳那个开源平台，用Python写的那个开源平台，他那个里边有个是邮件设置，应该是最后一节课设置邮件的那个是怎么设的，这个应该是一样的，同样的都是用的这个呃SMTP这个服务。

服务器还是什么的啊，就是有兴趣的可以去看一下，好吧好。

![](img/31e842400a7419576b6505e7f3c464c0_103.png)

那咱们就，往下走吧，这个就是弹出一个包含必要文本的警示窗口，文本可以是动态的，就是静态的或空文本啊，就这个怎么用啊，如果说收盘价就是大于前根K线的，这个就是收盘价，我就弹出一个静态的警报文本啊。

嗯注意了啊，这个这个就这个警报啊，一般是在最后一根K线上的，只显示在最后一根挂上面，你不然的话你一回测，你把这个警报一打开，你就反反复复的就会出现往外弹对吧，那就那就没法用了。

是不是从这儿从这儿咱们给大家演示一下，呃，用这个吧。

![](img/31e842400a7419576b6505e7f3c464c0_105.png)

嗯咱们看一下，咱们这个就是这个八线上。

![](img/31e842400a7419576b6505e7f3c464c0_107.png)

就是说如果说收盘价比前一根大，这是肯定的是吧，if for close大于close1s a l e RT alt，然后后边有这个参数，就是说明啊就是呃this is呃，上涨上涨就UER吧，Uer。

就这么写吧，就OK再alt然后进行一下编译，编译没有问题是吧。

![](img/31e842400a7419576b6505e7f3c464c0_109.png)

然后我把它设置这个信号加载的，状态打开一下close啊。

![](img/31e842400a7419576b6505e7f3c464c0_111.png)

这个时候啥也没弹出，因为你这个信号的警报没打开是吧。

![](img/31e842400a7419576b6505e7f3c464c0_113.png)

属性警报启用啊，然后就放这个钉啊，就放一次，然后弹出五秒确定close。

![](img/31e842400a7419576b6505e7f3c464c0_115.png)

听见这个声音没，然后我给大家截个屏啊。

![](img/31e842400a7419576b6505e7f3c464c0_117.png)

![](img/31e842400a7419576b6505e7f3c464c0_118.png)

哎呀不行，这一截屏就没了，它是一个黄色的警报，黄色的警报，我再试一下啊。

![](img/31e842400a7419576b6505e7f3c464c0_120.png)

![](img/31e842400a7419576b6505e7f3c464c0_121.png)

设置信号应该是啊状态。

![](img/31e842400a7419576b6505e7f3c464c0_123.png)

好接上了啊。

![](img/31e842400a7419576b6505e7f3c464c0_125.png)

然后我用画图。

![](img/31e842400a7419576b6505e7f3c464c0_127.png)

把它给粘过来，就是这个东西啊，就是这个就是这个，你看这是消息吧，this is a upper啊，然后呃来源是这个demo21是吧，商品是这个2301周期是5分钟，然后还有个价，就是还有这个价格啊。

它就是这个东西好吧。

![](img/31e842400a7419576b6505e7f3c464c0_129.png)

就是会弹出这样的一个警报，同时伴随着一个声音啊。

![](img/31e842400a7419576b6505e7f3c464c0_131.png)

这个就是警报，其实别的就没什么了啊，没什么，你只要注意它的，咱们之前反复在说的这个设置，这个指标你是设置成就是说每一个tick都响，还是一根结束了再想，这个是你需要考量的，然后如果说你要配合信号的话。

你一定要注意跟信号的搭配，因为本身初始设置的时候，指标是每一个tick都更新的，但是信号只是一根K线，完了才更新一次，所以说你要搭配使用的话，一定要把它们设置成是一样的啊，好吧啊。

这个第二个是check，就是检查这个警示啊，是有没有打开，如果说是就是启用了的话，返回true，如果说没启用的话，返回false，咱们可以看一下啊，Cheer art，然后给它直接print吧。

CHEERT它是一个它没有参数是吧，就直接输出就可以了啊，让我进行下编译是吧，他又有了，然后输，然后输出是true，就是最后一根K线的时候打开了啊，然后前面的都是false，因为你不是在实盘里边的啊。

好这是检查啊，如果说我把这个关了，就说这设置指标哎。

![](img/31e842400a7419576b6505e7f3c464c0_133.png)

我是在信号里边是吧，属性然后警报就把它给关掉。

![](img/31e842400a7419576b6505e7f3c464c0_135.png)

然后这个时候我在啊设置一下信号状态。

![](img/31e842400a7419576b6505e7f3c464c0_137.png)

好状态啊。

![](img/31e842400a7419576b6505e7f3c464c0_139.png)

它就没有了，然后你输出的就全是false了是吧，咱们刚才最后一根是输，是输出的是true，对不对，这是简称，然后cancer就是停止，就是取消警报，就是用于脚本中警报过多的时候。

在某些条件下关闭一些警报啊，如果说你都设置了，然后设置的特别密，然后你就是一直在想。

![](img/31e842400a7419576b6505e7f3c464c0_141.png)

或者说你把这个在这个里边，你设置信号的时候，你把这个属性这个警报给设置上呃，就是重复播放。

![](img/31e842400a7419576b6505e7f3c464c0_143.png)

哎呀这就麻烦了是吧，就麻烦了，可能这个也想那个也想就就乱了套了。

![](img/31e842400a7419576b6505e7f3c464c0_145.png)

还有一个就是play sound，就是啊播放指定的这个音效文件，这个我没去试过，我没去试过，大家可以去试一下，你一定要把这个它的这个路径写清楚了，然后一定要是WAV格式的，就是如果说满足条件了。

我就play sound，你完全可以在这个警报里边去设，你没必要自己写对吧，那这个整个的绘图呢咱们就讲完了啊，后边呢就讲这个咱们最为重要的，也是大家最为关心的就是这个交易委托，就是这个交易信号。

还有投资组合啊，后边会给大家详细讲，也是结合实际的咱们的这个策略去讲，前面的这些虽然看起来好像就是比较枯燥，但是你如果想把MC学通透了，然后不浪费你的钱，你一定要把前面的这些东西一定要好好看一看。

然后最最重要的就是理解他的这个，执行的机制啊，执行的机制一定不要认为他会怎么怎么样啊，这个会自动给你怎么怎么样，就是不要去高估它，当然你也不要去低估这个代码，但是一定不要高估它。

你认为它会怎么样给你自动的怎么怎么样啊。

![](img/31e842400a7419576b6505e7f3c464c0_147.png)